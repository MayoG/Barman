var $R=Object.defineProperty;var DE=c=>{throw TypeError(c)};var KR=(c,t,e)=>t in c?$R(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var St=(c,t,e)=>KR(c,typeof t!="symbol"?t+"":t,e),_b=(c,t,e)=>t.has(c)||DE("Cannot "+e);var h=(c,t,e)=>(_b(c,t,"read from private field"),e?e.call(c):t.get(c)),R=(c,t,e)=>t.has(c)?DE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(c):t.set(c,e),_=(c,t,e,s)=>(_b(c,t,"write to private field"),s?s.call(c,e):t.set(c,e),e),w=(c,t,e)=>(_b(c,t,"access private method"),e);var Cn=(c,t,e,s)=>({set _(r){_(c,t,r,e)},get _(){return h(c,t,s)}});function WR(c,t){for(var e=0;e<t.length;e++){const s=t[e];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in c)){const l=Object.getOwnPropertyDescriptor(s,r);l&&Object.defineProperty(c,r,l.get?l:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function P_(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var wb={exports:{}},dh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function QR(){if(OE)return dh;OE=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,l){var u=null;if(l!==void 0&&(u=""+l),r.key!==void 0&&(u=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:c,type:s,key:u,ref:r!==void 0?r:null,props:l}}return dh.Fragment=t,dh.jsx=e,dh.jsxs=e,dh}var kE;function ZR(){return kE||(kE=1,wb.exports=QR()),wb.exports}var et=ZR(),xb={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function JR(){if(NE)return Rt;NE=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function M(k,$,nt){this.props=k,this.context=$,this.refs=x,this.updater=nt||A}M.prototype.isReactComponent={},M.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function T(){}T.prototype=M.prototype;function O(k,$,nt){this.props=k,this.context=$,this.refs=x,this.updater=nt||A}var L=O.prototype=new T;L.constructor=O,S(L,M.prototype),L.isPureReactComponent=!0;var N=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function G(k,$,nt,tt,ot,wt){return nt=wt.ref,{$$typeof:c,type:k,key:$,ref:nt!==void 0?nt:null,props:wt}}function W(k,$){return G(k.type,$,void 0,void 0,void 0,k.props)}function J(k){return typeof k=="object"&&k!==null&&k.$$typeof===c}function st(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(nt){return $[nt]})}var it=/\/+/g;function gt(k,$){return typeof k=="object"&&k!==null&&k.key!=null?st(""+k.key):$.toString(36)}function yt(){}function ft(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(yt,yt):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ht(k,$,nt,tt,ot){var wt=typeof k;(wt==="undefined"||wt==="boolean")&&(k=null);var ct=!1;if(k===null)ct=!0;else switch(wt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(k.$$typeof){case c:case t:ct=!0;break;case m:return ct=k._init,ht(ct(k._payload),$,nt,tt,ot)}}if(ct)return ot=ot(k),ct=tt===""?"."+gt(k,0):tt,N(ot)?(nt="",ct!=null&&(nt=ct.replace(it,"$&/")+"/"),ht(ot,$,nt,"",function(Re){return Re})):ot!=null&&(J(ot)&&(ot=W(ot,nt+(ot.key==null||k&&k.key===ot.key?"":(""+ot.key).replace(it,"$&/")+"/")+ct)),$.push(ot)),1;ct=0;var xt=tt===""?".":tt+":";if(N(k))for(var It=0;It<k.length;It++)tt=k[It],wt=xt+gt(tt,It),ct+=ht(tt,$,nt,wt,ot);else if(It=v(k),typeof It=="function")for(k=It.call(k),It=0;!(tt=k.next()).done;)tt=tt.value,wt=xt+gt(tt,It++),ct+=ht(tt,$,nt,wt,ot);else if(wt==="object"){if(typeof k.then=="function")return ht(ft(k),$,nt,tt,ot);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ct}function U(k,$,nt){if(k==null)return k;var tt=[],ot=0;return ht(k,tt,"","",function(wt){return $.call(nt,wt,ot++)}),tt}function X(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(nt){(k._status===0||k._status===-1)&&(k._status=1,k._result=nt)},function(nt){(k._status===0||k._status===-1)&&(k._status=2,k._result=nt)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var Z=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function _t(){}return Rt.Children={map:U,forEach:function(k,$,nt){U(k,function(){$.apply(this,arguments)},nt)},count:function(k){var $=0;return U(k,function(){$++}),$},toArray:function(k){return U(k,function($){return $})||[]},only:function(k){if(!J(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Rt.Component=M,Rt.Fragment=e,Rt.Profiler=r,Rt.PureComponent=O,Rt.StrictMode=s,Rt.Suspense=f,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return H.H.useMemoCache(k)}},Rt.cache=function(k){return function(){return k.apply(null,arguments)}},Rt.cloneElement=function(k,$,nt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var tt=S({},k.props),ot=k.key,wt=void 0;if($!=null)for(ct in $.ref!==void 0&&(wt=void 0),$.key!==void 0&&(ot=""+$.key),$)!B.call($,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&$.ref===void 0||(tt[ct]=$[ct]);var ct=arguments.length-2;if(ct===1)tt.children=nt;else if(1<ct){for(var xt=Array(ct),It=0;It<ct;It++)xt[It]=arguments[It+2];tt.children=xt}return G(k.type,ot,void 0,void 0,wt,tt)},Rt.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Rt.createElement=function(k,$,nt){var tt,ot={},wt=null;if($!=null)for(tt in $.key!==void 0&&(wt=""+$.key),$)B.call($,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ot[tt]=$[tt]);var ct=arguments.length-2;if(ct===1)ot.children=nt;else if(1<ct){for(var xt=Array(ct),It=0;It<ct;It++)xt[It]=arguments[It+2];ot.children=xt}if(k&&k.defaultProps)for(tt in ct=k.defaultProps,ct)ot[tt]===void 0&&(ot[tt]=ct[tt]);return G(k,wt,void 0,void 0,null,ot)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(k){return{$$typeof:d,render:k}},Rt.isValidElement=J,Rt.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:X}},Rt.memo=function(k,$){return{$$typeof:g,type:k,compare:$===void 0?null:$}},Rt.startTransition=function(k){var $=H.T,nt={};H.T=nt;try{var tt=k(),ot=H.S;ot!==null&&ot(nt,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(_t,Z)}catch(wt){Z(wt)}finally{H.T=$}},Rt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Rt.use=function(k){return H.H.use(k)},Rt.useActionState=function(k,$,nt){return H.H.useActionState(k,$,nt)},Rt.useCallback=function(k,$){return H.H.useCallback(k,$)},Rt.useContext=function(k){return H.H.useContext(k)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(k,$){return H.H.useDeferredValue(k,$)},Rt.useEffect=function(k,$,nt){var tt=H.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(k,$)},Rt.useId=function(){return H.H.useId()},Rt.useImperativeHandle=function(k,$,nt){return H.H.useImperativeHandle(k,$,nt)},Rt.useInsertionEffect=function(k,$){return H.H.useInsertionEffect(k,$)},Rt.useLayoutEffect=function(k,$){return H.H.useLayoutEffect(k,$)},Rt.useMemo=function(k,$){return H.H.useMemo(k,$)},Rt.useOptimistic=function(k,$){return H.H.useOptimistic(k,$)},Rt.useReducer=function(k,$,nt){return H.H.useReducer(k,$,nt)},Rt.useRef=function(k){return H.H.useRef(k)},Rt.useState=function(k){return H.H.useState(k)},Rt.useSyncExternalStore=function(k,$,nt){return H.H.useSyncExternalStore(k,$,nt)},Rt.useTransition=function(){return H.H.useTransition()},Rt.version="19.1.0",Rt}var PE;function g0(){return PE||(PE=1,xb.exports=JR()),xb.exports}var F=g0();const tM=P_(F),FE=WR({__proto__:null,default:tM},[F]);var Tb={exports:{}},fh={},Cb={exports:{}},Rb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function eM(){return HE||(HE=1,function(c){function t(U,X){var Z=U.length;U.push(X);t:for(;0<Z;){var _t=Z-1>>>1,k=U[_t];if(0<r(k,X))U[_t]=X,U[Z]=k,Z=_t;else break t}}function e(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var X=U[0],Z=U.pop();if(Z!==X){U[0]=Z;t:for(var _t=0,k=U.length,$=k>>>1;_t<$;){var nt=2*(_t+1)-1,tt=U[nt],ot=nt+1,wt=U[ot];if(0>r(tt,Z))ot<k&&0>r(wt,tt)?(U[_t]=wt,U[ot]=Z,_t=ot):(U[_t]=tt,U[nt]=Z,_t=nt);else if(ot<k&&0>r(wt,Z))U[_t]=wt,U[ot]=Z,_t=ot;else break t}}return X}function r(U,X){var Z=U.sortIndex-X.sortIndex;return Z!==0?Z:U.id-X.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;c.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();c.unstable_now=function(){return u.now()-d}}var f=[],g=[],m=1,b=null,v=3,A=!1,S=!1,x=!1,M=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function N(U){for(var X=e(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=U)s(g),X.sortIndex=X.expirationTime,t(f,X);else break;X=e(g)}}function H(U){if(x=!1,N(U),!S)if(e(f)!==null)S=!0,B||(B=!0,gt());else{var X=e(g);X!==null&&ht(H,X.startTime-U)}}var B=!1,G=-1,W=5,J=-1;function st(){return M?!0:!(c.unstable_now()-J<W)}function it(){if(M=!1,B){var U=c.unstable_now();J=U;var X=!0;try{t:{S=!1,x&&(x=!1,O(G),G=-1),A=!0;var Z=v;try{e:{for(N(U),b=e(f);b!==null&&!(b.expirationTime>U&&st());){var _t=b.callback;if(typeof _t=="function"){b.callback=null,v=b.priorityLevel;var k=_t(b.expirationTime<=U);if(U=c.unstable_now(),typeof k=="function"){b.callback=k,N(U),X=!0;break e}b===e(f)&&s(f),N(U)}else s(f);b=e(f)}if(b!==null)X=!0;else{var $=e(g);$!==null&&ht(H,$.startTime-U),X=!1}}break t}finally{b=null,v=Z,A=!1}X=void 0}}finally{X?gt():B=!1}}}var gt;if(typeof L=="function")gt=function(){L(it)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,ft=yt.port2;yt.port1.onmessage=it,gt=function(){ft.postMessage(null)}}else gt=function(){T(it,0)};function ht(U,X){G=T(function(){U(c.unstable_now())},X)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(U){U.callback=null},c.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},c.unstable_getCurrentPriorityLevel=function(){return v},c.unstable_next=function(U){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var Z=v;v=X;try{return U()}finally{v=Z}},c.unstable_requestPaint=function(){M=!0},c.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=v;v=U;try{return X()}finally{v=Z}},c.unstable_scheduleCallback=function(U,X,Z){var _t=c.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?_t+Z:_t):Z=_t,U){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Z+k,U={id:m++,callback:X,priorityLevel:U,startTime:Z,expirationTime:k,sortIndex:-1},Z>_t?(U.sortIndex=Z,t(g,U),e(f)===null&&U===e(g)&&(x?(O(G),G=-1):x=!0,ht(H,Z-_t))):(U.sortIndex=k,t(f,U),S||A||(S=!0,B||(B=!0,gt()))),U},c.unstable_shouldYield=st,c.unstable_wrapCallback=function(U){var X=v;return function(){var Z=v;v=X;try{return U.apply(this,arguments)}finally{v=Z}}}}(Rb)),Rb}var zE;function nM(){return zE||(zE=1,Cb.exports=eM()),Cb.exports}var Mb={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function iM(){if(IE)return mn;IE=1;var c=g0();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,g,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:f,containerInfo:g,implementation:m}}var u=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(f,g,null,m)},mn.flushSync=function(f){var g=u.T,m=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=g,s.p=m,s.d.f()}},mn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},mn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},mn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,b=d(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:A}):m==="script"&&s.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=d(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},mn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,b=d(m,g.crossOrigin);s.d.L(f,m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=d(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},mn.requestFormReset=function(f){s.d.r(f)},mn.unstable_batchedUpdates=function(f,g){return f(g)},mn.useFormState=function(f,g,m){return u.H.useFormState(f,g,m)},mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var UE;function sM(){if(UE)return Mb.exports;UE=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),Mb.exports=iM(),Mb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function aM(){if(BE)return fh;BE=1;var c=nM(),t=g0(),e=sM();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function f(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,o=i;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(o=p.return,o!==null){a=o;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return d(p),n;if(y===o)return d(p),i;y=y.sibling}throw Error(s(188))}if(a.return!==o.return)a=p,o=y;else{for(var E=!1,C=p.child;C;){if(C===a){E=!0,a=p,o=y;break}if(C===o){E=!0,o=p,a=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===a){E=!0,a=y,o=p;break}if(C===o){E=!0,o=y,a=p;break}C=C.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),L=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),st=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function gt(n){return n===null||typeof n!="object"?null:(n=it&&n[it]||n["@@iterator"],typeof n=="function"?n:null)}var yt=Symbol.for("react.client.reference");function ft(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===yt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case M:return"Profiler";case x:return"StrictMode";case H:return"Suspense";case B:return"SuspenseList";case J:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case L:return(n.displayName||"Context")+".Provider";case O:return(n._context.displayName||"Context")+".Consumer";case N:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return i=n.displayName||null,i!==null?i:ft(n.type)||"Memo";case W:i=n._payload,n=n._init;try{return ft(n(i))}catch{}}return null}var ht=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},_t=[],k=-1;function $(n){return{current:n}}function nt(n){0>k||(n.current=_t[k],_t[k]=null,k--)}function tt(n,i){k++,_t[k]=n.current,n.current=i}var ot=$(null),wt=$(null),ct=$(null),xt=$(null);function It(n,i){switch(tt(ct,i),tt(wt,n),tt(ot,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?aE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=aE(i),n=rE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}nt(ot),tt(ot,n)}function Re(){nt(ot),nt(wt),nt(ct)}function te(n){n.memoizedState!==null&&tt(xt,n);var i=ot.current,a=rE(i,n.type);i!==a&&(tt(wt,n),tt(ot,a))}function Ji(n){wt.current===n&&(nt(ot),nt(wt)),xt.current===n&&(nt(xt),lh._currentValue=Z)}var Rs=Object.prototype.hasOwnProperty,Yt=c.unstable_scheduleCallback,he=c.unstable_cancelCallback,Ve=c.unstable_shouldYield,Me=c.unstable_requestPaint,sn=c.unstable_now,kr=c.unstable_getCurrentPriorityLevel,gf=c.unstable_ImmediatePriority,mf=c.unstable_UserBlockingPriority,Ms=c.unstable_NormalPriority,cm=c.unstable_LowPriority,yf=c.unstable_IdlePriority,um=c.log,hm=c.unstable_setDisableYieldValue,Nr=null,Le=null;function Yn(n){if(typeof um=="function"&&hm(n),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Nr,n)}catch{}}var Xe=Math.clz32?Math.clz32:NT,gu=Math.log,kT=Math.LN2;function NT(n){return n>>>=0,n===0?32:31-(gu(n)/kT|0)|0}var bf=256,vf=4194304;function Pr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Af(n,i,a){var o=n.pendingLanes;if(o===0)return 0;var p=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var C=o&134217727;return C!==0?(o=C&~y,o!==0?p=Pr(o):(E&=C,E!==0?p=Pr(E):a||(a=C&~n,a!==0&&(p=Pr(a))))):(C=o&~y,C!==0?p=Pr(C):E!==0?p=Pr(E):a||(a=o&~n,a!==0&&(p=Pr(a)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,a=i&-i,y>=a||y===32&&(a&4194048)!==0)?i:p}function mu(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function PT(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j0(){var n=bf;return bf<<=1,(bf&4194048)===0&&(bf=256),n}function G0(){var n=vf;return vf<<=1,(vf&62914560)===0&&(vf=4194304),n}function dm(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function yu(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function FT(n,i,a,o,p,y){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,D=n.expirationTimes,j=n.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-Xe(a),Q=1<<Y;C[Y]=0,D[Y]=-1;var q=j[Y];if(q!==null)for(j[Y]=null,Y=0;Y<q.length;Y++){var V=q[Y];V!==null&&(V.lane&=-536870913)}a&=~Q}o!==0&&q0(n,o,0),y!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~i))}function q0(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var o=31-Xe(i);n.entangledLanes|=i,n.entanglements[o]=n.entanglements[o]|1073741824|a&4194090}function V0(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var o=31-Xe(a),p=1<<o;p&i|n[o]&i&&(n[o]|=i),a&=~p}}function fm(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function pm(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function X0(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:xE(n.type))}function HT(n,i){var a=X.p;try{return X.p=n,i()}finally{X.p=a}}var Ma=Math.random().toString(36).slice(2),pn="__reactFiber$"+Ma,Nn="__reactProps$"+Ma,po="__reactContainer$"+Ma,gm="__reactEvents$"+Ma,zT="__reactListeners$"+Ma,IT="__reactHandles$"+Ma,Y0="__reactResources$"+Ma,bu="__reactMarker$"+Ma;function mm(n){delete n[pn],delete n[Nn],delete n[gm],delete n[zT],delete n[IT]}function go(n){var i=n[pn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[po]||a[pn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=uE(n);n!==null;){if(a=n[pn])return a;n=uE(n)}return i}n=a,a=n.parentNode}return null}function mo(n){if(n=n[pn]||n[po]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function vu(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function yo(n){var i=n[Y0];return i||(i=n[Y0]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ye(n){n[bu]=!0}var $0=new Set,K0={};function Fr(n,i){bo(n,i),bo(n+"Capture",i)}function bo(n,i){for(K0[n]=i,n=0;n<i.length;n++)$0.add(i[n])}var UT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),W0={},Q0={};function BT(n){return Rs.call(Q0,n)?!0:Rs.call(W0,n)?!1:UT.test(n)?Q0[n]=!0:(W0[n]=!0,!1)}function Sf(n,i,a){if(BT(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ef(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Ls(n,i,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+o)}}var ym,Z0;function vo(n){if(ym===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ym=i&&i[1]||"",Z0=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ym+n+Z0}var bm=!1;function vm(n,i){if(!n||bm)return"";bm=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(V){var q=V}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(V){q=V}n.call(Q.prototype)}}else{try{throw Error()}catch(V){q=V}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(V){if(V&&q&&typeof V.stack=="string")return[V.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=o.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var D=E.split(`
`),j=C.split(`
`);for(p=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;if(o===D.length||p===j.length)for(o=D.length-1,p=j.length-1;1<=o&&0<=p&&D[o]!==j[p];)p--;for(;1<=o&&0<=p;o--,p--)if(D[o]!==j[p]){if(o!==1||p!==1)do if(o--,p--,0>p||D[o]!==j[p]){var Y=`
`+D[o].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=o&&0<=p);break}}}finally{bm=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?vo(a):""}function jT(n){switch(n.tag){case 26:case 27:case 5:return vo(n.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 15:return vm(n.type,!1);case 11:return vm(n.type.render,!1);case 1:return vm(n.type,!0);case 31:return vo("Activity");default:return""}}function J0(n){try{var i="";do i+=jT(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function tA(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function GT(n){var i=tA(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),o=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){o=""+E,y.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function _f(n){n._valueTracker||(n._valueTracker=GT(n))}function eA(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return n&&(o=tA(n)?n.checked?"true":"false":n.value),n=o,n!==a?(i.setValue(n),!0):!1}function wf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var qT=/[\n"\\]/g;function gi(n){return n.replace(qT,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Am(n,i,a,o,p,y,E,C){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+pi(i)):n.value!==""+pi(i)&&(n.value=""+pi(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Sm(n,E,pi(i)):a!=null?Sm(n,E,pi(a)):o!=null&&n.removeAttribute("value"),p==null&&y!=null&&(n.defaultChecked=!!y),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+pi(C):n.removeAttribute("name")}function nA(n,i,a,o,p,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;a=a!=null?""+pi(a):"",i=i!=null?""+pi(i):a,C||i===n.value||(n.value=i),n.defaultValue=i}o=o??p,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=C?n.checked:!!o,n.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Sm(n,i,a){i==="number"&&wf(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ao(n,i,a,o){if(n=n.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<n.length;a++)p=i.hasOwnProperty("$"+n[a].value),n[a].selected!==p&&(n[a].selected=p),p&&o&&(n[a].defaultSelected=!0)}else{for(a=""+pi(a),i=null,p=0;p<n.length;p++){if(n[p].value===a){n[p].selected=!0,o&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function iA(n,i,a){if(i!=null&&(i=""+pi(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+pi(a):""}function sA(n,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(ht(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=pi(i),n.defaultValue=a,o=n.textContent,o===a&&o!==""&&o!==null&&(n.value=o)}function So(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var VT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function aA(n,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":o?n.setProperty(i,a):typeof a!="number"||a===0||VT.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function rA(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var p in i)o=i[p],i.hasOwnProperty(p)&&a[p]!==o&&aA(n,p,o)}else for(var y in i)i.hasOwnProperty(y)&&aA(n,y,i[y])}function Em(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xf(n){return YT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var _m=null;function wm(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Eo=null,_o=null;function lA(n){var i=mo(n);if(i&&(n=i.stateNode)){var a=n[Nn]||null;t:switch(n=i.stateNode,i.type){case"input":if(Am(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gi(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==n&&o.form===n.form){var p=o[Nn]||null;if(!p)throw Error(s(90));Am(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===n.form&&eA(o)}break t;case"textarea":iA(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ao(n,!!a.multiple,i,!1)}}}var xm=!1;function oA(n,i,a){if(xm)return n(i,a);xm=!0;try{var o=n(i);return o}finally{if(xm=!1,(Eo!==null||_o!==null)&&(up(),Eo&&(i=Eo,n=_o,_o=Eo=null,lA(i),n)))for(i=0;i<n.length;i++)lA(n[i])}}function Au(n,i){var a=n.stateNode;if(a===null)return null;var o=a[Nn]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tm=!1;if(Ds)try{var Su={};Object.defineProperty(Su,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",Su,Su),window.removeEventListener("test",Su,Su)}catch{Tm=!1}var La=null,Cm=null,Tf=null;function cA(){if(Tf)return Tf;var n,i=Cm,a=i.length,o,p="value"in La?La.value:La.textContent,y=p.length;for(n=0;n<a&&i[n]===p[n];n++);var E=a-n;for(o=1;o<=E&&i[a-o]===p[y-o];o++);return Tf=p.slice(n,1<o?1-o:void 0)}function Cf(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Rf(){return!0}function uA(){return!1}function Pn(n){function i(a,o,p,y,E){this._reactName=a,this._targetInst=p,this.type=o,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Rf:uA,this.isPropagationStopped=uA,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),i}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=Pn(Hr),Eu=m({},Hr,{view:0,detail:0}),$T=Pn(Eu),Rm,Mm,_u,Lf=m({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dm,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_u&&(_u&&n.type==="mousemove"?(Rm=n.screenX-_u.screenX,Mm=n.screenY-_u.screenY):Mm=Rm=0,_u=n),Rm)},movementY:function(n){return"movementY"in n?n.movementY:Mm}}),hA=Pn(Lf),KT=m({},Lf,{dataTransfer:0}),WT=Pn(KT),QT=m({},Eu,{relatedTarget:0}),Lm=Pn(QT),ZT=m({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),JT=Pn(ZT),tC=m({},Hr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),eC=Pn(tC),nC=m({},Hr,{data:0}),dA=Pn(nC),iC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rC(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=aC[n])?!!i[n]:!1}function Dm(){return rC}var lC=m({},Eu,{key:function(n){if(n.key){var i=iC[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Cf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dm,charCode:function(n){return n.type==="keypress"?Cf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),oC=Pn(lC),cC=m({},Lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fA=Pn(cC),uC=m({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dm}),hC=Pn(uC),dC=m({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fC=Pn(dC),pC=m({},Lf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),gC=Pn(pC),mC=m({},Hr,{newState:0,oldState:0}),yC=Pn(mC),bC=[9,13,27,32],Om=Ds&&"CompositionEvent"in window,wu=null;Ds&&"documentMode"in document&&(wu=document.documentMode);var vC=Ds&&"TextEvent"in window&&!wu,pA=Ds&&(!Om||wu&&8<wu&&11>=wu),gA=" ",mA=!1;function yA(n,i){switch(n){case"keyup":return bC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wo=!1;function AC(n,i){switch(n){case"compositionend":return bA(i);case"keypress":return i.which!==32?null:(mA=!0,gA);case"textInput":return n=i.data,n===gA&&mA?null:n;default:return null}}function SC(n,i){if(wo)return n==="compositionend"||!Om&&yA(n,i)?(n=cA(),Tf=Cm=La=null,wo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pA&&i.locale!=="ko"?null:i.data;default:return null}}var EC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vA(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!EC[n.type]:i==="textarea"}function AA(n,i,a,o){Eo?_o?_o.push(o):_o=[o]:Eo=o,i=mp(i,"onChange"),0<i.length&&(a=new Mf("onChange","change",null,a,o),n.push({event:a,listeners:i}))}var xu=null,Tu=null;function _C(n){tE(n,0)}function Df(n){var i=vu(n);if(eA(i))return n}function SA(n,i){if(n==="change")return i}var EA=!1;if(Ds){var km;if(Ds){var Nm="oninput"in document;if(!Nm){var _A=document.createElement("div");_A.setAttribute("oninput","return;"),Nm=typeof _A.oninput=="function"}km=Nm}else km=!1;EA=km&&(!document.documentMode||9<document.documentMode)}function wA(){xu&&(xu.detachEvent("onpropertychange",xA),Tu=xu=null)}function xA(n){if(n.propertyName==="value"&&Df(Tu)){var i=[];AA(i,Tu,n,wm(n)),oA(_C,i)}}function wC(n,i,a){n==="focusin"?(wA(),xu=i,Tu=a,xu.attachEvent("onpropertychange",xA)):n==="focusout"&&wA()}function xC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Df(Tu)}function TC(n,i){if(n==="click")return Df(i)}function CC(n,i){if(n==="input"||n==="change")return Df(i)}function RC(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var $n=typeof Object.is=="function"?Object.is:RC;function Cu(n,i){if($n(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var p=a[o];if(!Rs.call(i,p)||!$n(n[p],i[p]))return!1}return!0}function TA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function CA(n,i){var a=TA(n);n=0;for(var o;a;){if(a.nodeType===3){if(o=n+a.textContent.length,n<=i&&o>=i)return{node:a,offset:i-n};n=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=TA(a)}}function RA(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?RA(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function MA(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=wf(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=wf(n.document)}return i}function Pm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var MC=Ds&&"documentMode"in document&&11>=document.documentMode,xo=null,Fm=null,Ru=null,Hm=!1;function LA(n,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hm||xo==null||xo!==wf(o)||(o=xo,"selectionStart"in o&&Pm(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ru&&Cu(Ru,o)||(Ru=o,o=mp(Fm,"onSelect"),0<o.length&&(i=new Mf("onSelect","select",null,i,a),n.push({event:i,listeners:o}),i.target=xo)))}function zr(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var To={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},zm={},DA={};Ds&&(DA=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Ir(n){if(zm[n])return zm[n];if(!To[n])return n;var i=To[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in DA)return zm[n]=i[a];return n}var OA=Ir("animationend"),kA=Ir("animationiteration"),NA=Ir("animationstart"),LC=Ir("transitionrun"),DC=Ir("transitionstart"),OC=Ir("transitioncancel"),PA=Ir("transitionend"),FA=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function ki(n,i){FA.set(n,i),Fr(i,[n])}var HA=new WeakMap;function mi(n,i){if(typeof n=="object"&&n!==null){var a=HA.get(n);return a!==void 0?a:(i={value:n,source:i,stack:J0(i)},HA.set(n,i),i)}return{value:n,source:i,stack:J0(i)}}var yi=[],Co=0,Um=0;function Of(){for(var n=Co,i=Um=Co=0;i<n;){var a=yi[i];yi[i++]=null;var o=yi[i];yi[i++]=null;var p=yi[i];yi[i++]=null;var y=yi[i];if(yi[i++]=null,o!==null&&p!==null){var E=o.pending;E===null?p.next=p:(p.next=E.next,E.next=p),o.pending=p}y!==0&&zA(a,p,y)}}function kf(n,i,a,o){yi[Co++]=n,yi[Co++]=i,yi[Co++]=a,yi[Co++]=o,Um|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function Bm(n,i,a,o){return kf(n,i,a,o),Nf(n)}function Ro(n,i){return kf(n,null,null,i),Nf(n)}function zA(n,i,a){n.lanes|=a;var o=n.alternate;o!==null&&(o.lanes|=a);for(var p=!1,y=n.return;y!==null;)y.childLanes|=a,o=y.alternate,o!==null&&(o.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(p=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,p&&i!==null&&(p=31-Xe(a),n=y.hiddenUpdates,o=n[p],o===null?n[p]=[i]:o.push(i),i.lane=a|536870912),y):null}function Nf(n){if(50<Ju)throw Ju=0,Yy=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Mo={};function kC(n,i,a,o){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(n,i,a,o){return new kC(n,i,a,o)}function jm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Os(n,i){var a=n.alternate;return a===null?(a=Kn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function IA(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Pf(n,i,a,o,p,y){var E=0;if(o=n,typeof n=="function")jm(n)&&(E=1);else if(typeof n=="string")E=PR(n,a,ot.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case J:return n=Kn(31,a,i,p),n.elementType=J,n.lanes=y,n;case S:return Ur(a.children,p,y,i);case x:E=8,p|=24;break;case M:return n=Kn(12,a,i,p|2),n.elementType=M,n.lanes=y,n;case H:return n=Kn(13,a,i,p),n.elementType=H,n.lanes=y,n;case B:return n=Kn(19,a,i,p),n.elementType=B,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case L:E=10;break t;case O:E=9;break t;case N:E=11;break t;case G:E=14;break t;case W:E=16,o=null;break t}E=29,a=Error(s(130,n===null?"null":typeof n,"")),o=null}return i=Kn(E,a,i,p),i.elementType=n,i.type=o,i.lanes=y,i}function Ur(n,i,a,o){return n=Kn(7,n,o,i),n.lanes=a,n}function Gm(n,i,a){return n=Kn(6,n,null,i),n.lanes=a,n}function qm(n,i,a){return i=Kn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Lo=[],Do=0,Ff=null,Hf=0,bi=[],vi=0,Br=null,ks=1,Ns="";function jr(n,i){Lo[Do++]=Hf,Lo[Do++]=Ff,Ff=n,Hf=i}function UA(n,i,a){bi[vi++]=ks,bi[vi++]=Ns,bi[vi++]=Br,Br=n;var o=ks;n=Ns;var p=32-Xe(o)-1;o&=~(1<<p),a+=1;var y=32-Xe(i)+p;if(30<y){var E=p-p%5;y=(o&(1<<E)-1).toString(32),o>>=E,p-=E,ks=1<<32-Xe(i)+p|a<<p|o,Ns=y+n}else ks=1<<y|a<<p|o,Ns=n}function Vm(n){n.return!==null&&(jr(n,1),UA(n,1,0))}function Xm(n){for(;n===Ff;)Ff=Lo[--Do],Lo[Do]=null,Hf=Lo[--Do],Lo[Do]=null;for(;n===Br;)Br=bi[--vi],bi[vi]=null,Ns=bi[--vi],bi[vi]=null,ks=bi[--vi],bi[vi]=null}var Tn=null,Ae=null,Gt=!1,Gr=null,ts=!1,Ym=Error(s(519));function qr(n){var i=Error(s(418,""));throw Du(mi(i,n)),Ym}function BA(n){var i=n.stateNode,a=n.type,o=n.memoizedProps;switch(i[pn]=n,i[Nn]=o,a){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(a=0;a<eh.length;a++)Ht(eh[a],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":Ht("invalid",i),nA(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),_f(i);break;case"select":Ht("invalid",i);break;case"textarea":Ht("invalid",i),sA(i,o.value,o.defaultValue,o.children),_f(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||sE(i.textContent,a)?(o.popover!=null&&(Ht("beforetoggle",i),Ht("toggle",i)),o.onScroll!=null&&Ht("scroll",i),o.onScrollEnd!=null&&Ht("scrollend",i),o.onClick!=null&&(i.onclick=yp),i=!0):i=!1,i||qr(n)}function jA(n){for(Tn=n.return;Tn;)switch(Tn.tag){case 5:case 13:ts=!1;return;case 27:case 3:ts=!0;return;default:Tn=Tn.return}}function Mu(n){if(n!==Tn)return!1;if(!Gt)return jA(n),Gt=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||cb(n.type,n.memoizedProps)),a=!a),a&&Ae&&qr(n),jA(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Ae=Pi(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Ae=null}}else i===27?(i=Ae,Xa(n.type)?(n=fb,fb=null,Ae=n):Ae=i):Ae=Tn?Pi(n.stateNode.nextSibling):null;return!0}function Lu(){Ae=Tn=null,Gt=!1}function GA(){var n=Gr;return n!==null&&(zn===null?zn=n:zn.push.apply(zn,n),Gr=null),n}function Du(n){Gr===null?Gr=[n]:Gr.push(n)}var $m=$(null),Vr=null,Ps=null;function Da(n,i,a){tt($m,i._currentValue),i._currentValue=a}function Fs(n){n._currentValue=$m.current,nt($m)}function Km(n,i,a){for(;n!==null;){var o=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),n===a)break;n=n.return}}function Wm(n,i,a,o){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=p;for(var D=0;D<i.length;D++)if(C.context===i[D]){y.lanes|=a,C=y.alternate,C!==null&&(C.lanes|=a),Km(y.return,a,n),o||(E=null);break t}y=C.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(s(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),Km(E,a,n),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===n){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Ou(n,i,a,o){n=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var C=p.type;$n(p.pendingProps.value,E.value)||(n!==null?n.push(C):n=[C])}}else if(p===xt.current){if(E=p.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(lh):n=[lh])}p=p.return}n!==null&&Wm(i,n,a,o),i.flags|=262144}function zf(n){for(n=n.firstContext;n!==null;){if(!$n(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xr(n){Vr=n,Ps=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function gn(n){return qA(Vr,n)}function If(n,i){return Vr===null&&Xr(n),qA(n,i)}function qA(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ps===null){if(n===null)throw Error(s(308));Ps=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ps=Ps.next=i;return a}var NC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,o){n.push(o)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},PC=c.unstable_scheduleCallback,FC=c.unstable_NormalPriority,He={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new NC,data:new Map,refCount:0}}function ku(n){n.refCount--,n.refCount===0&&PC(FC,function(){n.controller.abort()})}var Nu=null,Zm=0,Oo=0,ko=null;function HC(n,i){if(Nu===null){var a=Nu=[];Zm=0,Oo=tb(),ko={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Zm++,i.then(VA,VA),i}function VA(){if(--Zm===0&&Nu!==null){ko!==null&&(ko.status="fulfilled");var n=Nu;Nu=null,Oo=0,ko=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function zC(n,i){var a=[],o={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return n.then(function(){o.status="fulfilled",o.value=i;for(var p=0;p<a.length;p++)(0,a[p])(i)},function(p){for(o.status="rejected",o.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),o}var XA=U.S;U.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&HC(n,i),XA!==null&&XA(n,i)};var Yr=$(null);function Jm(){var n=Yr.current;return n!==null?n:oe.pooledCache}function Uf(n,i){i===null?tt(Yr,Yr.current):tt(Yr,i.pool)}function YA(){var n=Jm();return n===null?null:{parent:He._currentValue,pool:n}}var Pu=Error(s(460)),$A=Error(s(474)),Bf=Error(s(542)),ty={then:function(){}};function KA(n){return n=n.status,n==="fulfilled"||n==="rejected"}function jf(){}function WA(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(jf,jf),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ZA(n),n;default:if(typeof i.status=="string")i.then(jf,jf);else{if(n=oe,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(o){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=o}},function(o){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ZA(n),n}throw Fu=i,Pu}}var Fu=null;function QA(){if(Fu===null)throw Error(s(459));var n=Fu;return Fu=null,n}function ZA(n){if(n===Pu||n===Bf)throw Error(s(483))}var Oa=!1;function ey(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ny(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ka(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Na(n,i,a){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var p=o.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),o.pending=i,i=Nf(n),zA(n,null,a),i}return kf(n,o,i,a),Nf(n)}function Hu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=n.pendingLanes,a|=o,i.lanes=a,V0(n,a)}}function iy(n,i){var a=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?p=y=i:y=y.next=i}else p=y=i;a={baseState:o.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:o.shared,callbacks:o.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var sy=!1;function zu(){if(sy){var n=ko;if(n!==null)throw n}}function Iu(n,i,a,o){sy=!1;var p=n.updateQueue;Oa=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var D=C,j=D.next;D.next=null,E===null?y=j:E.next=j,E=D;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==E&&(C===null?Y.firstBaseUpdate=j:C.next=j,Y.lastBaseUpdate=D))}if(y!==null){var Q=p.baseState;E=0,Y=j=D=null,C=y;do{var q=C.lane&-536870913,V=q!==C.lane;if(V?(Bt&q)===q:(o&q)===q){q!==0&&q===Oo&&(sy=!0),Y!==null&&(Y=Y.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var At=n,bt=C;q=i;var ie=a;switch(bt.tag){case 1:if(At=bt.payload,typeof At=="function"){Q=At.call(ie,Q,q);break t}Q=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=bt.payload,q=typeof At=="function"?At.call(ie,Q,q):At,q==null)break t;Q=m({},Q,q);break t;case 2:Oa=!0}}q=C.callback,q!==null&&(n.flags|=64,V&&(n.flags|=8192),V=p.callbacks,V===null?p.callbacks=[q]:V.push(q))}else V={lane:q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(j=Y=V,D=Q):Y=Y.next=V,E|=q;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;V=C,C=V.next,V.next=null,p.lastBaseUpdate=V,p.shared.pending=null}}while(!0);Y===null&&(D=Q),p.baseState=D,p.firstBaseUpdate=j,p.lastBaseUpdate=Y,y===null&&(p.shared.lanes=0),ja|=E,n.lanes=E,n.memoizedState=Q}}function JA(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function tS(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)JA(a[n],i)}var No=$(null),Gf=$(0);function eS(n,i){n=Gs,tt(Gf,n),tt(No,i),Gs=n|i.baseLanes}function ay(){tt(Gf,Gs),tt(No,No.current)}function ry(){Gs=Gf.current,nt(No),nt(Gf)}var Pa=0,Dt=null,ee=null,De=null,qf=!1,Po=!1,$r=!1,Vf=0,Uu=0,Fo=null,IC=0;function we(){throw Error(s(321))}function ly(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!$n(n[a],i[a]))return!1;return!0}function oy(n,i,a,o,p,y){return Pa=y,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=n===null||n.memoizedState===null?zS:IS,$r=!1,y=a(o,p),$r=!1,Po&&(y=iS(i,a,o,p)),nS(n),y}function nS(n){U.H=Qf;var i=ee!==null&&ee.next!==null;if(Pa=0,De=ee=Dt=null,qf=!1,Uu=0,Fo=null,i)throw Error(s(300));n===null||$e||(n=n.dependencies,n!==null&&zf(n)&&($e=!0))}function iS(n,i,a,o){Dt=n;var p=0;do{if(Po&&(Fo=null),Uu=0,Po=!1,25<=p)throw Error(s(301));if(p+=1,De=ee=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}U.H=XC,y=i(a,o)}while(Po);return y}function UC(){var n=U.H,i=n.useState()[0];return i=typeof i.then=="function"?Bu(i):i,n=n.useState()[0],(ee!==null?ee.memoizedState:null)!==n&&(Dt.flags|=1024),i}function cy(){var n=Vf!==0;return Vf=0,n}function uy(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function hy(n){if(qf){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}qf=!1}Pa=0,De=ee=Dt=null,Po=!1,Uu=Vf=0,Fo=null}function Fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Dt.memoizedState=De=n:De=De.next=n,De}function Oe(){if(ee===null){var n=Dt.alternate;n=n!==null?n.memoizedState:null}else n=ee.next;var i=De===null?Dt.memoizedState:De.next;if(i!==null)De=i,ee=n;else{if(n===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));ee=n,n={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},De===null?Dt.memoizedState=De=n:De=De.next=n}return De}function dy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bu(n){var i=Uu;return Uu+=1,Fo===null&&(Fo=[]),n=WA(Fo,n,i),i=Dt,(De===null?i.memoizedState:De.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?zS:IS),n}function Xf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bu(n);if(n.$$typeof===L)return gn(n)}throw Error(s(438,String(n)))}function fy(n){var i=null,a=Dt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dy(),Dt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),o=0;o<n;o++)a[o]=st;return i.index++,a}function Hs(n,i){return typeof i=="function"?i(n):i}function Yf(n){var i=Oe();return py(i,ee,n)}function py(n,i,a){var o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var p=n.baseQueue,y=o.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}i.baseQueue=p=y,o.pending=null}if(y=n.baseState,p===null)n.memoizedState=y;else{i=p.next;var C=E=null,D=null,j=i,Y=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(Bt&Q)===Q:(Pa&Q)===Q){var q=j.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===Oo&&(Y=!0);else if((Pa&q)===q){j=j.next,q===Oo&&(Y=!0);continue}else Q={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(C=D=Q,E=y):D=D.next=Q,Dt.lanes|=q,ja|=q;Q=j.action,$r&&a(y,Q),y=j.hasEagerState?j.eagerState:a(y,Q)}else q={lane:Q,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(C=D=q,E=y):D=D.next=q,Dt.lanes|=Q,ja|=Q;j=j.next}while(j!==null&&j!==i);if(D===null?E=y:D.next=C,!$n(y,n.memoizedState)&&($e=!0,Y&&(a=ko,a!==null)))throw a;n.memoizedState=y,n.baseState=E,n.baseQueue=D,o.lastRenderedState=y}return p===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function gy(n){var i=Oe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var o=a.dispatch,p=a.pending,y=i.memoizedState;if(p!==null){a.pending=null;var E=p=p.next;do y=n(y,E.action),E=E.next;while(E!==p);$n(y,i.memoizedState)||($e=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,o]}function sS(n,i,a){var o=Dt,p=Oe(),y=Gt;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!$n((ee||p).memoizedState,a);E&&(p.memoizedState=a,$e=!0),p=p.queue;var C=lS.bind(null,o,p,n);if(ju(2048,8,C,[n]),p.getSnapshot!==i||E||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,Ho(9,$f(),rS.bind(null,o,p,a,i),null),oe===null)throw Error(s(349));y||(Pa&124)!==0||aS(o,i,a)}return a}function aS(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Dt.updateQueue,i===null?(i=dy(),Dt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function rS(n,i,a,o){i.value=a,i.getSnapshot=o,oS(i)&&cS(n)}function lS(n,i,a){return a(function(){oS(i)&&cS(n)})}function oS(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!$n(n,a)}catch{return!0}}function cS(n){var i=Ro(n,2);i!==null&&ti(i,n,2)}function my(n){var i=Fn();if(typeof n=="function"){var a=n;if(n=a(),$r){Yn(!0);try{a()}finally{Yn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},i}function uS(n,i,a,o){return n.baseState=a,py(n,ee,typeof o=="function"?o:Hs)}function BC(n,i,a,o,p){if(Wf(n))throw Error(s(485));if(n=i.action,n!==null){var y={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};U.T!==null?a(!0):y.isTransition=!1,o(y),a=i.pending,a===null?(y.next=i.pending=y,hS(i,y)):(y.next=a.next,i.pending=a.next=y)}}function hS(n,i){var a=i.action,o=i.payload,p=n.state;if(i.isTransition){var y=U.T,E={};U.T=E;try{var C=a(p,o),D=U.S;D!==null&&D(E,C),dS(n,i,C)}catch(j){yy(n,i,j)}finally{U.T=y}}else try{y=a(p,o),dS(n,i,y)}catch(j){yy(n,i,j)}}function dS(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){fS(n,i,o)},function(o){return yy(n,i,o)}):fS(n,i,a)}function fS(n,i,a){i.status="fulfilled",i.value=a,pS(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,hS(n,a)))}function yy(n,i,a){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,pS(i),i=i.next;while(i!==o)}n.action=null}function pS(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function gS(n,i){return i}function mS(n,i){if(Gt){var a=oe.formState;if(a!==null){t:{var o=Dt;if(Gt){if(Ae){e:{for(var p=Ae,y=ts;p.nodeType!==8;){if(!y){p=null;break e}if(p=Pi(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Ae=Pi(p.nextSibling),o=p.data==="F!";break t}}qr(o)}o=!1}o&&(i=a[0])}}return a=Fn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gS,lastRenderedState:i},a.queue=o,a=PS.bind(null,Dt,o),o.dispatch=a,o=my(!1),y=Ey.bind(null,Dt,!1,o.queue),o=Fn(),p={state:i,dispatch:null,action:n,pending:null},o.queue=p,a=BC.bind(null,Dt,p,y,a),p.dispatch=a,o.memoizedState=n,[i,a,!1]}function yS(n){var i=Oe();return bS(i,ee,n)}function bS(n,i,a){if(i=py(n,i,gS)[0],n=Yf(Hs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Bu(i)}catch(E){throw E===Pu?Bf:E}else o=i;i=Oe();var p=i.queue,y=p.dispatch;return a!==i.memoizedState&&(Dt.flags|=2048,Ho(9,$f(),jC.bind(null,p,a),null)),[o,y,n]}function jC(n,i){n.action=i}function vS(n){var i=Oe(),a=ee;if(a!==null)return bS(i,a,n);Oe(),i=i.memoizedState,a=Oe();var o=a.queue.dispatch;return a.memoizedState=n,[i,o,!1]}function Ho(n,i,a,o){return n={tag:n,create:a,deps:o,inst:i,next:null},i=Dt.updateQueue,i===null&&(i=dy(),Dt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(o=a.next,a.next=n,n.next=o,i.lastEffect=n),n}function $f(){return{destroy:void 0,resource:void 0}}function AS(){return Oe().memoizedState}function Kf(n,i,a,o){var p=Fn();o=o===void 0?null:o,Dt.flags|=n,p.memoizedState=Ho(1|i,$f(),a,o)}function ju(n,i,a,o){var p=Oe();o=o===void 0?null:o;var y=p.memoizedState.inst;ee!==null&&o!==null&&ly(o,ee.memoizedState.deps)?p.memoizedState=Ho(i,y,a,o):(Dt.flags|=n,p.memoizedState=Ho(1|i,y,a,o))}function SS(n,i){Kf(8390656,8,n,i)}function ES(n,i){ju(2048,8,n,i)}function _S(n,i){return ju(4,2,n,i)}function wS(n,i){return ju(4,4,n,i)}function xS(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function TS(n,i,a){a=a!=null?a.concat([n]):null,ju(4,4,xS.bind(null,i,n),a)}function by(){}function CS(n,i){var a=Oe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&ly(i,o[1])?o[0]:(a.memoizedState=[n,i],n)}function RS(n,i){var a=Oe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&ly(i,o[1]))return o[0];if(o=n(),$r){Yn(!0);try{n()}finally{Yn(!1)}}return a.memoizedState=[o,i],o}function vy(n,i,a){return a===void 0||(Pa&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=D1(),Dt.lanes|=n,ja|=n,a)}function MS(n,i,a,o){return $n(a,i)?a:No.current!==null?(n=vy(n,a,o),$n(n,i)||($e=!0),n):(Pa&42)===0?($e=!0,n.memoizedState=a):(n=D1(),Dt.lanes|=n,ja|=n,i)}function LS(n,i,a,o,p){var y=X.p;X.p=y!==0&&8>y?y:8;var E=U.T,C={};U.T=C,Ey(n,!1,i,a);try{var D=p(),j=U.S;if(j!==null&&j(C,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=zC(D,o);Gu(n,i,Y,Jn(n))}else Gu(n,i,o,Jn(n))}catch(Q){Gu(n,i,{then:function(){},status:"rejected",reason:Q},Jn())}finally{X.p=y,U.T=E}}function GC(){}function Ay(n,i,a,o){if(n.tag!==5)throw Error(s(476));var p=DS(n).queue;LS(n,p,i,Z,a===null?GC:function(){return OS(n),a(o)})}function DS(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:Z},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function OS(n){var i=DS(n).next.queue;Gu(n,i,{},Jn())}function Sy(){return gn(lh)}function kS(){return Oe().memoizedState}function NS(){return Oe().memoizedState}function qC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Jn();n=ka(a);var o=Na(i,n,a);o!==null&&(ti(o,i,a),Hu(o,i,a)),i={cache:Qm()},n.payload=i;return}i=i.return}}function VC(n,i,a){var o=Jn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wf(n)?FS(i,a):(a=Bm(n,i,a,o),a!==null&&(ti(a,n,o),HS(a,i,o)))}function PS(n,i,a){var o=Jn();Gu(n,i,a,o)}function Gu(n,i,a,o){var p={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wf(n))FS(i,p);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,C=y(E,a);if(p.hasEagerState=!0,p.eagerState=C,$n(C,E))return kf(n,i,p,0),oe===null&&Of(),!1}catch{}finally{}if(a=Bm(n,i,p,o),a!==null)return ti(a,n,o),HS(a,i,o),!0}return!1}function Ey(n,i,a,o){if(o={lane:2,revertLane:tb(),action:o,hasEagerState:!1,eagerState:null,next:null},Wf(n)){if(i)throw Error(s(479))}else i=Bm(n,a,o,2),i!==null&&ti(i,n,2)}function Wf(n){var i=n.alternate;return n===Dt||i!==null&&i===Dt}function FS(n,i){Po=qf=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function HS(n,i,a){if((a&4194048)!==0){var o=i.lanes;o&=n.pendingLanes,a|=o,i.lanes=a,V0(n,a)}}var Qf={readContext:gn,use:Xf,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we},zS={readContext:gn,use:Xf,useCallback:function(n,i){return Fn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:SS,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Kf(4194308,4,xS.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Kf(4194308,4,n,i)},useInsertionEffect:function(n,i){Kf(4,2,n,i)},useMemo:function(n,i){var a=Fn();i=i===void 0?null:i;var o=n();if($r){Yn(!0);try{n()}finally{Yn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(n,i,a){var o=Fn();if(a!==void 0){var p=a(i);if($r){Yn(!0);try{a(i)}finally{Yn(!1)}}}else p=i;return o.memoizedState=o.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},o.queue=n,n=n.dispatch=VC.bind(null,Dt,n),[o.memoizedState,n]},useRef:function(n){var i=Fn();return n={current:n},i.memoizedState=n},useState:function(n){n=my(n);var i=n.queue,a=PS.bind(null,Dt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:by,useDeferredValue:function(n,i){var a=Fn();return vy(a,n,i)},useTransition:function(){var n=my(!1);return n=LS.bind(null,Dt,n.queue,!0,!1),Fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var o=Dt,p=Fn();if(Gt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),oe===null)throw Error(s(349));(Bt&124)!==0||aS(o,i,a)}p.memoizedState=a;var y={value:a,getSnapshot:i};return p.queue=y,SS(lS.bind(null,o,y,n),[n]),o.flags|=2048,Ho(9,$f(),rS.bind(null,o,y,a,i),null),a},useId:function(){var n=Fn(),i=oe.identifierPrefix;if(Gt){var a=Ns,o=ks;a=(o&~(1<<32-Xe(o)-1)).toString(32)+a,i=""+i+"R"+a,a=Vf++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=IC++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Sy,useFormState:mS,useActionState:mS,useOptimistic:function(n){var i=Fn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ey.bind(null,Dt,!0,a),a.dispatch=i,[n,i]},useMemoCache:fy,useCacheRefresh:function(){return Fn().memoizedState=qC.bind(null,Dt)}},IS={readContext:gn,use:Xf,useCallback:CS,useContext:gn,useEffect:ES,useImperativeHandle:TS,useInsertionEffect:_S,useLayoutEffect:wS,useMemo:RS,useReducer:Yf,useRef:AS,useState:function(){return Yf(Hs)},useDebugValue:by,useDeferredValue:function(n,i){var a=Oe();return MS(a,ee.memoizedState,n,i)},useTransition:function(){var n=Yf(Hs)[0],i=Oe().memoizedState;return[typeof n=="boolean"?n:Bu(n),i]},useSyncExternalStore:sS,useId:kS,useHostTransitionStatus:Sy,useFormState:yS,useActionState:yS,useOptimistic:function(n,i){var a=Oe();return uS(a,ee,n,i)},useMemoCache:fy,useCacheRefresh:NS},XC={readContext:gn,use:Xf,useCallback:CS,useContext:gn,useEffect:ES,useImperativeHandle:TS,useInsertionEffect:_S,useLayoutEffect:wS,useMemo:RS,useReducer:gy,useRef:AS,useState:function(){return gy(Hs)},useDebugValue:by,useDeferredValue:function(n,i){var a=Oe();return ee===null?vy(a,n,i):MS(a,ee.memoizedState,n,i)},useTransition:function(){var n=gy(Hs)[0],i=Oe().memoizedState;return[typeof n=="boolean"?n:Bu(n),i]},useSyncExternalStore:sS,useId:kS,useHostTransitionStatus:Sy,useFormState:vS,useActionState:vS,useOptimistic:function(n,i){var a=Oe();return ee!==null?uS(a,ee,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:fy,useCacheRefresh:NS},zo=null,qu=0;function Zf(n){var i=qu;return qu+=1,zo===null&&(zo=[]),WA(zo,n,i)}function Vu(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Jf(n,i){throw i.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function US(n){var i=n._init;return i(n._payload)}function BS(n){function i(z,P){if(n){var I=z.deletions;I===null?(z.deletions=[P],z.flags|=16):I.push(P)}}function a(z,P){if(!n)return null;for(;P!==null;)i(z,P),P=P.sibling;return null}function o(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function p(z,P){return z=Os(z,P),z.index=0,z.sibling=null,z}function y(z,P,I){return z.index=I,n?(I=z.alternate,I!==null?(I=I.index,I<P?(z.flags|=67108866,P):I):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function C(z,P,I,K){return P===null||P.tag!==6?(P=Gm(I,z.mode,K),P.return=z,P):(P=p(P,I),P.return=z,P)}function D(z,P,I,K){var ut=I.type;return ut===S?Y(z,P,I.props.children,K,I.key):P!==null&&(P.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===W&&US(ut)===P.type)?(P=p(P,I.props),Vu(P,I),P.return=z,P):(P=Pf(I.type,I.key,I.props,null,z.mode,K),Vu(P,I),P.return=z,P)}function j(z,P,I,K){return P===null||P.tag!==4||P.stateNode.containerInfo!==I.containerInfo||P.stateNode.implementation!==I.implementation?(P=qm(I,z.mode,K),P.return=z,P):(P=p(P,I.children||[]),P.return=z,P)}function Y(z,P,I,K,ut){return P===null||P.tag!==7?(P=Ur(I,z.mode,K,ut),P.return=z,P):(P=p(P,I),P.return=z,P)}function Q(z,P,I){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Gm(""+P,z.mode,I),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return I=Pf(P.type,P.key,P.props,null,z.mode,I),Vu(I,P),I.return=z,I;case A:return P=qm(P,z.mode,I),P.return=z,P;case W:var K=P._init;return P=K(P._payload),Q(z,P,I)}if(ht(P)||gt(P))return P=Ur(P,z.mode,I,null),P.return=z,P;if(typeof P.then=="function")return Q(z,Zf(P),I);if(P.$$typeof===L)return Q(z,If(z,P),I);Jf(z,P)}return null}function q(z,P,I,K){var ut=P!==null?P.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ut!==null?null:C(z,P,""+I,K);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case v:return I.key===ut?D(z,P,I,K):null;case A:return I.key===ut?j(z,P,I,K):null;case W:return ut=I._init,I=ut(I._payload),q(z,P,I,K)}if(ht(I)||gt(I))return ut!==null?null:Y(z,P,I,K,null);if(typeof I.then=="function")return q(z,P,Zf(I),K);if(I.$$typeof===L)return q(z,P,If(z,I),K);Jf(z,I)}return null}function V(z,P,I,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return z=z.get(I)||null,C(P,z,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return z=z.get(K.key===null?I:K.key)||null,D(P,z,K,ut);case A:return z=z.get(K.key===null?I:K.key)||null,j(P,z,K,ut);case W:var Nt=K._init;return K=Nt(K._payload),V(z,P,I,K,ut)}if(ht(K)||gt(K))return z=z.get(I)||null,Y(P,z,K,ut,null);if(typeof K.then=="function")return V(z,P,I,Zf(K),ut);if(K.$$typeof===L)return V(z,P,I,If(P,K),ut);Jf(P,K)}return null}function At(z,P,I,K){for(var ut=null,Nt=null,pt=P,vt=P=0,We=null;pt!==null&&vt<I.length;vt++){pt.index>vt?(We=pt,pt=null):We=pt.sibling;var jt=q(z,pt,I[vt],K);if(jt===null){pt===null&&(pt=We);break}n&&pt&&jt.alternate===null&&i(z,pt),P=y(jt,P,vt),Nt===null?ut=jt:Nt.sibling=jt,Nt=jt,pt=We}if(vt===I.length)return a(z,pt),Gt&&jr(z,vt),ut;if(pt===null){for(;vt<I.length;vt++)pt=Q(z,I[vt],K),pt!==null&&(P=y(pt,P,vt),Nt===null?ut=pt:Nt.sibling=pt,Nt=pt);return Gt&&jr(z,vt),ut}for(pt=o(pt);vt<I.length;vt++)We=V(pt,z,vt,I[vt],K),We!==null&&(n&&We.alternate!==null&&pt.delete(We.key===null?vt:We.key),P=y(We,P,vt),Nt===null?ut=We:Nt.sibling=We,Nt=We);return n&&pt.forEach(function(Qa){return i(z,Qa)}),Gt&&jr(z,vt),ut}function bt(z,P,I,K){if(I==null)throw Error(s(151));for(var ut=null,Nt=null,pt=P,vt=P=0,We=null,jt=I.next();pt!==null&&!jt.done;vt++,jt=I.next()){pt.index>vt?(We=pt,pt=null):We=pt.sibling;var Qa=q(z,pt,jt.value,K);if(Qa===null){pt===null&&(pt=We);break}n&&pt&&Qa.alternate===null&&i(z,pt),P=y(Qa,P,vt),Nt===null?ut=Qa:Nt.sibling=Qa,Nt=Qa,pt=We}if(jt.done)return a(z,pt),Gt&&jr(z,vt),ut;if(pt===null){for(;!jt.done;vt++,jt=I.next())jt=Q(z,jt.value,K),jt!==null&&(P=y(jt,P,vt),Nt===null?ut=jt:Nt.sibling=jt,Nt=jt);return Gt&&jr(z,vt),ut}for(pt=o(pt);!jt.done;vt++,jt=I.next())jt=V(pt,z,vt,jt.value,K),jt!==null&&(n&&jt.alternate!==null&&pt.delete(jt.key===null?vt:jt.key),P=y(jt,P,vt),Nt===null?ut=jt:Nt.sibling=jt,Nt=jt);return n&&pt.forEach(function(YR){return i(z,YR)}),Gt&&jr(z,vt),ut}function ie(z,P,I,K){if(typeof I=="object"&&I!==null&&I.type===S&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case v:t:{for(var ut=I.key;P!==null;){if(P.key===ut){if(ut=I.type,ut===S){if(P.tag===7){a(z,P.sibling),K=p(P,I.props.children),K.return=z,z=K;break t}}else if(P.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===W&&US(ut)===P.type){a(z,P.sibling),K=p(P,I.props),Vu(K,I),K.return=z,z=K;break t}a(z,P);break}else i(z,P);P=P.sibling}I.type===S?(K=Ur(I.props.children,z.mode,K,I.key),K.return=z,z=K):(K=Pf(I.type,I.key,I.props,null,z.mode,K),Vu(K,I),K.return=z,z=K)}return E(z);case A:t:{for(ut=I.key;P!==null;){if(P.key===ut)if(P.tag===4&&P.stateNode.containerInfo===I.containerInfo&&P.stateNode.implementation===I.implementation){a(z,P.sibling),K=p(P,I.children||[]),K.return=z,z=K;break t}else{a(z,P);break}else i(z,P);P=P.sibling}K=qm(I,z.mode,K),K.return=z,z=K}return E(z);case W:return ut=I._init,I=ut(I._payload),ie(z,P,I,K)}if(ht(I))return At(z,P,I,K);if(gt(I)){if(ut=gt(I),typeof ut!="function")throw Error(s(150));return I=ut.call(I),bt(z,P,I,K)}if(typeof I.then=="function")return ie(z,P,Zf(I),K);if(I.$$typeof===L)return ie(z,P,If(z,I),K);Jf(z,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,P!==null&&P.tag===6?(a(z,P.sibling),K=p(P,I),K.return=z,z=K):(a(z,P),K=Gm(I,z.mode,K),K.return=z,z=K),E(z)):a(z,P)}return function(z,P,I,K){try{qu=0;var ut=ie(z,P,I,K);return zo=null,ut}catch(pt){if(pt===Pu||pt===Bf)throw pt;var Nt=Kn(29,pt,null,z.mode);return Nt.lanes=K,Nt.return=z,Nt}finally{}}}var Io=BS(!0),jS=BS(!1),Ai=$(null),es=null;function Fa(n){var i=n.alternate;tt(ze,ze.current&1),tt(Ai,n),es===null&&(i===null||No.current!==null||i.memoizedState!==null)&&(es=n)}function GS(n){if(n.tag===22){if(tt(ze,ze.current),tt(Ai,n),es===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(es=n)}}else Ha()}function Ha(){tt(ze,ze.current),tt(Ai,Ai.current)}function zs(n){nt(Ai),es===n&&(es=null),nt(ze)}var ze=$(0);function tp(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||db(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function _y(n,i,a,o){i=n.memoizedState,a=a(o,i),a=a==null?i:m({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var wy={enqueueSetState:function(n,i,a){n=n._reactInternals;var o=Jn(),p=ka(o);p.payload=i,a!=null&&(p.callback=a),i=Na(n,p,o),i!==null&&(ti(i,n,o),Hu(i,n,o))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var o=Jn(),p=ka(o);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=Na(n,p,o),i!==null&&(ti(i,n,o),Hu(i,n,o))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Jn(),o=ka(a);o.tag=2,i!=null&&(o.callback=i),i=Na(n,o,a),i!==null&&(ti(i,n,a),Hu(i,n,a))}};function qS(n,i,a,o,p,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,y,E):i.prototype&&i.prototype.isPureReactComponent?!Cu(a,o)||!Cu(p,y):!0}function VS(n,i,a,o){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==n&&wy.enqueueReplaceState(i,i.state,null)}function Kr(n,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(n=n.defaultProps){a===i&&(a=m({},a));for(var p in n)a[p]===void 0&&(a[p]=n[p])}return a}var ep=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function XS(n){ep(n)}function YS(n){console.error(n)}function $S(n){ep(n)}function np(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function KS(n,i,a){try{var o=n.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function xy(n,i,a){return a=ka(a),a.tag=3,a.payload={element:null},a.callback=function(){np(n,i)},a}function WS(n){return n=ka(n),n.tag=3,n}function QS(n,i,a,o){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;n.payload=function(){return p(y)},n.callback=function(){KS(i,a,o)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){KS(i,a,o),typeof p!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})})}function YC(n,i,a,o,p){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ou(i,a,p,!0),a=Ai.current,a!==null){switch(a.tag){case 13:return es===null?Ky():a.alternate===null&&Se===0&&(Se=3),a.flags&=-257,a.flags|=65536,a.lanes=p,o===ty?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Qy(n,o,p)),!1;case 22:return a.flags|=65536,o===ty?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Qy(n,o,p)),!1}throw Error(s(435,a.tag))}return Qy(n,o,p),Ky(),!1}if(Gt)return i=Ai.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,o!==Ym&&(n=Error(s(422),{cause:o}),Du(mi(n,a)))):(o!==Ym&&(i=Error(s(423),{cause:o}),Du(mi(i,a))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,o=mi(o,a),p=xy(n.stateNode,o,p),iy(n,p),Se!==4&&(Se=2)),!1;var y=Error(s(520),{cause:o});if(y=mi(y,a),Zu===null?Zu=[y]:Zu.push(y),Se!==4&&(Se=2),i===null)return!0;o=mi(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=p&-p,a.lanes|=n,n=xy(a.stateNode,o,n),iy(a,n),!1;case 1:if(i=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ga===null||!Ga.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=WS(p),QS(p,n,a,o),iy(a,p),!1}a=a.return}while(a!==null);return!1}var ZS=Error(s(461)),$e=!1;function an(n,i,a,o){i.child=n===null?jS(i,null,a,o):Io(i,n.child,a,o)}function JS(n,i,a,o,p){a=a.render;var y=i.ref;if("ref"in o){var E={};for(var C in o)C!=="ref"&&(E[C]=o[C])}else E=o;return Xr(i),o=oy(n,i,a,E,y,p),C=cy(),n!==null&&!$e?(uy(n,i,p),Is(n,i,p)):(Gt&&C&&Vm(i),i.flags|=1,an(n,i,o,p),i.child)}function t1(n,i,a,o,p){if(n===null){var y=a.type;return typeof y=="function"&&!jm(y)&&y.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=y,e1(n,i,y,o,p)):(n=Pf(a.type,null,o,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!ky(n,p)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:Cu,a(E,o)&&n.ref===i.ref)return Is(n,i,p)}return i.flags|=1,n=Os(y,o),n.ref=i.ref,n.return=i,i.child=n}function e1(n,i,a,o,p){if(n!==null){var y=n.memoizedProps;if(Cu(y,o)&&n.ref===i.ref)if($e=!1,i.pendingProps=o=y,ky(n,p))(n.flags&131072)!==0&&($e=!0);else return i.lanes=n.lanes,Is(n,i,p)}return Ty(n,i,a,o,p)}function n1(n,i,a){var o=i.pendingProps,p=o.children,y=n!==null?n.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=y!==null?y.baseLanes|a:a,n!==null){for(p=i.child=n.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;i.childLanes=y&~o}else i.childLanes=0,i.child=null;return i1(n,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uf(i,y!==null?y.cachePool:null),y!==null?eS(i,y):ay(),GS(i);else return i.lanes=i.childLanes=536870912,i1(n,i,y!==null?y.baseLanes|a:a,a)}else y!==null?(Uf(i,y.cachePool),eS(i,y),Ha(),i.memoizedState=null):(n!==null&&Uf(i,null),ay(),Ha());return an(n,i,p,a),i.child}function i1(n,i,a,o){var p=Jm();return p=p===null?null:{parent:He._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},n!==null&&Uf(i,null),ay(),GS(i),n!==null&&Ou(n,i,o,!0),null}function ip(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Ty(n,i,a,o,p){return Xr(i),a=oy(n,i,a,o,void 0,p),o=cy(),n!==null&&!$e?(uy(n,i,p),Is(n,i,p)):(Gt&&o&&Vm(i),i.flags|=1,an(n,i,a,p),i.child)}function s1(n,i,a,o,p,y){return Xr(i),i.updateQueue=null,a=iS(i,o,a,p),nS(n),o=cy(),n!==null&&!$e?(uy(n,i,y),Is(n,i,y)):(Gt&&o&&Vm(i),i.flags|=1,an(n,i,a,y),i.child)}function a1(n,i,a,o,p){if(Xr(i),i.stateNode===null){var y=Mo,E=a.contextType;typeof E=="object"&&E!==null&&(y=gn(E)),y=new a(o,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=wy,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=o,y.state=i.memoizedState,y.refs={},ey(i),E=a.contextType,y.context=typeof E=="object"&&E!==null?gn(E):Mo,y.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(_y(i,a,E,o),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&wy.enqueueReplaceState(y,y.state,null),Iu(i,o,y,p),zu(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(n===null){y=i.stateNode;var C=i.memoizedProps,D=Kr(a,C);y.props=D;var j=y.context,Y=a.contextType;E=Mo,typeof Y=="object"&&Y!==null&&(E=gn(Y));var Q=a.getDerivedStateFromProps;Y=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||j!==E)&&VS(i,y,o,E),Oa=!1;var q=i.memoizedState;y.state=q,Iu(i,o,y,p),zu(),j=i.memoizedState,C||q!==j||Oa?(typeof Q=="function"&&(_y(i,a,Q,o),j=i.memoizedState),(D=Oa||qS(i,a,D,o,q,j,E))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),y.props=o,y.state=j,y.context=E,o=D):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{y=i.stateNode,ny(n,i),E=i.memoizedProps,Y=Kr(a,E),y.props=Y,Q=i.pendingProps,q=y.context,j=a.contextType,D=Mo,typeof j=="object"&&j!==null&&(D=gn(j)),C=a.getDerivedStateFromProps,(j=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==Q||q!==D)&&VS(i,y,o,D),Oa=!1,q=i.memoizedState,y.state=q,Iu(i,o,y,p),zu();var V=i.memoizedState;E!==Q||q!==V||Oa||n!==null&&n.dependencies!==null&&zf(n.dependencies)?(typeof C=="function"&&(_y(i,a,C,o),V=i.memoizedState),(Y=Oa||qS(i,a,Y,o,q,V,D)||n!==null&&n.dependencies!==null&&zf(n.dependencies))?(j||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(o,V,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(o,V,D)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=V),y.props=o,y.state=V,y.context=D,o=Y):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),o=!1)}return y=o,ip(n,i),o=(i.flags&128)!==0,y||o?(y=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&o?(i.child=Io(i,n.child,null,p),i.child=Io(i,null,a,p)):an(n,i,a,p),i.memoizedState=y.state,n=i.child):n=Is(n,i,p),n}function r1(n,i,a,o){return Lu(),i.flags|=256,an(n,i,a,o),i.child}var Cy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ry(n){return{baseLanes:n,cachePool:YA()}}function My(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Si),n}function l1(n,i,a){var o=i.pendingProps,p=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(ze.current&2)!==0),E&&(p=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Gt){if(p?Fa(i):Ha(),Gt){var C=Ae,D;if(D=C){t:{for(D=C,C=ts;D.nodeType!==8;){if(!C){C=null;break t}if(D=Pi(D.nextSibling),D===null){C=null;break t}}C=D}C!==null?(i.memoizedState={dehydrated:C,treeContext:Br!==null?{id:ks,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},D=Kn(18,null,null,0),D.stateNode=C,D.return=i,i.child=D,Tn=i,Ae=null,D=!0):D=!1}D||qr(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return db(C)?i.lanes=32:i.lanes=536870912,null;zs(i)}return C=o.children,o=o.fallback,p?(Ha(),p=i.mode,C=sp({mode:"hidden",children:C},p),o=Ur(o,p,a,null),C.return=i,o.return=i,C.sibling=o,i.child=C,p=i.child,p.memoizedState=Ry(a),p.childLanes=My(n,E,a),i.memoizedState=Cy,o):(Fa(i),Ly(i,C))}if(D=n.memoizedState,D!==null&&(C=D.dehydrated,C!==null)){if(y)i.flags&256?(Fa(i),i.flags&=-257,i=Dy(n,i,a)):i.memoizedState!==null?(Ha(),i.child=n.child,i.flags|=128,i=null):(Ha(),p=o.fallback,C=i.mode,o=sp({mode:"visible",children:o.children},C),p=Ur(p,C,a,null),p.flags|=2,o.return=i,p.return=i,o.sibling=p,i.child=o,Io(i,n.child,null,a),o=i.child,o.memoizedState=Ry(a),o.childLanes=My(n,E,a),i.memoizedState=Cy,i=p);else if(Fa(i),db(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var j=E.dgst;E=j,o=Error(s(419)),o.stack="",o.digest=E,Du({value:o,source:null,stack:null}),i=Dy(n,i,a)}else if($e||Ou(n,i,a,!1),E=(a&n.childLanes)!==0,$e||E){if(E=oe,E!==null&&(o=a&-a,o=(o&42)!==0?1:fm(o),o=(o&(E.suspendedLanes|a))!==0?0:o,o!==0&&o!==D.retryLane))throw D.retryLane=o,Ro(n,o),ti(E,n,o),ZS;C.data==="$?"||Ky(),i=Dy(n,i,a)}else C.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=D.treeContext,Ae=Pi(C.nextSibling),Tn=i,Gt=!0,Gr=null,ts=!1,n!==null&&(bi[vi++]=ks,bi[vi++]=Ns,bi[vi++]=Br,ks=n.id,Ns=n.overflow,Br=i),i=Ly(i,o.children),i.flags|=4096);return i}return p?(Ha(),p=o.fallback,C=i.mode,D=n.child,j=D.sibling,o=Os(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,j!==null?p=Os(j,p):(p=Ur(p,C,a,null),p.flags|=2),p.return=i,o.return=i,o.sibling=p,i.child=o,o=p,p=i.child,C=n.child.memoizedState,C===null?C=Ry(a):(D=C.cachePool,D!==null?(j=He._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=YA(),C={baseLanes:C.baseLanes|a,cachePool:D}),p.memoizedState=C,p.childLanes=My(n,E,a),i.memoizedState=Cy,o):(Fa(i),a=n.child,n=a.sibling,a=Os(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Ly(n,i){return i=sp({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function sp(n,i){return n=Kn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Dy(n,i,a){return Io(i,n.child,null,a),n=Ly(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function o1(n,i,a){n.lanes|=i;var o=n.alternate;o!==null&&(o.lanes|=i),Km(n.return,i,a)}function Oy(n,i,a,o,p){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=p)}function c1(n,i,a){var o=i.pendingProps,p=o.revealOrder,y=o.tail;if(an(n,i,o.children,a),o=ze.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&o1(n,a,i);else if(n.tag===19)o1(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(tt(ze,o),p){case"forwards":for(a=i.child,p=null;a!==null;)n=a.alternate,n!==null&&tp(n)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),Oy(i,!1,p,a,y);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&tp(n)===null){i.child=p;break}n=p.sibling,p.sibling=a,a=p,p=n}Oy(i,!0,a,null,y);break;case"together":Oy(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Is(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ja|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Ou(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Os(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Os(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function ky(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&zf(n)))}function $C(n,i,a){switch(i.tag){case 3:It(i,i.stateNode.containerInfo),Da(i,He,n.memoizedState.cache),Lu();break;case 27:case 5:te(i);break;case 4:It(i,i.stateNode.containerInfo);break;case 10:Da(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Fa(i),i.flags|=128,null):(a&i.child.childLanes)!==0?l1(n,i,a):(Fa(i),n=Is(n,i,a),n!==null?n.sibling:null);Fa(i);break;case 19:var p=(n.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ou(n,i,a,!1),o=(a&i.childLanes)!==0),p){if(o)return c1(n,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),tt(ze,ze.current),o)break;return null;case 22:case 23:return i.lanes=0,n1(n,i,a);case 24:Da(i,He,n.memoizedState.cache)}return Is(n,i,a)}function u1(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)$e=!0;else{if(!ky(n,a)&&(i.flags&128)===0)return $e=!1,$C(n,i,a);$e=(n.flags&131072)!==0}else $e=!1,Gt&&(i.flags&1048576)!==0&&UA(i,Hf,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var o=i.elementType,p=o._init;if(o=p(o._payload),i.type=o,typeof o=="function")jm(o)?(n=Kr(o,n),i.tag=1,i=a1(null,i,o,n,a)):(i.tag=0,i=Ty(null,i,o,n,a));else{if(o!=null){if(p=o.$$typeof,p===N){i.tag=11,i=JS(null,i,o,n,a);break t}else if(p===G){i.tag=14,i=t1(null,i,o,n,a);break t}}throw i=ft(o)||o,Error(s(306,i,""))}}return i;case 0:return Ty(n,i,i.type,i.pendingProps,a);case 1:return o=i.type,p=Kr(o,i.pendingProps),a1(n,i,o,p,a);case 3:t:{if(It(i,i.stateNode.containerInfo),n===null)throw Error(s(387));o=i.pendingProps;var y=i.memoizedState;p=y.element,ny(n,i),Iu(i,o,null,a);var E=i.memoizedState;if(o=E.cache,Da(i,He,o),o!==y.cache&&Wm(i,[He],a,!0),zu(),o=E.element,y.isDehydrated)if(y={element:o,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=r1(n,i,o,a);break t}else if(o!==p){p=mi(Error(s(424)),i),Du(p),i=r1(n,i,o,a);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ae=Pi(n.firstChild),Tn=i,Gt=!0,Gr=null,ts=!0,a=jS(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Lu(),o===p){i=Is(n,i,a);break t}an(n,i,o,a)}i=i.child}return i;case 26:return ip(n,i),n===null?(a=pE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Gt||(a=i.type,n=i.pendingProps,o=bp(ct.current).createElement(a),o[pn]=i,o[Nn]=n,ln(o,a,n),Ye(o),i.stateNode=o):i.memoizedState=pE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return te(i),n===null&&Gt&&(o=i.stateNode=hE(i.type,i.pendingProps,ct.current),Tn=i,ts=!0,p=Ae,Xa(i.type)?(fb=p,Ae=Pi(o.firstChild)):Ae=p),an(n,i,i.pendingProps.children,a),ip(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Gt&&((p=o=Ae)&&(o=ER(o,i.type,i.pendingProps,ts),o!==null?(i.stateNode=o,Tn=i,Ae=Pi(o.firstChild),ts=!1,p=!0):p=!1),p||qr(i)),te(i),p=i.type,y=i.pendingProps,E=n!==null?n.memoizedProps:null,o=y.children,cb(p,y)?o=null:E!==null&&cb(p,E)&&(i.flags|=32),i.memoizedState!==null&&(p=oy(n,i,UC,null,null,a),lh._currentValue=p),ip(n,i),an(n,i,o,a),i.child;case 6:return n===null&&Gt&&((n=a=Ae)&&(a=_R(a,i.pendingProps,ts),a!==null?(i.stateNode=a,Tn=i,Ae=null,n=!0):n=!1),n||qr(i)),null;case 13:return l1(n,i,a);case 4:return It(i,i.stateNode.containerInfo),o=i.pendingProps,n===null?i.child=Io(i,null,o,a):an(n,i,o,a),i.child;case 11:return JS(n,i,i.type,i.pendingProps,a);case 7:return an(n,i,i.pendingProps,a),i.child;case 8:return an(n,i,i.pendingProps.children,a),i.child;case 12:return an(n,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Da(i,i.type,o.value),an(n,i,o.children,a),i.child;case 9:return p=i.type._context,o=i.pendingProps.children,Xr(i),p=gn(p),o=o(p),i.flags|=1,an(n,i,o,a),i.child;case 14:return t1(n,i,i.type,i.pendingProps,a);case 15:return e1(n,i,i.type,i.pendingProps,a);case 19:return c1(n,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},n===null?(a=sp(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Os(n.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return n1(n,i,a);case 24:return Xr(i),o=gn(He),n===null?(p=Jm(),p===null&&(p=oe,y=Qm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),i.memoizedState={parent:o,cache:p},ey(i),Da(i,He,p)):((n.lanes&a)!==0&&(ny(n,i),Iu(i,null,null,a),zu()),p=n.memoizedState,y=i.memoizedState,p.parent!==o?(p={parent:o,cache:o},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Da(i,He,o)):(o=y.cache,Da(i,He,o),o!==p.cache&&Wm(i,[He],a,!0))),an(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Us(n){n.flags|=4}function h1(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!vE(i)){if(i=Ai.current,i!==null&&((Bt&4194048)===Bt?es!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||i!==es))throw Fu=ty,$A;n.flags|=8192}}function ap(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?G0():536870912,n.lanes|=i,Go|=i)}function Xu(n,i){if(!Gt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function pe(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,o=0;if(i)for(var p=n.child;p!==null;)a|=p.lanes|p.childLanes,o|=p.subtreeFlags&65011712,o|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)a|=p.lanes|p.childLanes,o|=p.subtreeFlags,o|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=o,n.childLanes=a,i}function KC(n,i,a){var o=i.pendingProps;switch(Xm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(i),null;case 1:return pe(i),null;case 3:return a=i.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Fs(He),Re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Mu(i)?Us(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,GA())),pe(i),null;case 26:return a=i.memoizedState,n===null?(Us(i),a!==null?(pe(i),h1(i,a)):(pe(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Us(i),pe(i),h1(i,a)):(pe(i),i.flags&=-16777217):(n.memoizedProps!==o&&Us(i),pe(i),i.flags&=-16777217),null;case 27:Ji(i),a=ct.current;var p=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==o&&Us(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return pe(i),null}n=ot.current,Mu(i)?BA(i):(n=hE(p,o,a),i.stateNode=n,Us(i))}return pe(i),null;case 5:if(Ji(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==o&&Us(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return pe(i),null}if(n=ot.current,Mu(i))BA(i);else{switch(p=bp(ct.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?p.createElement(a,{is:o.is}):p.createElement(a)}}n[pn]=i,n[Nn]=o;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=n;t:switch(ln(n,a,o),a){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Us(i)}}return pe(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==o&&Us(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(n=ct.current,Mu(i)){if(n=i.stateNode,a=i.memoizedProps,o=null,p=Tn,p!==null)switch(p.tag){case 27:case 5:o=p.memoizedProps}n[pn]=i,n=!!(n.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||sE(n.nodeValue,a)),n||qr(i)}else n=bp(n).createTextNode(o),n[pn]=i,i.stateNode=n}return pe(i),null;case 13:if(o=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Mu(i),o!==null&&o.dehydrated!==null){if(n===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[pn]=i}else Lu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pe(i),p=!1}else p=GA(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(zs(i),i):(zs(i),null)}if(zs(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,n=n!==null&&n.memoizedState!==null,a){o=i.child,p=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(p=o.alternate.memoizedState.cachePool.pool);var y=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),y!==p&&(o.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),ap(i,i.updateQueue),pe(i),null;case 4:return Re(),n===null&&sb(i.stateNode.containerInfo),pe(i),null;case 10:return Fs(i.type),pe(i),null;case 19:if(nt(ze),p=i.memoizedState,p===null)return pe(i),null;if(o=(i.flags&128)!==0,y=p.rendering,y===null)if(o)Xu(p,!1);else{if(Se!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=tp(n),y!==null){for(i.flags|=128,Xu(p,!1),n=y.updateQueue,i.updateQueue=n,ap(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)IA(a,n),a=a.sibling;return tt(ze,ze.current&1|2),i.child}n=n.sibling}p.tail!==null&&sn()>op&&(i.flags|=128,o=!0,Xu(p,!1),i.lanes=4194304)}else{if(!o)if(n=tp(y),n!==null){if(i.flags|=128,o=!0,n=n.updateQueue,i.updateQueue=n,ap(i,n),Xu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Gt)return pe(i),null}else 2*sn()-p.renderingStartTime>op&&a!==536870912&&(i.flags|=128,o=!0,Xu(p,!1),i.lanes=4194304);p.isBackwards?(y.sibling=i.child,i.child=y):(n=p.last,n!==null?n.sibling=y:i.child=y,p.last=y)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=sn(),i.sibling=null,n=ze.current,tt(ze,o?n&1|2:n&1),i):(pe(i),null);case 22:case 23:return zs(i),ry(),o=i.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(pe(i),i.subtreeFlags&6&&(i.flags|=8192)):pe(i),a=i.updateQueue,a!==null&&ap(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),n!==null&&nt(Yr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fs(He),pe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function WC(n,i){switch(Xm(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Fs(He),Re(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ji(i),null;case 13:if(zs(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Lu()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return nt(ze),null;case 4:return Re(),null;case 10:return Fs(i.type),null;case 22:case 23:return zs(i),ry(),n!==null&&nt(Yr),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Fs(He),null;case 25:return null;default:return null}}function d1(n,i){switch(Xm(i),i.tag){case 3:Fs(He),Re();break;case 26:case 27:case 5:Ji(i);break;case 4:Re();break;case 13:zs(i);break;case 19:nt(ze);break;case 10:Fs(i.type);break;case 22:case 23:zs(i),ry(),n!==null&&nt(Yr);break;case 24:Fs(He)}}function Yu(n,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var p=o.next;a=p;do{if((a.tag&n)===n){o=void 0;var y=a.create,E=a.inst;o=y(),E.destroy=o}a=a.next}while(a!==p)}}catch(C){re(i,i.return,C)}}function za(n,i,a){try{var o=i.updateQueue,p=o!==null?o.lastEffect:null;if(p!==null){var y=p.next;o=y;do{if((o.tag&n)===n){var E=o.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,p=i;var D=a,j=C;try{j()}catch(Y){re(p,D,Y)}}}o=o.next}while(o!==y)}}catch(Y){re(i,i.return,Y)}}function f1(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{tS(i,a)}catch(o){re(n,n.return,o)}}}function p1(n,i,a){a.props=Kr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(o){re(n,i,o)}}function $u(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var o=n.stateNode;break;case 30:o=n.stateNode;break;default:o=n.stateNode}typeof a=="function"?n.refCleanup=a(o):a.current=o}}catch(p){re(n,i,p)}}function ns(n,i){var a=n.ref,o=n.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(p){re(n,i,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){re(n,i,p)}else a.current=null}function g1(n){var i=n.type,a=n.memoizedProps,o=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(p){re(n,n.return,p)}}function Ny(n,i,a){try{var o=n.stateNode;yR(o,n.type,a,i),o[Nn]=i}catch(p){re(n,n.return,p)}}function m1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xa(n.type)||n.tag===4}function Py(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||m1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xa(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Fy(n,i,a){var o=n.tag;if(o===5||o===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=yp));else if(o!==4&&(o===27&&Xa(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Fy(n,i,a),n=n.sibling;n!==null;)Fy(n,i,a),n=n.sibling}function rp(n,i,a){var o=n.tag;if(o===5||o===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(o!==4&&(o===27&&Xa(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(rp(n,i,a),n=n.sibling;n!==null;)rp(n,i,a),n=n.sibling}function y1(n){var i=n.stateNode,a=n.memoizedProps;try{for(var o=n.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);ln(i,o,a),i[pn]=n,i[Nn]=a}catch(y){re(n,n.return,y)}}var Bs=!1,xe=!1,Hy=!1,b1=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function QC(n,i){if(n=n.containerInfo,lb=wp,n=MA(n),Pm(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var p=o.anchorOffset,y=o.focusNode;o=o.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var E=0,C=-1,D=-1,j=0,Y=0,Q=n,q=null;e:for(;;){for(var V;Q!==a||p!==0&&Q.nodeType!==3||(C=E+p),Q!==y||o!==0&&Q.nodeType!==3||(D=E+o),Q.nodeType===3&&(E+=Q.nodeValue.length),(V=Q.firstChild)!==null;)q=Q,Q=V;for(;;){if(Q===n)break e;if(q===a&&++j===p&&(C=E),q===y&&++Y===o&&(D=E),(V=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=V}a=C===-1||D===-1?null:{start:C,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ob={focusedElem:n,selectionRange:a},wp=!1,Ke=i;Ke!==null;)if(i=Ke,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ke=n;else for(;Ke!==null;){switch(i=Ke,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=i,p=y.memoizedProps,y=y.memoizedState,o=a.stateNode;try{var At=Kr(a.type,p,a.elementType===a.type);n=o.getSnapshotBeforeUpdate(At,y),o.__reactInternalSnapshotBeforeUpdate=n}catch(bt){re(a,a.return,bt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)hb(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hb(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ke=n;break}Ke=i.return}}function v1(n,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ia(n,a),o&4&&Yu(5,a);break;case 1:if(Ia(n,a),o&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){re(a,a.return,E)}else{var p=Kr(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(p,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){re(a,a.return,E)}}o&64&&f1(a),o&512&&$u(a,a.return);break;case 3:if(Ia(n,a),o&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{tS(n,i)}catch(E){re(a,a.return,E)}}break;case 27:i===null&&o&4&&y1(a);case 26:case 5:Ia(n,a),i===null&&o&4&&g1(a),o&512&&$u(a,a.return);break;case 12:Ia(n,a);break;case 13:Ia(n,a),o&4&&E1(n,a),o&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=rR.bind(null,a),wR(n,a))));break;case 22:if(o=a.memoizedState!==null||Bs,!o){i=i!==null&&i.memoizedState!==null||xe,p=Bs;var y=xe;Bs=o,(xe=i)&&!y?Ua(n,a,(a.subtreeFlags&8772)!==0):Ia(n,a),Bs=p,xe=y}break;case 30:break;default:Ia(n,a)}}function A1(n){var i=n.alternate;i!==null&&(n.alternate=null,A1(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&mm(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var de=null,Hn=!1;function js(n,i,a){for(a=a.child;a!==null;)S1(n,i,a),a=a.sibling}function S1(n,i,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Nr,a)}catch{}switch(a.tag){case 26:xe||ns(a,i),js(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||ns(a,i);var o=de,p=Hn;Xa(a.type)&&(de=a.stateNode,Hn=!1),js(n,i,a),ih(a.stateNode),de=o,Hn=p;break;case 5:xe||ns(a,i);case 6:if(o=de,p=Hn,de=null,js(n,i,a),de=o,Hn=p,de!==null)if(Hn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(a.stateNode)}catch(y){re(a,i,y)}else try{de.removeChild(a.stateNode)}catch(y){re(a,i,y)}break;case 18:de!==null&&(Hn?(n=de,cE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),hh(n)):cE(de,a.stateNode));break;case 4:o=de,p=Hn,de=a.stateNode.containerInfo,Hn=!0,js(n,i,a),de=o,Hn=p;break;case 0:case 11:case 14:case 15:xe||za(2,a,i),xe||za(4,a,i),js(n,i,a);break;case 1:xe||(ns(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&p1(a,i,o)),js(n,i,a);break;case 21:js(n,i,a);break;case 22:xe=(o=xe)||a.memoizedState!==null,js(n,i,a),xe=o;break;default:js(n,i,a)}}function E1(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{hh(n)}catch(a){re(i,i.return,a)}}function ZC(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new b1),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new b1),i;default:throw Error(s(435,n.tag))}}function zy(n,i){var a=ZC(n);i.forEach(function(o){var p=lR.bind(null,n,o);a.has(o)||(a.add(o),o.then(p,p))})}function Wn(n,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var p=a[o],y=n,E=i,C=E;t:for(;C!==null;){switch(C.tag){case 27:if(Xa(C.type)){de=C.stateNode,Hn=!1;break t}break;case 5:de=C.stateNode,Hn=!1;break t;case 3:case 4:de=C.stateNode.containerInfo,Hn=!0;break t}C=C.return}if(de===null)throw Error(s(160));S1(y,E,p),de=null,Hn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)_1(i,n),i=i.sibling}var Ni=null;function _1(n,i){var a=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Wn(i,n),Qn(n),o&4&&(za(3,n,n.return),Yu(3,n),za(5,n,n.return));break;case 1:Wn(i,n),Qn(n),o&512&&(xe||a===null||ns(a,a.return)),o&64&&Bs&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var p=Ni;if(Wn(i,n),Qn(n),o&512&&(xe||a===null||ns(a,a.return)),o&4){var y=a!==null?a.memoizedState:null;if(o=n.memoizedState,a===null)if(o===null)if(n.stateNode===null){t:{o=n.type,a=n.memoizedProps,p=p.ownerDocument||p;e:switch(o){case"title":y=p.getElementsByTagName("title")[0],(!y||y[bu]||y[pn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(o),p.head.insertBefore(y,p.querySelector("head > title"))),ln(y,o,a),y[pn]=n,Ye(y),o=y;break t;case"link":var E=yE("link","href",p).get(o+(a.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(C,1);break e}}y=p.createElement(o),ln(y,o,a),p.head.appendChild(y);break;case"meta":if(E=yE("meta","content",p).get(o+(a.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(C,1);break e}}y=p.createElement(o),ln(y,o,a),p.head.appendChild(y);break;default:throw Error(s(468,o))}y[pn]=n,Ye(y),o=y}n.stateNode=o}else bE(p,n.type,n.stateNode);else n.stateNode=mE(p,o,n.memoizedProps);else y!==o?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,o===null?bE(p,n.type,n.stateNode):mE(p,o,n.memoizedProps)):o===null&&n.stateNode!==null&&Ny(n,n.memoizedProps,a.memoizedProps)}break;case 27:Wn(i,n),Qn(n),o&512&&(xe||a===null||ns(a,a.return)),a!==null&&o&4&&Ny(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Wn(i,n),Qn(n),o&512&&(xe||a===null||ns(a,a.return)),n.flags&32){p=n.stateNode;try{So(p,"")}catch(V){re(n,n.return,V)}}o&4&&n.stateNode!=null&&(p=n.memoizedProps,Ny(n,p,a!==null?a.memoizedProps:p)),o&1024&&(Hy=!0);break;case 6:if(Wn(i,n),Qn(n),o&4){if(n.stateNode===null)throw Error(s(162));o=n.memoizedProps,a=n.stateNode;try{a.nodeValue=o}catch(V){re(n,n.return,V)}}break;case 3:if(Sp=null,p=Ni,Ni=vp(i.containerInfo),Wn(i,n),Ni=p,Qn(n),o&4&&a!==null&&a.memoizedState.isDehydrated)try{hh(i.containerInfo)}catch(V){re(n,n.return,V)}Hy&&(Hy=!1,w1(n));break;case 4:o=Ni,Ni=vp(n.stateNode.containerInfo),Wn(i,n),Qn(n),Ni=o;break;case 12:Wn(i,n),Qn(n);break;case 13:Wn(i,n),Qn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qy=sn()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,zy(n,o)));break;case 22:p=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=Bs,Y=xe;if(Bs=j||p,xe=Y||D,Wn(i,n),xe=Y,Bs=j,Qn(n),o&8192)t:for(i=n.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(a===null||D||Bs||xe||Wr(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(y=D.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=D.stateNode;var Q=D.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;C.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(V){re(D,D.return,V)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=p?"":D.memoizedProps}catch(V){re(D,D.return,V)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=n.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,zy(n,a))));break;case 19:Wn(i,n),Qn(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,zy(n,o)));break;case 30:break;case 21:break;default:Wn(i,n),Qn(n)}}function Qn(n){var i=n.flags;if(i&2){try{for(var a,o=n.return;o!==null;){if(m1(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var p=a.stateNode,y=Py(n);rp(n,y,p);break;case 5:var E=a.stateNode;a.flags&32&&(So(E,""),a.flags&=-33);var C=Py(n);rp(n,C,E);break;case 3:case 4:var D=a.stateNode.containerInfo,j=Py(n);Fy(n,j,D);break;default:throw Error(s(161))}}catch(Y){re(n,n.return,Y)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function w1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;w1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ia(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)v1(n,i.alternate,i),i=i.sibling}function Wr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:za(4,i,i.return),Wr(i);break;case 1:ns(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&p1(i,i.return,a),Wr(i);break;case 27:ih(i.stateNode);case 26:case 5:ns(i,i.return),Wr(i);break;case 22:i.memoizedState===null&&Wr(i);break;case 30:Wr(i);break;default:Wr(i)}n=n.sibling}}function Ua(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,p=n,y=i,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ua(p,y,a),Yu(4,y);break;case 1:if(Ua(p,y,a),o=y,p=o.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(j){re(o,o.return,j)}if(o=y,p=o.updateQueue,p!==null){var C=o.stateNode;try{var D=p.shared.hiddenCallbacks;if(D!==null)for(p.shared.hiddenCallbacks=null,p=0;p<D.length;p++)JA(D[p],C)}catch(j){re(o,o.return,j)}}a&&E&64&&f1(y),$u(y,y.return);break;case 27:y1(y);case 26:case 5:Ua(p,y,a),a&&o===null&&E&4&&g1(y),$u(y,y.return);break;case 12:Ua(p,y,a);break;case 13:Ua(p,y,a),a&&E&4&&E1(p,y);break;case 22:y.memoizedState===null&&Ua(p,y,a),$u(y,y.return);break;case 30:break;default:Ua(p,y,a)}i=i.sibling}}function Iy(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ku(a))}function Uy(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ku(n))}function is(n,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)x1(n,i,a,o),i=i.sibling}function x1(n,i,a,o){var p=i.flags;switch(i.tag){case 0:case 11:case 15:is(n,i,a,o),p&2048&&Yu(9,i);break;case 1:is(n,i,a,o);break;case 3:is(n,i,a,o),p&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ku(n)));break;case 12:if(p&2048){is(n,i,a,o),n=i.stateNode;try{var y=i.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){re(i,i.return,D)}}else is(n,i,a,o);break;case 13:is(n,i,a,o);break;case 23:break;case 22:y=i.stateNode,E=i.alternate,i.memoizedState!==null?y._visibility&2?is(n,i,a,o):Ku(n,i):y._visibility&2?is(n,i,a,o):(y._visibility|=2,Uo(n,i,a,o,(i.subtreeFlags&10256)!==0)),p&2048&&Iy(E,i);break;case 24:is(n,i,a,o),p&2048&&Uy(i.alternate,i);break;default:is(n,i,a,o)}}function Uo(n,i,a,o,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,E=i,C=a,D=o,j=E.flags;switch(E.tag){case 0:case 11:case 15:Uo(y,E,C,D,p),Yu(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?Uo(y,E,C,D,p):Ku(y,E):(Y._visibility|=2,Uo(y,E,C,D,p)),p&&j&2048&&Iy(E.alternate,E);break;case 24:Uo(y,E,C,D,p),p&&j&2048&&Uy(E.alternate,E);break;default:Uo(y,E,C,D,p)}i=i.sibling}}function Ku(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,o=i,p=o.flags;switch(o.tag){case 22:Ku(a,o),p&2048&&Iy(o.alternate,o);break;case 24:Ku(a,o),p&2048&&Uy(o.alternate,o);break;default:Ku(a,o)}i=i.sibling}}var Wu=8192;function Bo(n){if(n.subtreeFlags&Wu)for(n=n.child;n!==null;)T1(n),n=n.sibling}function T1(n){switch(n.tag){case 26:Bo(n),n.flags&Wu&&n.memoizedState!==null&&HR(Ni,n.memoizedState,n.memoizedProps);break;case 5:Bo(n);break;case 3:case 4:var i=Ni;Ni=vp(n.stateNode.containerInfo),Bo(n),Ni=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Wu,Wu=16777216,Bo(n),Wu=i):Bo(n));break;default:Bo(n)}}function C1(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Qu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ke=o,M1(o,n)}C1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)R1(n),n=n.sibling}function R1(n){switch(n.tag){case 0:case 11:case 15:Qu(n),n.flags&2048&&za(9,n,n.return);break;case 3:Qu(n);break;case 12:Qu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,lp(n)):Qu(n);break;default:Qu(n)}}function lp(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ke=o,M1(o,n)}C1(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:za(8,i,i.return),lp(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,lp(i));break;default:lp(i)}n=n.sibling}}function M1(n,i){for(;Ke!==null;){var a=Ke;switch(a.tag){case 0:case 11:case 15:za(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ku(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ke=o;else t:for(a=n;Ke!==null;){o=Ke;var p=o.sibling,y=o.return;if(A1(o),o===a){Ke=null;break t}if(p!==null){p.return=y,Ke=p;break t}Ke=y}}}var JC={getCacheForType:function(n){var i=gn(He),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},tR=typeof WeakMap=="function"?WeakMap:Map,Kt=0,oe=null,Ft=null,Bt=0,Wt=0,Zn=null,Ba=!1,jo=!1,By=!1,Gs=0,Se=0,ja=0,Qr=0,jy=0,Si=0,Go=0,Zu=null,zn=null,Gy=!1,qy=0,op=1/0,cp=null,Ga=null,rn=0,qa=null,qo=null,Vo=0,Vy=0,Xy=null,L1=null,Ju=0,Yy=null;function Jn(){if((Kt&2)!==0&&Bt!==0)return Bt&-Bt;if(U.T!==null){var n=Oo;return n!==0?n:tb()}return X0()}function D1(){Si===0&&(Si=(Bt&536870912)===0||Gt?j0():536870912);var n=Ai.current;return n!==null&&(n.flags|=32),Si}function ti(n,i,a){(n===oe&&(Wt===2||Wt===9)||n.cancelPendingCommit!==null)&&(Xo(n,0),Va(n,Bt,Si,!1)),yu(n,a),((Kt&2)===0||n!==oe)&&(n===oe&&((Kt&2)===0&&(Qr|=a),Se===4&&Va(n,Bt,Si,!1)),ss(n))}function O1(n,i,a){if((Kt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&n.expiredLanes)===0||mu(n,i),p=o?iR(n,i):Wy(n,i,!0),y=o;do{if(p===0){jo&&!o&&Va(n,i,0,!1);break}else{if(a=n.current.alternate,y&&!eR(a)){p=Wy(n,i,!1),y=!1;continue}if(p===2){if(y=i,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var C=n;p=Zu;var D=C.current.memoizedState.isDehydrated;if(D&&(Xo(C,E).flags|=256),E=Wy(C,E,!1),E!==2){if(By&&!D){C.errorRecoveryDisabledLanes|=y,Qr|=y,p=4;break t}y=zn,zn=p,y!==null&&(zn===null?zn=y:zn.push.apply(zn,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){Xo(n,0),Va(n,i,0,!0);break}t:{switch(o=n,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Va(o,i,Si,!Ba);break t;case 2:zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=qy+300-sn(),10<p)){if(Va(o,i,Si,!Ba),Af(o,0,!0)!==0)break t;o.timeoutHandle=lE(k1.bind(null,o,a,zn,cp,Gy,i,Si,Qr,Go,Ba,y,2,-0,0),p);break t}k1(o,a,zn,cp,Gy,i,Si,Qr,Go,Ba,y,0,-0,0)}}break}while(!0);ss(n)}function k1(n,i,a,o,p,y,E,C,D,j,Y,Q,q,V){if(n.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(rh={stylesheets:null,count:0,unsuspend:FR},T1(i),Q=zR(),Q!==null)){n.cancelPendingCommit=Q(U1.bind(null,n,i,y,a,o,p,E,C,D,Y,1,q,V)),Va(n,y,E,!j);return}U1(n,i,y,a,o,p,E,C,D)}function eR(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var p=a[o],y=p.getSnapshot;p=p.value;try{if(!$n(y(),p))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Va(n,i,a,o){i&=~jy,i&=~Qr,n.suspendedLanes|=i,n.pingedLanes&=~i,o&&(n.warmLanes|=i),o=n.expirationTimes;for(var p=i;0<p;){var y=31-Xe(p),E=1<<y;o[y]=-1,p&=~E}a!==0&&q0(n,a,i)}function up(){return(Kt&6)===0?(th(0),!1):!0}function $y(){if(Ft!==null){if(Wt===0)var n=Ft.return;else n=Ft,Ps=Vr=null,hy(n),zo=null,qu=0,n=Ft;for(;n!==null;)d1(n.alternate,n),n=n.return;Ft=null}}function Xo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,vR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),$y(),oe=n,Ft=a=Os(n.current,null),Bt=i,Wt=0,Zn=null,Ba=!1,jo=mu(n,i),By=!1,Go=Si=jy=Qr=ja=Se=0,zn=Zu=null,Gy=!1,(i&8)!==0&&(i|=i&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=i;0<o;){var p=31-Xe(o),y=1<<p;i|=n[p],o&=~y}return Gs=i,Of(),a}function N1(n,i){Dt=null,U.H=Qf,i===Pu||i===Bf?(i=QA(),Wt=3):i===$A?(i=QA(),Wt=4):Wt=i===ZS?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,Ft===null&&(Se=1,np(n,mi(i,n.current)))}function P1(){var n=U.H;return U.H=Qf,n===null?Qf:n}function F1(){var n=U.A;return U.A=JC,n}function Ky(){Se=4,Ba||(Bt&4194048)!==Bt&&Ai.current!==null||(jo=!0),(ja&134217727)===0&&(Qr&134217727)===0||oe===null||Va(oe,Bt,Si,!1)}function Wy(n,i,a){var o=Kt;Kt|=2;var p=P1(),y=F1();(oe!==n||Bt!==i)&&(cp=null,Xo(n,i)),i=!1;var E=Se;t:do try{if(Wt!==0&&Ft!==null){var C=Ft,D=Zn;switch(Wt){case 8:$y(),E=6;break t;case 3:case 2:case 9:case 6:Ai.current===null&&(i=!0);var j=Wt;if(Wt=0,Zn=null,Yo(n,C,D,j),a&&jo){E=0;break t}break;default:j=Wt,Wt=0,Zn=null,Yo(n,C,D,j)}}nR(),E=Se;break}catch(Y){N1(n,Y)}while(!0);return i&&n.shellSuspendCounter++,Ps=Vr=null,Kt=o,U.H=p,U.A=y,Ft===null&&(oe=null,Bt=0,Of()),E}function nR(){for(;Ft!==null;)H1(Ft)}function iR(n,i){var a=Kt;Kt|=2;var o=P1(),p=F1();oe!==n||Bt!==i?(cp=null,op=sn()+500,Xo(n,i)):jo=mu(n,i);t:do try{if(Wt!==0&&Ft!==null){i=Ft;var y=Zn;e:switch(Wt){case 1:Wt=0,Zn=null,Yo(n,i,y,1);break;case 2:case 9:if(KA(y)){Wt=0,Zn=null,z1(i);break}i=function(){Wt!==2&&Wt!==9||oe!==n||(Wt=7),ss(n)},y.then(i,i);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:KA(y)?(Wt=0,Zn=null,z1(i)):(Wt=0,Zn=null,Yo(n,i,y,7));break;case 5:var E=null;switch(Ft.tag){case 26:E=Ft.memoizedState;case 5:case 27:var C=Ft;if(!E||vE(E)){Wt=0,Zn=null;var D=C.sibling;if(D!==null)Ft=D;else{var j=C.return;j!==null?(Ft=j,hp(j)):Ft=null}break e}}Wt=0,Zn=null,Yo(n,i,y,5);break;case 6:Wt=0,Zn=null,Yo(n,i,y,6);break;case 8:$y(),Se=6;break t;default:throw Error(s(462))}}sR();break}catch(Y){N1(n,Y)}while(!0);return Ps=Vr=null,U.H=o,U.A=p,Kt=a,Ft!==null?0:(oe=null,Bt=0,Of(),Se)}function sR(){for(;Ft!==null&&!Ve();)H1(Ft)}function H1(n){var i=u1(n.alternate,n,Gs);n.memoizedProps=n.pendingProps,i===null?hp(n):Ft=i}function z1(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=s1(a,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=s1(a,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:hy(i);default:d1(a,i),i=Ft=IA(i,Gs),i=u1(a,i,Gs)}n.memoizedProps=n.pendingProps,i===null?hp(n):Ft=i}function Yo(n,i,a,o){Ps=Vr=null,hy(i),zo=null,qu=0;var p=i.return;try{if(YC(n,p,i,a,Bt)){Se=1,np(n,mi(a,n.current)),Ft=null;return}}catch(y){if(p!==null)throw Ft=p,y;Se=1,np(n,mi(a,n.current)),Ft=null;return}i.flags&32768?(Gt||o===1?n=!0:jo||(Bt&536870912)!==0?n=!1:(Ba=n=!0,(o===2||o===9||o===3||o===6)&&(o=Ai.current,o!==null&&o.tag===13&&(o.flags|=16384))),I1(i,n)):hp(i)}function hp(n){var i=n;do{if((i.flags&32768)!==0){I1(i,Ba);return}n=i.return;var a=KC(i.alternate,i,Gs);if(a!==null){Ft=a;return}if(i=i.sibling,i!==null){Ft=i;return}Ft=i=n}while(i!==null);Se===0&&(Se=5)}function I1(n,i){do{var a=WC(n.alternate,n);if(a!==null){a.flags&=32767,Ft=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ft=n;return}Ft=n=a}while(n!==null);Se=6,Ft=null}function U1(n,i,a,o,p,y,E,C,D){n.cancelPendingCommit=null;do dp();while(rn!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=Um,FT(n,a,y,E,C,D),n===oe&&(Ft=oe=null,Bt=0),qo=i,qa=n,Vo=a,Vy=y,Xy=p,L1=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,oR(Ms,function(){return V1(),null})):(n.callbackNode=null,n.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,p=X.p,X.p=2,E=Kt,Kt|=4;try{QC(n,i,a)}finally{Kt=E,X.p=p,U.T=o}}rn=1,B1(),j1(),G1()}}function B1(){if(rn===1){rn=0;var n=qa,i=qo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=X.p;X.p=2;var p=Kt;Kt|=4;try{_1(i,n);var y=ob,E=MA(n.containerInfo),C=y.focusedElem,D=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&RA(C.ownerDocument.documentElement,C)){if(D!==null&&Pm(C)){var j=D.start,Y=D.end;if(Y===void 0&&(Y=j),"selectionStart"in C)C.selectionStart=j,C.selectionEnd=Math.min(Y,C.value.length);else{var Q=C.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var V=q.getSelection(),At=C.textContent.length,bt=Math.min(D.start,At),ie=D.end===void 0?bt:Math.min(D.end,At);!V.extend&&bt>ie&&(E=ie,ie=bt,bt=E);var z=CA(C,bt),P=CA(C,ie);if(z&&P&&(V.rangeCount!==1||V.anchorNode!==z.node||V.anchorOffset!==z.offset||V.focusNode!==P.node||V.focusOffset!==P.offset)){var I=Q.createRange();I.setStart(z.node,z.offset),V.removeAllRanges(),bt>ie?(V.addRange(I),V.extend(P.node,P.offset)):(I.setEnd(P.node,P.offset),V.addRange(I))}}}}for(Q=[],V=C;V=V.parentNode;)V.nodeType===1&&Q.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Q.length;C++){var K=Q[C];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}wp=!!lb,ob=lb=null}finally{Kt=p,X.p=o,U.T=a}}n.current=i,rn=2}}function j1(){if(rn===2){rn=0;var n=qa,i=qo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=X.p;X.p=2;var p=Kt;Kt|=4;try{v1(n,i.alternate,i)}finally{Kt=p,X.p=o,U.T=a}}rn=3}}function G1(){if(rn===4||rn===3){rn=0,Me();var n=qa,i=qo,a=Vo,o=L1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?rn=5:(rn=0,qo=qa=null,q1(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(Ga=null),pm(a),i=i.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Nr,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=U.T,p=X.p,X.p=2,U.T=null;try{for(var y=n.onRecoverableError,E=0;E<o.length;E++){var C=o[E];y(C.value,{componentStack:C.stack})}}finally{U.T=i,X.p=p}}(Vo&3)!==0&&dp(),ss(n),p=n.pendingLanes,(a&4194090)!==0&&(p&42)!==0?n===Yy?Ju++:(Ju=0,Yy=n):Ju=0,th(0)}}function q1(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ku(i)))}function dp(n){return B1(),j1(),G1(),V1()}function V1(){if(rn!==5)return!1;var n=qa,i=Vy;Vy=0;var a=pm(Vo),o=U.T,p=X.p;try{X.p=32>a?32:a,U.T=null,a=Xy,Xy=null;var y=qa,E=Vo;if(rn=0,qo=qa=null,Vo=0,(Kt&6)!==0)throw Error(s(331));var C=Kt;if(Kt|=4,R1(y.current),x1(y,y.current,E,a),Kt=C,th(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Nr,y)}catch{}return!0}finally{X.p=p,U.T=o,q1(n,i)}}function X1(n,i,a){i=mi(a,i),i=xy(n.stateNode,i,2),n=Na(n,i,2),n!==null&&(yu(n,2),ss(n))}function re(n,i,a){if(n.tag===3)X1(n,n,a);else for(;i!==null;){if(i.tag===3){X1(i,n,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ga===null||!Ga.has(o))){n=mi(a,n),a=WS(2),o=Na(i,a,2),o!==null&&(QS(a,o,i,n),yu(o,2),ss(o));break}}i=i.return}}function Qy(n,i,a){var o=n.pingCache;if(o===null){o=n.pingCache=new tR;var p=new Set;o.set(i,p)}else p=o.get(i),p===void 0&&(p=new Set,o.set(i,p));p.has(a)||(By=!0,p.add(a),n=aR.bind(null,n,i,a),i.then(n,n))}function aR(n,i,a){var o=n.pingCache;o!==null&&o.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,oe===n&&(Bt&a)===a&&(Se===4||Se===3&&(Bt&62914560)===Bt&&300>sn()-qy?(Kt&2)===0&&Xo(n,0):jy|=a,Go===Bt&&(Go=0)),ss(n)}function Y1(n,i){i===0&&(i=G0()),n=Ro(n,i),n!==null&&(yu(n,i),ss(n))}function rR(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Y1(n,a)}function lR(n,i){var a=0;switch(n.tag){case 13:var o=n.stateNode,p=n.memoizedState;p!==null&&(a=p.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Y1(n,a)}function oR(n,i){return Yt(n,i)}var fp=null,$o=null,Zy=!1,pp=!1,Jy=!1,Zr=0;function ss(n){n!==$o&&n.next===null&&($o===null?fp=$o=n:$o=$o.next=n),pp=!0,Zy||(Zy=!0,uR())}function th(n,i){if(!Jy&&pp){Jy=!0;do for(var a=!1,o=fp;o!==null;){if(n!==0){var p=o.pendingLanes;if(p===0)var y=0;else{var E=o.suspendedLanes,C=o.pingedLanes;y=(1<<31-Xe(42|n)+1)-1,y&=p&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Q1(o,y))}else y=Bt,y=Af(o,o===oe?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(y&3)===0||mu(o,y)||(a=!0,Q1(o,y));o=o.next}while(a);Jy=!1}}function cR(){$1()}function $1(){pp=Zy=!1;var n=0;Zr!==0&&(bR()&&(n=Zr),Zr=0);for(var i=sn(),a=null,o=fp;o!==null;){var p=o.next,y=K1(o,i);y===0?(o.next=null,a===null?fp=p:a.next=p,p===null&&($o=a)):(a=o,(n!==0||(y&3)!==0)&&(pp=!0)),o=p}th(n)}function K1(n,i){for(var a=n.suspendedLanes,o=n.pingedLanes,p=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-Xe(y),C=1<<E,D=p[E];D===-1?((C&a)===0||(C&o)!==0)&&(p[E]=PT(C,i)):D<=i&&(n.expiredLanes|=C),y&=~C}if(i=oe,a=Bt,a=Af(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),o=n.callbackNode,a===0||n===i&&(Wt===2||Wt===9)||n.cancelPendingCommit!==null)return o!==null&&o!==null&&he(o),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||mu(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(o!==null&&he(o),pm(a)){case 2:case 8:a=mf;break;case 32:a=Ms;break;case 268435456:a=yf;break;default:a=Ms}return o=W1.bind(null,n),a=Yt(a,o),n.callbackPriority=i,n.callbackNode=a,i}return o!==null&&o!==null&&he(o),n.callbackPriority=2,n.callbackNode=null,2}function W1(n,i){if(rn!==0&&rn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(dp()&&n.callbackNode!==a)return null;var o=Bt;return o=Af(n,n===oe?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),o===0?null:(O1(n,o,i),K1(n,sn()),n.callbackNode!=null&&n.callbackNode===a?W1.bind(null,n):null)}function Q1(n,i){if(dp())return null;O1(n,i,!0)}function uR(){AR(function(){(Kt&6)!==0?Yt(gf,cR):$1()})}function tb(){return Zr===0&&(Zr=j0()),Zr}function Z1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:xf(""+n)}function J1(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function hR(n,i,a,o,p){if(i==="submit"&&a&&a.stateNode===p){var y=Z1((p[Nn]||null).action),E=o.submitter;E&&(i=(i=E[Nn]||null)?Z1(i.formAction):E.getAttribute("formAction"),i!==null&&(y=i,E=null));var C=new Mf("action","action",null,o,p);n.push({event:C,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zr!==0){var D=E?J1(p,E):new FormData(p);Ay(a,{pending:!0,data:D,method:p.method,action:y},null,D)}}else typeof y=="function"&&(C.preventDefault(),D=E?J1(p,E):new FormData(p),Ay(a,{pending:!0,data:D,method:p.method,action:y},y,D))},currentTarget:p}]})}}for(var eb=0;eb<Im.length;eb++){var nb=Im[eb],dR=nb.toLowerCase(),fR=nb[0].toUpperCase()+nb.slice(1);ki(dR,"on"+fR)}ki(OA,"onAnimationEnd"),ki(kA,"onAnimationIteration"),ki(NA,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(LC,"onTransitionRun"),ki(DC,"onTransitionStart"),ki(OC,"onTransitionCancel"),ki(PA,"onTransitionEnd"),bo("onMouseEnter",["mouseout","mouseover"]),bo("onMouseLeave",["mouseout","mouseover"]),bo("onPointerEnter",["pointerout","pointerover"]),bo("onPointerLeave",["pointerout","pointerover"]),Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function tE(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var o=n[a],p=o.event;o=o.listeners;t:{var y=void 0;if(i)for(var E=o.length-1;0<=E;E--){var C=o[E],D=C.instance,j=C.currentTarget;if(C=C.listener,D!==y&&p.isPropagationStopped())break t;y=C,p.currentTarget=j;try{y(p)}catch(Y){ep(Y)}p.currentTarget=null,y=D}else for(E=0;E<o.length;E++){if(C=o[E],D=C.instance,j=C.currentTarget,C=C.listener,D!==y&&p.isPropagationStopped())break t;y=C,p.currentTarget=j;try{y(p)}catch(Y){ep(Y)}p.currentTarget=null,y=D}}}}function Ht(n,i){var a=i[gm];a===void 0&&(a=i[gm]=new Set);var o=n+"__bubble";a.has(o)||(eE(i,n,2,!1),a.add(o))}function ib(n,i,a){var o=0;i&&(o|=4),eE(a,n,o,i)}var gp="_reactListening"+Math.random().toString(36).slice(2);function sb(n){if(!n[gp]){n[gp]=!0,$0.forEach(function(a){a!=="selectionchange"&&(pR.has(a)||ib(a,!1,n),ib(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[gp]||(i[gp]=!0,ib("selectionchange",!1,i))}}function eE(n,i,a,o){switch(xE(i)){case 2:var p=BR;break;case 8:p=jR;break;default:p=bb}a=p.bind(null,i,a,n),p=void 0,!Tm||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),o?p!==void 0?n.addEventListener(i,a,{capture:!0,passive:p}):n.addEventListener(i,a,!0):p!==void 0?n.addEventListener(i,a,{passive:p}):n.addEventListener(i,a,!1)}function ab(n,i,a,o,p){var y=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var C=o.stateNode.containerInfo;if(C===p)break;if(E===4)for(E=o.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;C!==null;){if(E=go(C),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){o=y=E;continue t}C=C.parentNode}}o=o.return}oA(function(){var j=y,Y=wm(a),Q=[];t:{var q=FA.get(n);if(q!==void 0){var V=Mf,At=n;switch(n){case"keypress":if(Cf(a)===0)break t;case"keydown":case"keyup":V=oC;break;case"focusin":At="focus",V=Lm;break;case"focusout":At="blur",V=Lm;break;case"beforeblur":case"afterblur":V=Lm;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=hA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=WT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=hC;break;case OA:case kA:case NA:V=JT;break;case PA:V=fC;break;case"scroll":case"scrollend":V=$T;break;case"wheel":V=gC;break;case"copy":case"cut":case"paste":V=eC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=fA;break;case"toggle":case"beforetoggle":V=yC}var bt=(i&4)!==0,ie=!bt&&(n==="scroll"||n==="scrollend"),z=bt?q!==null?q+"Capture":null:q;bt=[];for(var P=j,I;P!==null;){var K=P;if(I=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||I===null||z===null||(K=Au(P,z),K!=null&&bt.push(nh(P,K,I))),ie)break;P=P.return}0<bt.length&&(q=new V(q,At,null,a,Y),Q.push({event:q,listeners:bt}))}}if((i&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",V=n==="mouseout"||n==="pointerout",q&&a!==_m&&(At=a.relatedTarget||a.fromElement)&&(go(At)||At[po]))break t;if((V||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,V?(At=a.relatedTarget||a.toElement,V=j,At=At?go(At):null,At!==null&&(ie=l(At),bt=At.tag,At!==ie||bt!==5&&bt!==27&&bt!==6)&&(At=null)):(V=null,At=j),V!==At)){if(bt=hA,K="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(bt=fA,K="onPointerLeave",z="onPointerEnter",P="pointer"),ie=V==null?q:vu(V),I=At==null?q:vu(At),q=new bt(K,P+"leave",V,a,Y),q.target=ie,q.relatedTarget=I,K=null,go(Y)===j&&(bt=new bt(z,P+"enter",At,a,Y),bt.target=I,bt.relatedTarget=ie,K=bt),ie=K,V&&At)e:{for(bt=V,z=At,P=0,I=bt;I;I=Ko(I))P++;for(I=0,K=z;K;K=Ko(K))I++;for(;0<P-I;)bt=Ko(bt),P--;for(;0<I-P;)z=Ko(z),I--;for(;P--;){if(bt===z||z!==null&&bt===z.alternate)break e;bt=Ko(bt),z=Ko(z)}bt=null}else bt=null;V!==null&&nE(Q,q,V,bt,!1),At!==null&&ie!==null&&nE(Q,ie,At,bt,!0)}}t:{if(q=j?vu(j):window,V=q.nodeName&&q.nodeName.toLowerCase(),V==="select"||V==="input"&&q.type==="file")var ut=SA;else if(vA(q))if(EA)ut=CC;else{ut=xC;var Nt=wC}else V=q.nodeName,!V||V.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Em(j.elementType)&&(ut=SA):ut=TC;if(ut&&(ut=ut(n,j))){AA(Q,ut,a,Y);break t}Nt&&Nt(n,q,j),n==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Sm(q,"number",q.value)}switch(Nt=j?vu(j):window,n){case"focusin":(vA(Nt)||Nt.contentEditable==="true")&&(xo=Nt,Fm=j,Ru=null);break;case"focusout":Ru=Fm=xo=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,LA(Q,a,Y);break;case"selectionchange":if(MC)break;case"keydown":case"keyup":LA(Q,a,Y)}var pt;if(Om)t:{switch(n){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else wo?yA(n,a)&&(vt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(pA&&a.locale!=="ko"&&(wo||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&wo&&(pt=cA()):(La=Y,Cm="value"in La?La.value:La.textContent,wo=!0)),Nt=mp(j,vt),0<Nt.length&&(vt=new dA(vt,n,null,a,Y),Q.push({event:vt,listeners:Nt}),pt?vt.data=pt:(pt=bA(a),pt!==null&&(vt.data=pt)))),(pt=vC?AC(n,a):SC(n,a))&&(vt=mp(j,"onBeforeInput"),0<vt.length&&(Nt=new dA("onBeforeInput","beforeinput",null,a,Y),Q.push({event:Nt,listeners:vt}),Nt.data=pt)),hR(Q,n,j,a,Y)}tE(Q,i)})}function nh(n,i,a){return{instance:n,listener:i,currentTarget:a}}function mp(n,i){for(var a=i+"Capture",o=[];n!==null;){var p=n,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Au(n,a),p!=null&&o.unshift(nh(n,p,y)),p=Au(n,i),p!=null&&o.push(nh(n,p,y))),n.tag===3)return o;n=n.return}return[]}function Ko(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function nE(n,i,a,o,p){for(var y=i._reactName,E=[];a!==null&&a!==o;){var C=a,D=C.alternate,j=C.stateNode;if(C=C.tag,D!==null&&D===o)break;C!==5&&C!==26&&C!==27||j===null||(D=j,p?(j=Au(a,y),j!=null&&E.unshift(nh(a,j,D))):p||(j=Au(a,y),j!=null&&E.push(nh(a,j,D)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var gR=/\r\n?/g,mR=/\u0000|\uFFFD/g;function iE(n){return(typeof n=="string"?n:""+n).replace(gR,`
`).replace(mR,"")}function sE(n,i){return i=iE(i),iE(n)===i}function yp(){}function ne(n,i,a,o,p,y){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||So(n,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&So(n,""+o);break;case"className":Ef(n,"class",o);break;case"tabIndex":Ef(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ef(n,a,o);break;case"style":rA(n,o,y);break;case"data":if(i!=="object"){Ef(n,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(a);break}o=xf(""+o),n.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(i!=="input"&&ne(n,i,"name",p.name,p,null),ne(n,i,"formEncType",p.formEncType,p,null),ne(n,i,"formMethod",p.formMethod,p,null),ne(n,i,"formTarget",p.formTarget,p,null)):(ne(n,i,"encType",p.encType,p,null),ne(n,i,"method",p.method,p,null),ne(n,i,"target",p.target,p,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(a);break}o=xf(""+o),n.setAttribute(a,o);break;case"onClick":o!=null&&(n.onclick=yp);break;case"onScroll":o!=null&&Ht("scroll",n);break;case"onScrollEnd":o!=null&&Ht("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}a=xf(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,""+o):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":o===!0?n.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,o):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(a,o):n.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(a):n.setAttribute(a,o);break;case"popover":Ht("beforetoggle",n),Ht("toggle",n),Sf(n,"popover",o);break;case"xlinkActuate":Ls(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ls(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ls(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ls(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ls(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ls(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ls(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ls(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ls(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sf(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=XT.get(a)||a,Sf(n,a,o))}}function rb(n,i,a,o,p,y){switch(a){case"style":rA(n,o,y);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof o=="string"?So(n,o):(typeof o=="number"||typeof o=="bigint")&&So(n,""+o);break;case"onScroll":o!=null&&Ht("scroll",n);break;case"onScrollEnd":o!=null&&Ht("scrollend",n);break;case"onClick":o!=null&&(n.onclick=yp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!K0.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),i=a.slice(2,p?a.length-7:void 0),y=n[Nn]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(i,y,p),typeof o=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,o,p);break t}a in n?n[a]=o:o===!0?n.setAttribute(a,""):Sf(n,a,o)}}}function ln(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",n),Ht("load",n);var o=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":o=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ne(n,i,y,E,a,null)}}p&&ne(n,i,"srcSet",a.srcSet,a,null),o&&ne(n,i,"src",a.src,a,null);return;case"input":Ht("invalid",n);var C=y=E=p=null,D=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":p=Y;break;case"type":E=Y;break;case"checked":D=Y;break;case"defaultChecked":j=Y;break;case"value":y=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:ne(n,i,o,Y,a,null)}}nA(n,y,C,D,j,E,p,!1),_f(n);return;case"select":Ht("invalid",n),o=E=y=null;for(p in a)if(a.hasOwnProperty(p)&&(C=a[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":o=C;default:ne(n,i,p,C,a,null)}i=y,a=E,n.multiple=!!o,i!=null?Ao(n,!!o,i,!1):a!=null&&Ao(n,!!o,a,!0);return;case"textarea":Ht("invalid",n),y=p=o=null;for(E in a)if(a.hasOwnProperty(E)&&(C=a[E],C!=null))switch(E){case"value":o=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:ne(n,i,E,C,a,null)}sA(n,o,p,y),_f(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(n,i,D,o,a,null)}return;case"dialog":Ht("beforetoggle",n),Ht("toggle",n),Ht("cancel",n),Ht("close",n);break;case"iframe":case"object":Ht("load",n);break;case"video":case"audio":for(o=0;o<eh.length;o++)Ht(eh[o],n);break;case"image":Ht("error",n),Ht("load",n);break;case"details":Ht("toggle",n);break;case"embed":case"source":case"link":Ht("error",n),Ht("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ne(n,i,j,o,a,null)}return;default:if(Em(i)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&rb(n,i,Y,o,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null&&ne(n,i,C,o,a,null))}function yR(n,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,C=null,D=null,j=null,Y=null;for(V in a){var Q=a[V];if(a.hasOwnProperty(V)&&Q!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":D=Q;default:o.hasOwnProperty(V)||ne(n,i,V,null,o,Q)}}for(var q in o){var V=o[q];if(Q=a[q],o.hasOwnProperty(q)&&(V!=null||Q!=null))switch(q){case"type":y=V;break;case"name":p=V;break;case"checked":j=V;break;case"defaultChecked":Y=V;break;case"value":E=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:V!==Q&&ne(n,i,q,V,o,Q)}}Am(n,E,C,D,j,Y,y,p);return;case"select":V=E=C=q=null;for(y in a)if(D=a[y],a.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":V=D;default:o.hasOwnProperty(y)||ne(n,i,y,null,o,D)}for(p in o)if(y=o[p],D=a[p],o.hasOwnProperty(p)&&(y!=null||D!=null))switch(p){case"value":q=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==D&&ne(n,i,p,y,o,D)}i=C,a=E,o=V,q!=null?Ao(n,!!a,q,!1):!!o!=!!a&&(i!=null?Ao(n,!!a,i,!0):Ao(n,!!a,a?[]:"",!1));return;case"textarea":V=q=null;for(C in a)if(p=a[C],a.hasOwnProperty(C)&&p!=null&&!o.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ne(n,i,C,null,o,p)}for(E in o)if(p=o[E],y=a[E],o.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":q=p;break;case"defaultValue":V=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&ne(n,i,E,p,o,y)}iA(n,q,V);return;case"option":for(var At in a)if(q=a[At],a.hasOwnProperty(At)&&q!=null&&!o.hasOwnProperty(At))switch(At){case"selected":n.selected=!1;break;default:ne(n,i,At,null,o,q)}for(D in o)if(q=o[D],V=a[D],o.hasOwnProperty(D)&&q!==V&&(q!=null||V!=null))switch(D){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ne(n,i,D,q,o,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)q=a[bt],a.hasOwnProperty(bt)&&q!=null&&!o.hasOwnProperty(bt)&&ne(n,i,bt,null,o,q);for(j in o)if(q=o[j],V=a[j],o.hasOwnProperty(j)&&q!==V&&(q!=null||V!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:ne(n,i,j,q,o,V)}return;default:if(Em(i)){for(var ie in a)q=a[ie],a.hasOwnProperty(ie)&&q!==void 0&&!o.hasOwnProperty(ie)&&rb(n,i,ie,void 0,o,q);for(Y in o)q=o[Y],V=a[Y],!o.hasOwnProperty(Y)||q===V||q===void 0&&V===void 0||rb(n,i,Y,q,o,V);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!o.hasOwnProperty(z)&&ne(n,i,z,null,o,q);for(Q in o)q=o[Q],V=a[Q],!o.hasOwnProperty(Q)||q===V||q==null&&V==null||ne(n,i,Q,q,o,V)}var lb=null,ob=null;function bp(n){return n.nodeType===9?n:n.ownerDocument}function aE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function cb(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ub=null;function bR(){var n=window.event;return n&&n.type==="popstate"?n===ub?!1:(ub=n,!0):(ub=null,!1)}var lE=typeof setTimeout=="function"?setTimeout:void 0,vR=typeof clearTimeout=="function"?clearTimeout:void 0,oE=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof oE<"u"?function(n){return oE.resolve(null).then(n).catch(SR)}:lE;function SR(n){setTimeout(function(){throw n})}function Xa(n){return n==="head"}function cE(n,i){var a=i,o=0,p=0;do{var y=a.nextSibling;if(n.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<o&&8>o){a=o;var E=n.ownerDocument;if(a&1&&ih(E.documentElement),a&2&&ih(E.body),a&4)for(a=E.head,ih(a),E=a.firstChild;E;){var C=E.nextSibling,D=E.nodeName;E[bu]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=C}}if(p===0){n.removeChild(y),hh(i);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:o=a.charCodeAt(0)-48;else o=0;a=y}while(a);hh(i)}function hb(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hb(a),mm(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function ER(n,i,a,o){for(;n.nodeType===1;){var p=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[bu])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Pi(n.nextSibling),n===null)break}return null}function _R(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Pi(n.nextSibling),n===null))return null;return n}function db(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function wR(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),n._reactRetry=o}}function Pi(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var fb=null;function uE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function hE(n,i,a){switch(i=bp(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function ih(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);mm(n)}var Ei=new Map,dE=new Set;function vp(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var qs=X.d;X.d={f:xR,r:TR,D:CR,C:RR,L:MR,m:LR,X:OR,S:DR,M:kR};function xR(){var n=qs.f(),i=up();return n||i}function TR(n){var i=mo(n);i!==null&&i.tag===5&&i.type==="form"?OS(i):qs.r(n)}var Wo=typeof document>"u"?null:document;function fE(n,i,a){var o=Wo;if(o&&typeof i=="string"&&i){var p=gi(i);p='link[rel="'+n+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),dE.has(p)||(dE.add(p),n={rel:n,crossOrigin:a,href:i},o.querySelector(p)===null&&(i=o.createElement("link"),ln(i,"link",n),Ye(i),o.head.appendChild(i)))}}function CR(n){qs.D(n),fE("dns-prefetch",n,null)}function RR(n,i){qs.C(n,i),fE("preconnect",n,i)}function MR(n,i,a){qs.L(n,i,a);var o=Wo;if(o&&n&&i){var p='link[rel="preload"][as="'+gi(i)+'"]';i==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+gi(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+gi(a.imageSizes)+'"]')):p+='[href="'+gi(n)+'"]';var y=p;switch(i){case"style":y=Qo(n);break;case"script":y=Zo(n)}Ei.has(y)||(n=m({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Ei.set(y,n),o.querySelector(p)!==null||i==="style"&&o.querySelector(sh(y))||i==="script"&&o.querySelector(ah(y))||(i=o.createElement("link"),ln(i,"link",n),Ye(i),o.head.appendChild(i)))}}function LR(n,i){qs.m(n,i);var a=Wo;if(a&&n){var o=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+gi(o)+'"][href="'+gi(n)+'"]',y=p;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Zo(n)}if(!Ei.has(y)&&(n=m({rel:"modulepreload",href:n},i),Ei.set(y,n),a.querySelector(p)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ah(y)))return}o=a.createElement("link"),ln(o,"link",n),Ye(o),a.head.appendChild(o)}}}function DR(n,i,a){qs.S(n,i,a);var o=Wo;if(o&&n){var p=yo(o).hoistableStyles,y=Qo(n);i=i||"default";var E=p.get(y);if(!E){var C={loading:0,preload:null};if(E=o.querySelector(sh(y)))C.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Ei.get(y))&&pb(n,a);var D=E=o.createElement("link");Ye(D),ln(D,"link",n),D._p=new Promise(function(j,Y){D.onload=j,D.onerror=Y}),D.addEventListener("load",function(){C.loading|=1}),D.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ap(E,i,o)}E={type:"stylesheet",instance:E,count:1,state:C},p.set(y,E)}}}function OR(n,i){qs.X(n,i);var a=Wo;if(a&&n){var o=yo(a).hoistableScripts,p=Zo(n),y=o.get(p);y||(y=a.querySelector(ah(p)),y||(n=m({src:n,async:!0},i),(i=Ei.get(p))&&gb(n,i),y=a.createElement("script"),Ye(y),ln(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(p,y))}}function kR(n,i){qs.M(n,i);var a=Wo;if(a&&n){var o=yo(a).hoistableScripts,p=Zo(n),y=o.get(p);y||(y=a.querySelector(ah(p)),y||(n=m({src:n,async:!0,type:"module"},i),(i=Ei.get(p))&&gb(n,i),y=a.createElement("script"),Ye(y),ln(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(p,y))}}function pE(n,i,a,o){var p=(p=ct.current)?vp(p):null;if(!p)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qo(a.href),a=yo(p).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Qo(a.href);var y=yo(p).hoistableStyles,E=y.get(n);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=p.querySelector(sh(n)))&&!y._p&&(E.instance=y,E.state.loading=5),Ei.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ei.set(n,a),y||NR(p,n,a,E.state))),i&&o===null)throw Error(s(528,""));return E}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Zo(a),a=yo(p).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Qo(n){return'href="'+gi(n)+'"'}function sh(n){return'link[rel="stylesheet"]['+n+"]"}function gE(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function NR(n,i,a,o){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=n.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),ln(i,"link",a),Ye(i),n.head.appendChild(i))}function Zo(n){return'[src="'+gi(n)+'"]'}function ah(n){return"script[async]"+n}function mE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=n.querySelector('style[data-href~="'+gi(a.href)+'"]');if(o)return i.instance=o,Ye(o),o;var p=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),Ye(o),ln(o,"style",p),Ap(o,a.precedence,n),i.instance=o;case"stylesheet":p=Qo(a.href);var y=n.querySelector(sh(p));if(y)return i.state.loading|=4,i.instance=y,Ye(y),y;o=gE(a),(p=Ei.get(p))&&pb(o,p),y=(n.ownerDocument||n).createElement("link"),Ye(y);var E=y;return E._p=new Promise(function(C,D){E.onload=C,E.onerror=D}),ln(y,"link",o),i.state.loading|=4,Ap(y,a.precedence,n),i.instance=y;case"script":return y=Zo(a.src),(p=n.querySelector(ah(y)))?(i.instance=p,Ye(p),p):(o=a,(p=Ei.get(y))&&(o=m({},a),gb(o,p)),n=n.ownerDocument||n,p=n.createElement("script"),Ye(p),ln(p,"link",o),n.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Ap(o,a.precedence,n));return i.instance}function Ap(n,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=o.length?o[o.length-1]:null,y=p,E=0;E<o.length;E++){var C=o[E];if(C.dataset.precedence===i)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function pb(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function gb(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Sp=null;function yE(n,i,a){if(Sp===null){var o=new Map,p=Sp=new Map;p.set(a,o)}else p=Sp,o=p.get(a),o||(o=new Map,p.set(a,o));if(o.has(n))return o;for(o.set(n,null),a=a.getElementsByTagName(n),p=0;p<a.length;p++){var y=a[p];if(!(y[bu]||y[pn]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(i)||"";E=n+E;var C=o.get(E);C?C.push(y):o.set(E,[y])}}return o}function bE(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function PR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var rh=null;function FR(){}function HR(n,i,a){if(rh===null)throw Error(s(475));var o=rh;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=Qo(a.href),y=n.querySelector(sh(p));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=Ep.bind(o),n.then(o,o)),i.state.loading|=4,i.instance=y,Ye(y);return}y=n.ownerDocument||n,a=gE(a),(p=Ei.get(p))&&pb(a,p),y=y.createElement("link"),Ye(y);var E=y;E._p=new Promise(function(C,D){E.onload=C,E.onerror=D}),ln(y,"link",a),i.instance=y}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Ep.bind(o),n.addEventListener("load",i),n.addEventListener("error",i))}}function zR(){if(rh===null)throw Error(s(475));var n=rh;return n.stylesheets&&n.count===0&&mb(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&mb(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Ep(){if(this.count--,this.count===0){if(this.stylesheets)mb(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var _p=null;function mb(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,_p=new Map,i.forEach(IR,n),_p=null,Ep.call(n))}function IR(n,i){if(!(i.state.loading&4)){var a=_p.get(n);if(a)var o=a.get(null);else{a=new Map,_p.set(n,a);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),o=E)}o&&a.set(null,o)}p=i.instance,E=p.getAttribute("data-precedence"),y=a.get(E)||o,y===o&&a.set(null,p),a.set(E,p),this.count++,o=Ep.bind(this),p.addEventListener("load",o),p.addEventListener("error",o),y?y.parentNode.insertBefore(p,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),i.state.loading|=4}}var lh={$$typeof:L,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function UR(n,i,a,o,p,y,E,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.hiddenUpdates=dm(null),this.identifierPrefix=o,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function AE(n,i,a,o,p,y,E,C,D,j,Y,Q){return n=new UR(n,i,a,E,C,D,j,Q),i=1,y===!0&&(i|=24),y=Kn(3,null,null,i),n.current=y,y.stateNode=n,i=Qm(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:o,isDehydrated:a,cache:i},ey(y),n}function SE(n){return n?(n=Mo,n):Mo}function EE(n,i,a,o,p,y){p=SE(p),o.context===null?o.context=p:o.pendingContext=p,o=ka(i),o.payload={element:a},y=y===void 0?null:y,y!==null&&(o.callback=y),a=Na(n,o,i),a!==null&&(ti(a,n,i),Hu(a,n,i))}function _E(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function yb(n,i){_E(n,i),(n=n.alternate)&&_E(n,i)}function wE(n){if(n.tag===13){var i=Ro(n,67108864);i!==null&&ti(i,n,67108864),yb(n,67108864)}}var wp=!0;function BR(n,i,a,o){var p=U.T;U.T=null;var y=X.p;try{X.p=2,bb(n,i,a,o)}finally{X.p=y,U.T=p}}function jR(n,i,a,o){var p=U.T;U.T=null;var y=X.p;try{X.p=8,bb(n,i,a,o)}finally{X.p=y,U.T=p}}function bb(n,i,a,o){if(wp){var p=vb(o);if(p===null)ab(n,i,o,xp,a),TE(n,o);else if(qR(p,n,i,a,o))o.stopPropagation();else if(TE(n,o),i&4&&-1<GR.indexOf(n)){for(;p!==null;){var y=mo(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Pr(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var D=1<<31-Xe(E);C.entanglements[1]|=D,E&=~D}ss(y),(Kt&6)===0&&(op=sn()+500,th(0))}}break;case 13:C=Ro(y,2),C!==null&&ti(C,y,2),up(),yb(y,2)}if(y=vb(o),y===null&&ab(n,i,o,xp,a),y===p)break;p=y}p!==null&&o.stopPropagation()}else ab(n,i,o,null,a)}}function vb(n){return n=wm(n),Ab(n)}var xp=null;function Ab(n){if(xp=null,n=go(n),n!==null){var i=l(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return xp=n,null}function xE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kr()){case gf:return 2;case mf:return 8;case Ms:case cm:return 32;case yf:return 268435456;default:return 32}default:return 32}}var Sb=!1,Ya=null,$a=null,Ka=null,oh=new Map,ch=new Map,Wa=[],GR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TE(n,i){switch(n){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":oh.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(i.pointerId)}}function uh(n,i,a,o,p,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:y,targetContainers:[p]},i!==null&&(i=mo(i),i!==null&&wE(i)),n):(n.eventSystemFlags|=o,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function qR(n,i,a,o,p){switch(i){case"focusin":return Ya=uh(Ya,n,i,a,o,p),!0;case"dragenter":return $a=uh($a,n,i,a,o,p),!0;case"mouseover":return Ka=uh(Ka,n,i,a,o,p),!0;case"pointerover":var y=p.pointerId;return oh.set(y,uh(oh.get(y)||null,n,i,a,o,p)),!0;case"gotpointercapture":return y=p.pointerId,ch.set(y,uh(ch.get(y)||null,n,i,a,o,p)),!0}return!1}function CE(n){var i=go(n.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,HT(n.priority,function(){if(a.tag===13){var o=Jn();o=fm(o);var p=Ro(a,o);p!==null&&ti(p,a,o),yb(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tp(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=vb(n.nativeEvent);if(a===null){a=n.nativeEvent;var o=new a.constructor(a.type,a);_m=o,a.target.dispatchEvent(o),_m=null}else return i=mo(a),i!==null&&wE(i),n.blockedOn=a,!1;i.shift()}return!0}function RE(n,i,a){Tp(n)&&a.delete(i)}function VR(){Sb=!1,Ya!==null&&Tp(Ya)&&(Ya=null),$a!==null&&Tp($a)&&($a=null),Ka!==null&&Tp(Ka)&&(Ka=null),oh.forEach(RE),ch.forEach(RE)}function Cp(n,i){n.blockedOn===i&&(n.blockedOn=null,Sb||(Sb=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,VR)))}var Rp=null;function ME(n){Rp!==n&&(Rp=n,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Rp===n&&(Rp=null);for(var i=0;i<n.length;i+=3){var a=n[i],o=n[i+1],p=n[i+2];if(typeof o!="function"){if(Ab(o||a)===null)continue;break}var y=mo(a);y!==null&&(n.splice(i,3),i-=3,Ay(y,{pending:!0,data:p,method:a.method,action:o},o,p))}}))}function hh(n){function i(D){return Cp(D,n)}Ya!==null&&Cp(Ya,n),$a!==null&&Cp($a,n),Ka!==null&&Cp(Ka,n),oh.forEach(i),ch.forEach(i);for(var a=0;a<Wa.length;a++){var o=Wa[a];o.blockedOn===n&&(o.blockedOn=null)}for(;0<Wa.length&&(a=Wa[0],a.blockedOn===null);)CE(a),a.blockedOn===null&&Wa.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var p=a[o],y=a[o+1],E=p[Nn]||null;if(typeof y=="function")E||ME(a);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[Nn]||null)C=E.formAction;else if(Ab(p)!==null)continue}else C=E.action;typeof C=="function"?a[o+1]=C:(a.splice(o,3),o-=3),ME(a)}}}function Eb(n){this._internalRoot=n}Mp.prototype.render=Eb.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Jn();EE(a,o,n,i,null,null)},Mp.prototype.unmount=Eb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;EE(n.current,2,null,n,null,null),up(),i[po]=null}};function Mp(n){this._internalRoot=n}Mp.prototype.unstable_scheduleHydration=function(n){if(n){var i=X0();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Wa.length&&i!==0&&i<Wa[a].priority;a++);Wa.splice(a,0,n),a===0&&CE(n)}};var LE=t.version;if(LE!=="19.1.0")throw Error(s(527,LE,"19.1.0"));X.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var XR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lp.isDisabled&&Lp.supportsFiber)try{Nr=Lp.inject(XR),Le=Lp}catch{}}return fh.createRoot=function(n,i){if(!r(n))throw Error(s(299));var a=!1,o="",p=XS,y=YS,E=$S,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=AE(n,1,!1,null,null,a,o,p,y,E,C,null),n[po]=i.current,sb(n),new Eb(i)},fh.hydrateRoot=function(n,i,a){if(!r(n))throw Error(s(299));var o=!1,p="",y=XS,E=YS,C=$S,D=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=AE(n,1,!0,i,a??null,o,p,y,E,C,D,j),i.context=SE(null),a=i.current,o=Jn(),o=fm(o),p=ka(o),p.callback=null,Na(a,p,o),a=o,i.current.lanes=a,yu(i,a),ss(i),n[po]=i.current,sb(n),new Mp(i)},fh.version="19.1.0",fh}var jE;function rM(){if(jE)return Tb.exports;jE=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),Tb.exports=aM(),Tb.exports}var lM=rM(),ph={},GE;function oM(){if(GE)return ph;GE=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.parse=u,ph.serialize=g;const c=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,A){const S=new l,x=v.length;if(x<2)return S;const M=(A==null?void 0:A.decode)||m;let T=0;do{const O=v.indexOf("=",T);if(O===-1)break;const L=v.indexOf(";",T),N=L===-1?x:L;if(O>N){T=v.lastIndexOf(";",O-1)+1;continue}const H=d(v,T,O),B=f(v,O,H),G=v.slice(H,B);if(S[G]===void 0){let W=d(v,O+1,N),J=f(v,N,W);const st=M(v.slice(W,J));S[G]=st}T=N+1}while(T<x);return S}function d(v,A,S){do{const x=v.charCodeAt(A);if(x!==32&&x!==9)return A}while(++A<S);return S}function f(v,A,S){for(;A>S;){const x=v.charCodeAt(--A);if(x!==32&&x!==9)return A+1}return S}function g(v,A,S){const x=(S==null?void 0:S.encode)||encodeURIComponent;if(!c.test(v))throw new TypeError(`argument name is invalid: ${v}`);const M=x(A);if(!t.test(M))throw new TypeError(`argument val is invalid: ${A}`);let T=v+"="+M;if(!S)return T;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);T+="; Max-Age="+S.maxAge}if(S.domain){if(!e.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);T+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);T+="; Path="+S.path}if(S.expires){if(!b(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);T+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(T+="; HttpOnly"),S.secure&&(T+="; Secure"),S.partitioned&&(T+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return T}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function b(v){return r.call(v)==="[object Date]"}return ph}oM();var qE="popstate";function cM(c={}){function t(r,l){let{pathname:u="/",search:d="",hash:f=""}=oo(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Gb("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(r,l){let u=r.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=r.location.href,g=f.indexOf("#");d=g===-1?f:f.slice(0,g)}return d+"#"+(typeof l=="string"?l:Uh(l))}function s(r,l){Zi(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return hM(t,e,s,c)}function ve(c,t){if(c===!1||c===null||typeof c>"u")throw new Error(t)}function Zi(c,t){if(!c){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uM(){return Math.random().toString(36).substring(2,10)}function VE(c,t){return{usr:c.state,key:c.key,idx:t}}function Gb(c,t,e=null,s){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof t=="string"?oo(t):t,state:e,key:t&&t.key||s||uM()}}function Uh({pathname:c="/",search:t="",hash:e=""}){return t&&t!=="?"&&(c+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(c+=e.charAt(0)==="#"?e:"#"+e),c}function oo(c){let t={};if(c){let e=c.indexOf("#");e>=0&&(t.hash=c.substring(e),c=c.substring(0,e));let s=c.indexOf("?");s>=0&&(t.search=c.substring(s),c=c.substring(0,s)),c&&(t.pathname=c)}return t}function hM(c,t,e,s={}){let{window:r=document.defaultView,v5Compat:l=!1}=s,u=r.history,d="POP",f=null,g=m();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function m(){return(u.state||{idx:null}).idx}function b(){d="POP";let M=m(),T=M==null?null:M-g;g=M,f&&f({action:d,location:x.location,delta:T})}function v(M,T){d="PUSH";let O=Gb(x.location,M,T);e&&e(O,M),g=m()+1;let L=VE(O,g),N=x.createHref(O);try{u.pushState(L,"",N)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(N)}l&&f&&f({action:d,location:x.location,delta:1})}function A(M,T){d="REPLACE";let O=Gb(x.location,M,T);e&&e(O,M),g=m();let L=VE(O,g),N=x.createHref(O);u.replaceState(L,"",N),l&&f&&f({action:d,location:x.location,delta:0})}function S(M){return dM(M)}let x={get action(){return d},get location(){return c(r,u)},listen(M){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(qE,b),f=M,()=>{r.removeEventListener(qE,b),f=null}},createHref(M){return t(r,M)},createURL:S,encodeLocation(M){let T=S(M);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:A,go(M){return u.go(M)}};return x}function dM(c,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ve(e,"No window.location.(origin|href) available to create URL");let s=typeof c=="string"?c:Uh(c);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function F_(c,t,e="/"){return fM(c,t,e,!1)}function fM(c,t,e,s){let r=typeof t=="string"?oo(t):t,l=xa(r.pathname||"/",e);if(l==null)return null;let u=H_(c);pM(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let g=xM(l);d=_M(u[f],g,s)}return d}function H_(c,t=[],e=[],s=""){let r=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(ve(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let g=Sa([s,f.relativePath]),m=e.concat(f);l.children&&l.children.length>0&&(ve(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),H_(l.children,t,m,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:SM(g,l.index),routesMeta:m})};return c.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))r(l,u);else for(let f of z_(l.path))r(l,u,f)}),t}function z_(c){let t=c.split("/");if(t.length===0)return[];let[e,...s]=t,r=e.endsWith("?"),l=e.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let u=z_(s.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),r&&d.push(...u),d.map(f=>c.startsWith("/")&&f===""?"/":f)}function pM(c){c.sort((t,e)=>t.score!==e.score?e.score-t.score:EM(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var gM=/^:[\w-]+$/,mM=3,yM=2,bM=1,vM=10,AM=-2,XE=c=>c==="*";function SM(c,t){let e=c.split("/"),s=e.length;return e.some(XE)&&(s+=AM),t&&(s+=yM),e.filter(r=>!XE(r)).reduce((r,l)=>r+(gM.test(l)?mM:l===""?bM:vM),s)}function EM(c,t){return c.length===t.length&&c.slice(0,-1).every((s,r)=>s===t[r])?c[c.length-1]-t[t.length-1]:0}function _M(c,t,e=!1){let{routesMeta:s}=c,r={},l="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],g=d===s.length-1,m=l==="/"?t:t.slice(l.length)||"/",b=Eg({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},m),v=f.route;if(!b&&g&&e&&!s[s.length-1].route.index&&(b=Eg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!b)return null;Object.assign(r,b.params),u.push({params:r,pathname:Sa([l,b.pathname]),pathnameBase:MM(Sa([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=Sa([l,b.pathnameBase]))}return u}function Eg(c,t){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[e,s]=wM(c.path,c.caseSensitive,c.end),r=t.match(e);if(!r)return null;let l=r[0],u=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:s.reduce((g,{paramName:m,isOptional:b},v)=>{if(m==="*"){let S=d[v]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const A=d[v];return b&&!A?g[m]=void 0:g[m]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:c}}function wM(c,t=!1,e=!0){Zi(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let s=[],r="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(s.push({paramName:"*"}),r+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":c!==""&&c!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function xM(c){try{return c.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zi(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),c}}function xa(c,t){if(t==="/")return c;if(!c.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=c.charAt(e);return s&&s!=="/"?null:c.slice(e)||"/"}function TM(c,t="/"){let{pathname:e,search:s="",hash:r=""}=typeof c=="string"?oo(c):c;return{pathname:e?e.startsWith("/")?e:CM(e,t):t,search:LM(s),hash:DM(r)}}function CM(c,t){let e=t.replace(/\/+$/,"").split("/");return c.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Lb(c,t,e,s){return`Cannot include a '${c}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RM(c){return c.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function I_(c){let t=RM(c);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function U_(c,t,e,s=!1){let r;typeof c=="string"?r=oo(c):(r={...c},ve(!r.pathname||!r.pathname.includes("?"),Lb("?","pathname","search",r)),ve(!r.pathname||!r.pathname.includes("#"),Lb("#","pathname","hash",r)),ve(!r.search||!r.search.includes("#"),Lb("#","search","hash",r)));let l=c===""||r.pathname==="",u=l?"/":r.pathname,d;if(u==null)d=e;else{let b=t.length-1;if(!s&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),b-=1;r.pathname=v.join("/")}d=b>=0?t[b]:"/"}let f=TM(r,d),g=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||m)&&(f.pathname+="/"),f}var Sa=c=>c.join("/").replace(/\/\/+/g,"/"),MM=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),LM=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,DM=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function OM(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}var B_=["POST","PUT","PATCH","DELETE"];new Set(B_);var kM=["GET",...B_];new Set(kM);var fu=F.createContext(null);fu.displayName="DataRouter";var Xg=F.createContext(null);Xg.displayName="DataRouterState";var j_=F.createContext({isTransitioning:!1});j_.displayName="ViewTransition";var NM=F.createContext(new Map);NM.displayName="Fetchers";var PM=F.createContext(null);PM.displayName="Await";var Cs=F.createContext(null);Cs.displayName="Navigation";var lf=F.createContext(null);lf.displayName="Location";var Ra=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ra.displayName="Route";var m0=F.createContext(null);m0.displayName="RouteError";function FM(c,{relative:t}={}){ve(of(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=F.useContext(Cs),{hash:r,pathname:l,search:u}=cf(c,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:Sa([e,l])),s.createHref({pathname:d,search:u,hash:r})}function of(){return F.useContext(lf)!=null}function co(){return ve(of(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(lf).location}var G_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q_(c){F.useContext(Cs).static||F.useLayoutEffect(c)}function HM(){let{isDataRoute:c}=F.useContext(Ra);return c?WM():zM()}function zM(){ve(of(),"useNavigate() may be used only in the context of a <Router> component.");let c=F.useContext(fu),{basename:t,navigator:e}=F.useContext(Cs),{matches:s}=F.useContext(Ra),{pathname:r}=co(),l=JSON.stringify(I_(s)),u=F.useRef(!1);return q_(()=>{u.current=!0}),F.useCallback((f,g={})=>{if(Zi(u.current,G_),!u.current)return;if(typeof f=="number"){e.go(f);return}let m=U_(f,JSON.parse(l),r,g.relative==="path");c==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Sa([t,m.pathname])),(g.replace?e.replace:e.push)(m,g.state,g)},[t,e,l,r,c])}F.createContext(null);function cf(c,{relative:t}={}){let{matches:e}=F.useContext(Ra),{pathname:s}=co(),r=JSON.stringify(I_(e));return F.useMemo(()=>U_(c,JSON.parse(r),s,t==="path"),[c,r,s,t])}function IM(c,t){return V_(c,t)}function V_(c,t,e,s){var O;ve(of(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:l}=F.useContext(Cs),{matches:u}=F.useContext(Ra),d=u[u.length-1],f=d?d.params:{},g=d?d.pathname:"/",m=d?d.pathnameBase:"/",b=d&&d.route;{let L=b&&b.path||"";X_(g,!b||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=co(),A;if(t){let L=typeof t=="string"?oo(t):t;ve(m==="/"||((O=L.pathname)==null?void 0:O.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${L.pathname}" was given in the \`location\` prop.`),A=L}else A=v;let S=A.pathname||"/",x=S;if(m!=="/"){let L=m.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let M=!l&&e&&e.matches&&e.matches.length>0?e.matches:F_(c,{pathname:x});Zi(b||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Zi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=qM(M&&M.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:Sa([m,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:Sa([m,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,e,s);return t&&T?F.createElement(lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},T):T}function UM(){let c=KM(),t=OM(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),e=c instanceof Error?c.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",c),u=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),e?F.createElement("pre",{style:r},e):null,u)}var BM=F.createElement(UM,null),jM=class extends F.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,t){return t.location!==c.location||t.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:t.error,location:t.location,revalidation:c.revalidation||t.revalidation}}componentDidCatch(c,t){console.error("React Router caught the following error during render",c,t)}render(){return this.state.error!==void 0?F.createElement(Ra.Provider,{value:this.props.routeContext},F.createElement(m0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GM({routeContext:c,match:t,children:e}){let s=F.useContext(fu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Ra.Provider,{value:c},e)}function qM(c,t=[],e=null,s=null){if(c==null){if(!e)return null;if(e.errors)c=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)c=e.matches;else return null}let r=c,l=e==null?void 0:e.errors;if(l!=null){let f=r.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ve(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,d=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:m,errors:b}=e,v=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||v){u=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((f,g,m)=>{let b,v=!1,A=null,S=null;e&&(b=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||BM,u&&(d<0&&m===0?(X_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):d===m&&(v=!0,S=g.route.hydrateFallbackElement||null)));let x=t.concat(r.slice(0,m+1)),M=()=>{let T;return b?T=A:v?T=S:g.route.Component?T=F.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=f,F.createElement(GM,{match:g,routeContext:{outlet:f,matches:x,isDataRoute:e!=null},children:T})};return e&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?F.createElement(jM,{location:e.location,revalidation:e.revalidation,component:A,error:b,children:M(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):M()},null)}function y0(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VM(c){let t=F.useContext(fu);return ve(t,y0(c)),t}function XM(c){let t=F.useContext(Xg);return ve(t,y0(c)),t}function YM(c){let t=F.useContext(Ra);return ve(t,y0(c)),t}function b0(c){let t=YM(c),e=t.matches[t.matches.length-1];return ve(e.route.id,`${c} can only be used on routes that contain a unique "id"`),e.route.id}function $M(){return b0("useRouteId")}function KM(){var s;let c=F.useContext(m0),t=XM("useRouteError"),e=b0("useRouteError");return c!==void 0?c:(s=t.errors)==null?void 0:s[e]}function WM(){let{router:c}=VM("useNavigate"),t=b0("useNavigate"),e=F.useRef(!1);return q_(()=>{e.current=!0}),F.useCallback(async(r,l={})=>{Zi(e.current,G_),e.current&&(typeof r=="number"?c.navigate(r):await c.navigate(r,{fromRouteId:t,...l}))},[c,t])}var YE={};function X_(c,t,e){!t&&!YE[c]&&(YE[c]=!0,Zi(!1,e))}F.memo(QM);function QM({routes:c,future:t,state:e}){return V_(c,void 0,e,t)}function Ah(c){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZM({basename:c="/",children:t=null,location:e,navigationType:s="POP",navigator:r,static:l=!1}){ve(!of(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=c.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:u,navigator:r,static:l,future:{}}),[u,r,l]);typeof e=="string"&&(e=oo(e));let{pathname:f="/",search:g="",hash:m="",state:b=null,key:v="default"}=e,A=F.useMemo(()=>{let S=xa(f,u);return S==null?null:{location:{pathname:S,search:g,hash:m,state:b,key:v},navigationType:s}},[u,f,g,m,b,v,s]);return Zi(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:F.createElement(Cs.Provider,{value:d},F.createElement(lf.Provider,{children:t,value:A}))}function JM({children:c,location:t}){return IM(qb(c),t)}function qb(c,t=[]){let e=[];return F.Children.forEach(c,(s,r)=>{if(!F.isValidElement(s))return;let l=[...t,r];if(s.type===F.Fragment){e.push.apply(e,qb(s.props.children,l));return}ve(s.type===Ah,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=qb(s.props.children,l)),e.push(u)}),e}var Up="get",Bp="application/x-www-form-urlencoded";function Yg(c){return c!=null&&typeof c.tagName=="string"}function t2(c){return Yg(c)&&c.tagName.toLowerCase()==="button"}function e2(c){return Yg(c)&&c.tagName.toLowerCase()==="form"}function n2(c){return Yg(c)&&c.tagName.toLowerCase()==="input"}function i2(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function s2(c,t){return c.button===0&&(!t||t==="_self")&&!i2(c)}var Dp=null;function a2(){if(Dp===null)try{new FormData(document.createElement("form"),0),Dp=!1}catch{Dp=!0}return Dp}var r2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Db(c){return c!=null&&!r2.has(c)?(Zi(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bp}"`),null):c}function l2(c,t){let e,s,r,l,u;if(e2(c)){let d=c.getAttribute("action");s=d?xa(d,t):null,e=c.getAttribute("method")||Up,r=Db(c.getAttribute("enctype"))||Bp,l=new FormData(c)}else if(t2(c)||n2(c)&&(c.type==="submit"||c.type==="image")){let d=c.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=c.getAttribute("formaction")||d.getAttribute("action");if(s=f?xa(f,t):null,e=c.getAttribute("formmethod")||d.getAttribute("method")||Up,r=Db(c.getAttribute("formenctype"))||Db(d.getAttribute("enctype"))||Bp,l=new FormData(d,c),!a2()){let{name:g,type:m,value:b}=c;if(m==="image"){let v=g?`${g}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else g&&l.append(g,b)}}else{if(Yg(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Up,s=null,r=Bp,u=c}return l&&r==="text/plain"&&(u=l,l=void 0),{action:s,method:e.toLowerCase(),encType:r,formData:l,body:u}}function v0(c,t){if(c===!1||c===null||typeof c>"u")throw new Error(t)}async function o2(c,t){if(c.id in t)return t[c.id];try{let e=await import(c.module);return t[c.id]=e,e}catch(e){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c2(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function u2(c,t,e){let s=await Promise.all(c.map(async r=>{let l=t.routes[r.route.id];if(l){let u=await o2(l,e);return u.links?u.links():[]}return[]}));return p2(s.flat(1).filter(c2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function $E(c,t,e,s,r,l){let u=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,d=(f,g)=>{var m;return e[g].pathname!==f.pathname||((m=e[g].route.path)==null?void 0:m.endsWith("*"))&&e[g].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,g)=>u(f,g)||d(f,g)):l==="data"?t.filter((f,g)=>{var b;let m=s.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,g)||d(f,g))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((b=e[0])==null?void 0:b.params)||{},nextUrl:new URL(c,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function h2(c,t,{includeHydrateFallback:e}={}){return d2(c.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function d2(c){return[...new Set(c)]}function f2(c){let t={},e=Object.keys(c).sort();for(let s of e)t[s]=c[s];return t}function p2(c,t){let e=new Set;return new Set(t),c.reduce((s,r)=>{let l=JSON.stringify(f2(r));return e.has(l)||(e.add(l),s.push({key:l,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var g2=new Set([100,101,204,205]);function m2(c,t){let e=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return e.pathname==="/"?e.pathname="_root.data":t&&xa(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Y_(){let c=F.useContext(fu);return v0(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function y2(){let c=F.useContext(Xg);return v0(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var A0=F.createContext(void 0);A0.displayName="FrameworkContext";function $_(){let c=F.useContext(A0);return v0(c,"You must render this element inside a <HydratedRouter> element"),c}function b2(c,t){let e=F.useContext(A0),[s,r]=F.useState(!1),[l,u]=F.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:g,onMouseLeave:m,onTouchStart:b}=t,v=F.useRef(null);F.useEffect(()=>{if(c==="render"&&u(!0),c==="viewport"){let x=T=>{T.forEach(O=>{u(O.isIntersecting)})},M=new IntersectionObserver(x,{threshold:.5});return v.current&&M.observe(v.current),()=>{M.disconnect()}}},[c]),F.useEffect(()=>{if(s){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[s]);let A=()=>{r(!0)},S=()=>{r(!1),u(!1)};return e?c!=="intent"?[l,v,{}]:[l,v,{onFocus:gh(d,A),onBlur:gh(f,S),onMouseEnter:gh(g,A),onMouseLeave:gh(m,S),onTouchStart:gh(b,A)}]:[!1,v,{}]}function gh(c,t){return e=>{c&&c(e),e.defaultPrevented||t(e)}}function v2({page:c,...t}){let{router:e}=Y_(),s=F.useMemo(()=>F_(e.routes,c,e.basename),[e.routes,c,e.basename]);return s?F.createElement(S2,{page:c,matches:s,...t}):null}function A2(c){let{manifest:t,routeModules:e}=$_(),[s,r]=F.useState([]);return F.useEffect(()=>{let l=!1;return u2(c,t,e).then(u=>{l||r(u)}),()=>{l=!0}},[c,t,e]),s}function S2({page:c,matches:t,...e}){let s=co(),{manifest:r,routeModules:l}=$_(),{basename:u}=Y_(),{loaderData:d,matches:f}=y2(),g=F.useMemo(()=>$E(c,t,f,r,s,"data"),[c,t,f,r,s]),m=F.useMemo(()=>$E(c,t,f,r,s,"assets"),[c,t,f,r,s]),b=F.useMemo(()=>{if(c===s.pathname+s.search+s.hash)return[];let S=new Set,x=!1;if(t.forEach(T=>{var L;let O=r.routes[T.route.id];!O||!O.hasLoader||(!g.some(N=>N.route.id===T.route.id)&&T.route.id in d&&((L=l[T.route.id])!=null&&L.shouldRevalidate)||O.hasClientLoader?x=!0:S.add(T.route.id))}),S.size===0)return[];let M=m2(c,u);return x&&S.size>0&&M.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[M.pathname+M.search]},[u,d,s,r,g,t,c,l]),v=F.useMemo(()=>h2(m,r),[m,r]),A=A2(m);return F.createElement(F.Fragment,null,b.map(S=>F.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),v.map(S=>F.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),A.map(({key:S,link:x})=>F.createElement("link",{key:S,...x})))}function E2(...c){return t=>{c.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K_&&(window.__reactRouterVersion="7.6.0")}catch{}function _2({basename:c,children:t,window:e}){let s=F.useRef();s.current==null&&(s.current=cM({window:e,v5Compat:!0}));let r=s.current,[l,u]=F.useState({action:r.action,location:r.location}),d=F.useCallback(f=>{F.startTransition(()=>u(f))},[u]);return F.useLayoutEffect(()=>r.listen(d),[r,d]),F.createElement(ZM,{basename:c,children:t,location:l.location,navigationType:l.action,navigator:r})}var W_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S0=F.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:r,reloadDocument:l,replace:u,state:d,target:f,to:g,preventScrollReset:m,viewTransition:b,...v},A){let{basename:S}=F.useContext(Cs),x=typeof g=="string"&&W_.test(g),M,T=!1;if(typeof g=="string"&&x&&(M=g,K_))try{let J=new URL(window.location.href),st=g.startsWith("//")?new URL(J.protocol+g):new URL(g),it=xa(st.pathname,S);st.origin===J.origin&&it!=null?g=it+st.search+st.hash:T=!0}catch{Zi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=FM(g,{relative:r}),[L,N,H]=b2(s,v),B=C2(g,{replace:u,state:d,target:f,preventScrollReset:m,relative:r,viewTransition:b});function G(J){t&&t(J),J.defaultPrevented||B(J)}let W=F.createElement("a",{...v,...H,href:M||O,onClick:T||l?t:G,ref:E2(A,N),target:f,"data-discover":!x&&e==="render"?"true":void 0});return L&&!x?F.createElement(F.Fragment,null,W,F.createElement(v2,{page:O})):W});S0.displayName="Link";var w2=F.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:r=!1,style:l,to:u,viewTransition:d,children:f,...g},m){let b=cf(u,{relative:g.relative}),v=co(),A=F.useContext(Xg),{navigator:S,basename:x}=F.useContext(Cs),M=A!=null&&O2(b)&&d===!0,T=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,O=v.pathname,L=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(O=O.toLowerCase(),L=L?L.toLowerCase():null,T=T.toLowerCase()),L&&x&&(L=xa(L,x)||L);const N=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let H=O===T||!r&&O.startsWith(T)&&O.charAt(N)==="/",B=L!=null&&(L===T||!r&&L.startsWith(T)&&L.charAt(T.length)==="/"),G={isActive:H,isPending:B,isTransitioning:M},W=H?t:void 0,J;typeof s=="function"?J=s(G):J=[s,H?"active":null,B?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let st=typeof l=="function"?l(G):l;return F.createElement(S0,{...g,"aria-current":W,className:J,ref:m,style:st,to:u,viewTransition:d},typeof f=="function"?f(G):f)});w2.displayName="NavLink";var x2=F.forwardRef(({discover:c="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:r,state:l,method:u=Up,action:d,onSubmit:f,relative:g,preventScrollReset:m,viewTransition:b,...v},A)=>{let S=L2(),x=D2(d,{relative:g}),M=u.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&W_.test(d),O=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let N=L.nativeEvent.submitter,H=(N==null?void 0:N.getAttribute("formmethod"))||u;S(N||L.currentTarget,{fetcherKey:t,method:H,navigate:e,replace:r,state:l,relative:g,preventScrollReset:m,viewTransition:b})};return F.createElement("form",{ref:A,method:M,action:x,onSubmit:s?f:O,...v,"data-discover":!T&&c==="render"?"true":void 0})});x2.displayName="Form";function T2(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q_(c){let t=F.useContext(fu);return ve(t,T2(c)),t}function C2(c,{target:t,replace:e,state:s,preventScrollReset:r,relative:l,viewTransition:u}={}){let d=HM(),f=co(),g=cf(c,{relative:l});return F.useCallback(m=>{if(s2(m,t)){m.preventDefault();let b=e!==void 0?e:Uh(f)===Uh(g);d(c,{replace:b,state:s,preventScrollReset:r,relative:l,viewTransition:u})}},[f,d,g,e,s,t,c,r,l,u])}var R2=0,M2=()=>`__${String(++R2)}__`;function L2(){let{router:c}=Q_("useSubmit"),{basename:t}=F.useContext(Cs),e=$M();return F.useCallback(async(s,r={})=>{let{action:l,method:u,encType:d,formData:f,body:g}=l2(s,t);if(r.navigate===!1){let m=r.fetcherKey||M2();await c.fetch(m,e,r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||d,flushSync:r.flushSync})}else await c.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[c,t,e])}function D2(c,{relative:t}={}){let{basename:e}=F.useContext(Cs),s=F.useContext(Ra);ve(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l={...cf(c||".",{relative:t})},u=co();if(c==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let m=d.toString();l.search=m?`?${m}`:""}}return(!c||c===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Sa([e,l.pathname])),Uh(l)}function O2(c,t={}){let e=F.useContext(j_);ve(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Q_("useViewTransitionState"),r=cf(c,{relative:t.relative});if(!e.isTransitioning)return!1;let l=xa(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=xa(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Eg(r.pathname,u)!=null||Eg(r.pathname,l)!=null}[...g2];function Vb(){return Vb=Object.assign?Object.assign.bind():function(c){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(c[s]=e[s])}return c},Vb.apply(null,arguments)}function k2(c){if(c.sheet)return c.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===c)return document.styleSheets[t]}function N2(c){var t=document.createElement("style");return t.setAttribute("data-emotion",c.key),c.nonce!==void 0&&t.setAttribute("nonce",c.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var P2=function(){function c(e){var s=this;this._insertTag=function(r){var l;s.tags.length===0?s.insertionPoint?l=s.insertionPoint.nextSibling:s.prepend?l=s.container.firstChild:l=s.before:l=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(r,l),s.tags.push(r)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=c.prototype;return t.hydrate=function(s){s.forEach(this._insertTag)},t.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(N2(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var l=k2(r);try{l.insertRule(s,l.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(s));this.ctr++},t.flush=function(){this.tags.forEach(function(s){var r;return(r=s.parentNode)==null?void 0:r.removeChild(s)}),this.tags=[],this.ctr=0},c}(),yn="-ms-",_g="-moz-",qt="-webkit-",Z_="comm",E0="rule",_0="decl",F2="@import",J_="@keyframes",H2="@layer",z2=Math.abs,$g=String.fromCharCode,I2=Object.assign;function U2(c,t){return dn(c,0)^45?(((t<<2^dn(c,0))<<2^dn(c,1))<<2^dn(c,2))<<2^dn(c,3):0}function tw(c){return c.trim()}function B2(c,t){return(c=t.exec(c))?c[0]:c}function Xt(c,t,e){return c.replace(t,e)}function Xb(c,t){return c.indexOf(t)}function dn(c,t){return c.charCodeAt(t)|0}function Bh(c,t,e){return c.slice(t,e)}function ws(c){return c.length}function w0(c){return c.length}function Op(c,t){return t.push(c),c}function j2(c,t){return c.map(t).join("")}var Kg=1,hu=1,ew=0,Xn=0,Pe=0,pu="";function Wg(c,t,e,s,r,l,u){return{value:c,root:t,parent:e,type:s,props:r,children:l,line:Kg,column:hu,length:u,return:""}}function mh(c,t){return I2(Wg("",null,null,"",null,null,0),c,{length:-c.length},t)}function G2(){return Pe}function q2(){return Pe=Xn>0?dn(pu,--Xn):0,hu--,Pe===10&&(hu=1,Kg--),Pe}function di(){return Pe=Xn<ew?dn(pu,Xn++):0,hu++,Pe===10&&(hu=1,Kg++),Pe}function Ts(){return dn(pu,Xn)}function jp(){return Xn}function uf(c,t){return Bh(pu,c,t)}function jh(c){switch(c){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nw(c){return Kg=hu=1,ew=ws(pu=c),Xn=0,[]}function iw(c){return pu="",c}function Gp(c){return tw(uf(Xn-1,Yb(c===91?c+2:c===40?c+1:c)))}function V2(c){for(;(Pe=Ts())&&Pe<33;)di();return jh(c)>2||jh(Pe)>3?"":" "}function X2(c,t){for(;--t&&di()&&!(Pe<48||Pe>102||Pe>57&&Pe<65||Pe>70&&Pe<97););return uf(c,jp()+(t<6&&Ts()==32&&di()==32))}function Yb(c){for(;di();)switch(Pe){case c:return Xn;case 34:case 39:c!==34&&c!==39&&Yb(Pe);break;case 40:c===41&&Yb(c);break;case 92:di();break}return Xn}function Y2(c,t){for(;di()&&c+Pe!==57;)if(c+Pe===84&&Ts()===47)break;return"/*"+uf(t,Xn-1)+"*"+$g(c===47?c:di())}function $2(c){for(;!jh(Ts());)di();return uf(c,Xn)}function K2(c){return iw(qp("",null,null,null,[""],c=nw(c),0,[0],c))}function qp(c,t,e,s,r,l,u,d,f){for(var g=0,m=0,b=u,v=0,A=0,S=0,x=1,M=1,T=1,O=0,L="",N=r,H=l,B=s,G=L;M;)switch(S=O,O=di()){case 40:if(S!=108&&dn(G,b-1)==58){Xb(G+=Xt(Gp(O),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:G+=Gp(O);break;case 9:case 10:case 13:case 32:G+=V2(S);break;case 92:G+=X2(jp()-1,7);continue;case 47:switch(Ts()){case 42:case 47:Op(W2(Y2(di(),jp()),t,e),f);break;default:G+="/"}break;case 123*x:d[g++]=ws(G)*T;case 125*x:case 59:case 0:switch(O){case 0:case 125:M=0;case 59+m:T==-1&&(G=Xt(G,/\f/g,"")),A>0&&ws(G)-b&&Op(A>32?WE(G+";",s,e,b-1):WE(Xt(G," ","")+";",s,e,b-2),f);break;case 59:G+=";";default:if(Op(B=KE(G,t,e,g,m,r,d,L,N=[],H=[],b),l),O===123)if(m===0)qp(G,t,B,B,N,l,b,d,H);else switch(v===99&&dn(G,3)===110?100:v){case 100:case 108:case 109:case 115:qp(c,B,B,s&&Op(KE(c,B,B,0,0,r,d,L,r,N=[],b),H),r,H,b,d,s?N:H);break;default:qp(G,B,B,B,[""],H,0,d,H)}}g=m=A=0,x=T=1,L=G="",b=u;break;case 58:b=1+ws(G),A=S;default:if(x<1){if(O==123)--x;else if(O==125&&x++==0&&q2()==125)continue}switch(G+=$g(O),O*x){case 38:T=m>0?1:(G+="\f",-1);break;case 44:d[g++]=(ws(G)-1)*T,T=1;break;case 64:Ts()===45&&(G+=Gp(di())),v=Ts(),m=b=ws(L=G+=$2(jp())),O++;break;case 45:S===45&&ws(G)==2&&(x=0)}}return l}function KE(c,t,e,s,r,l,u,d,f,g,m){for(var b=r-1,v=r===0?l:[""],A=w0(v),S=0,x=0,M=0;S<s;++S)for(var T=0,O=Bh(c,b+1,b=z2(x=u[S])),L=c;T<A;++T)(L=tw(x>0?v[T]+" "+O:Xt(O,/&\f/g,v[T])))&&(f[M++]=L);return Wg(c,t,e,r===0?E0:d,f,g,m)}function W2(c,t,e){return Wg(c,t,e,Z_,$g(G2()),Bh(c,2,-2),0)}function WE(c,t,e,s){return Wg(c,t,e,_0,Bh(c,0,s),Bh(c,s+1,-1),s)}function oc(c,t){for(var e="",s=w0(c),r=0;r<s;r++)e+=t(c[r],r,c,t)||"";return e}function Q2(c,t,e,s){switch(c.type){case H2:if(c.children.length)break;case F2:case _0:return c.return=c.return||c.value;case Z_:return"";case J_:return c.return=c.value+"{"+oc(c.children,s)+"}";case E0:c.value=c.props.join(",")}return ws(e=oc(c.children,s))?c.return=c.value+"{"+e+"}":""}function Z2(c){var t=w0(c);return function(e,s,r,l){for(var u="",d=0;d<t;d++)u+=c[d](e,s,r,l)||"";return u}}function J2(c){return function(t){t.root||(t=t.return)&&c(t)}}function sw(c){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=c(e)),t[e]}}var tL=function(t,e,s){for(var r=0,l=0;r=l,l=Ts(),r===38&&l===12&&(e[s]=1),!jh(l);)di();return uf(t,Xn)},eL=function(t,e){var s=-1,r=44;do switch(jh(r)){case 0:r===38&&Ts()===12&&(e[s]=1),t[s]+=tL(Xn-1,e,s);break;case 2:t[s]+=Gp(r);break;case 4:if(r===44){t[++s]=Ts()===58?"&\f":"",e[s]=t[s].length;break}default:t[s]+=$g(r)}while(r=di());return t},nL=function(t,e){return iw(eL(nw(t),e))},QE=new WeakMap,iL=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,s=t.parent,r=t.column===s.column&&t.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!QE.get(s))&&!r){QE.set(t,!0);for(var l=[],u=nL(e,l),d=s.props,f=0,g=0;f<u.length;f++)for(var m=0;m<d.length;m++,g++)t.props[g]=l[f]?u[f].replace(/&\f/g,d[m]):d[m]+" "+u[f]}}},sL=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function aw(c,t){switch(U2(c,t)){case 5103:return qt+"print-"+c+c;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qt+c+c;case 5349:case 4246:case 4810:case 6968:case 2756:return qt+c+_g+c+yn+c+c;case 6828:case 4268:return qt+c+yn+c+c;case 6165:return qt+c+yn+"flex-"+c+c;case 5187:return qt+c+Xt(c,/(\w+).+(:[^]+)/,qt+"box-$1$2"+yn+"flex-$1$2")+c;case 5443:return qt+c+yn+"flex-item-"+Xt(c,/flex-|-self/,"")+c;case 4675:return qt+c+yn+"flex-line-pack"+Xt(c,/align-content|flex-|-self/,"")+c;case 5548:return qt+c+yn+Xt(c,"shrink","negative")+c;case 5292:return qt+c+yn+Xt(c,"basis","preferred-size")+c;case 6060:return qt+"box-"+Xt(c,"-grow","")+qt+c+yn+Xt(c,"grow","positive")+c;case 4554:return qt+Xt(c,/([^-])(transform)/g,"$1"+qt+"$2")+c;case 6187:return Xt(Xt(Xt(c,/(zoom-|grab)/,qt+"$1"),/(image-set)/,qt+"$1"),c,"")+c;case 5495:case 3959:return Xt(c,/(image-set\([^]*)/,qt+"$1$`$1");case 4968:return Xt(Xt(c,/(.+:)(flex-)?(.*)/,qt+"box-pack:$3"+yn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qt+c+c;case 4095:case 3583:case 4068:case 2532:return Xt(c,/(.+)-inline(.+)/,qt+"$1$2")+c;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ws(c)-1-t>6)switch(dn(c,t+1)){case 109:if(dn(c,t+4)!==45)break;case 102:return Xt(c,/(.+:)(.+)-([^]+)/,"$1"+qt+"$2-$3$1"+_g+(dn(c,t+3)==108?"$3":"$2-$3"))+c;case 115:return~Xb(c,"stretch")?aw(Xt(c,"stretch","fill-available"),t)+c:c}break;case 4949:if(dn(c,t+1)!==115)break;case 6444:switch(dn(c,ws(c)-3-(~Xb(c,"!important")&&10))){case 107:return Xt(c,":",":"+qt)+c;case 101:return Xt(c,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qt+(dn(c,14)===45?"inline-":"")+"box$3$1"+qt+"$2$3$1"+yn+"$2box$3")+c}break;case 5936:switch(dn(c,t+11)){case 114:return qt+c+yn+Xt(c,/[svh]\w+-[tblr]{2}/,"tb")+c;case 108:return qt+c+yn+Xt(c,/[svh]\w+-[tblr]{2}/,"tb-rl")+c;case 45:return qt+c+yn+Xt(c,/[svh]\w+-[tblr]{2}/,"lr")+c}return qt+c+yn+c+c}return c}var aL=function(t,e,s,r){if(t.length>-1&&!t.return)switch(t.type){case _0:t.return=aw(t.value,t.length);break;case J_:return oc([mh(t,{value:Xt(t.value,"@","@"+qt)})],r);case E0:if(t.length)return j2(t.props,function(l){switch(B2(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return oc([mh(t,{props:[Xt(l,/:(read-\w+)/,":"+_g+"$1")]})],r);case"::placeholder":return oc([mh(t,{props:[Xt(l,/:(plac\w+)/,":"+qt+"input-$1")]}),mh(t,{props:[Xt(l,/:(plac\w+)/,":"+_g+"$1")]}),mh(t,{props:[Xt(l,/:(plac\w+)/,yn+"input-$1")]})],r)}return""})}},rL=[aL],lL=function(t){var e=t.key;if(e==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(x){var M=x.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=t.stylisPlugins||rL,l={},u,d=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(x){for(var M=x.getAttribute("data-emotion").split(" "),T=1;T<M.length;T++)l[M[T]]=!0;d.push(x)});var f,g=[iL,sL];{var m,b=[Q2,J2(function(x){m.insert(x)})],v=Z2(g.concat(r,b)),A=function(M){return oc(K2(M),v)};f=function(M,T,O,L){m=O,A(M?M+"{"+T.styles+"}":T.styles),L&&(S.inserted[T.name]=!0)}}var S={key:e,sheet:new P2({key:e,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:l,registered:{},insert:f};return S.sheet.hydrate(d),S},oL=!0;function cL(c,t,e){var s="";return e.split(" ").forEach(function(r){c[r]!==void 0?t.push(c[r]+";"):r&&(s+=r+" ")}),s}var rw=function(t,e,s){var r=t.key+"-"+e.name;(s===!1||oL===!1)&&t.registered[r]===void 0&&(t.registered[r]=e.styles)},uL=function(t,e,s){rw(t,e,s);var r=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var l=e;do t.insert(e===l?"."+r:"",l,t.sheet,!0),l=l.next;while(l!==void 0)}};function hL(c){for(var t=0,e,s=0,r=c.length;r>=4;++s,r-=4)e=c.charCodeAt(s)&255|(c.charCodeAt(++s)&255)<<8|(c.charCodeAt(++s)&255)<<16|(c.charCodeAt(++s)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(r){case 3:t^=(c.charCodeAt(s+2)&255)<<16;case 2:t^=(c.charCodeAt(s+1)&255)<<8;case 1:t^=c.charCodeAt(s)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var dL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fL=/[A-Z]|^ms/g,pL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lw=function(t){return t.charCodeAt(1)===45},ZE=function(t){return t!=null&&typeof t!="boolean"},Ob=sw(function(c){return lw(c)?c:c.replace(fL,"-$&").toLowerCase()}),JE=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(pL,function(s,r,l){return xs={name:r,styles:l,next:xs},r})}return dL[t]!==1&&!lw(t)&&typeof e=="number"&&e!==0?e+"px":e};function Gh(c,t,e){if(e==null)return"";var s=e;if(s.__emotion_styles!==void 0)return s;switch(typeof e){case"boolean":return"";case"object":{var r=e;if(r.anim===1)return xs={name:r.name,styles:r.styles,next:xs},r.name;var l=e;if(l.styles!==void 0){var u=l.next;if(u!==void 0)for(;u!==void 0;)xs={name:u.name,styles:u.styles,next:xs},u=u.next;var d=l.styles+";";return d}return gL(c,t,e)}case"function":{if(c!==void 0){var f=xs,g=e(c);return xs=f,Gh(c,t,g)}break}}var m=e;if(t==null)return m;var b=t[m];return b!==void 0?b:m}function gL(c,t,e){var s="";if(Array.isArray(e))for(var r=0;r<e.length;r++)s+=Gh(c,t,e[r])+";";else for(var l in e){var u=e[l];if(typeof u!="object"){var d=u;t!=null&&t[d]!==void 0?s+=l+"{"+t[d]+"}":ZE(d)&&(s+=Ob(l)+":"+JE(l,d)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var f=0;f<u.length;f++)ZE(u[f])&&(s+=Ob(l)+":"+JE(l,u[f])+";");else{var g=Gh(c,t,u);switch(l){case"animation":case"animationName":{s+=Ob(l)+":"+g+";";break}default:s+=l+"{"+g+"}"}}}return s}var t_=/label:\s*([^\s;{]+)\s*(;|$)/g,xs;function mL(c,t,e){if(c.length===1&&typeof c[0]=="object"&&c[0]!==null&&c[0].styles!==void 0)return c[0];var s=!0,r="";xs=void 0;var l=c[0];if(l==null||l.raw===void 0)s=!1,r+=Gh(e,t,l);else{var u=l;r+=u[0]}for(var d=1;d<c.length;d++)if(r+=Gh(e,t,c[d]),s){var f=l;r+=f[d]}t_.lastIndex=0;for(var g="",m;(m=t_.exec(r))!==null;)g+="-"+m[1];var b=hL(r)+g;return{name:b,styles:r,next:xs}}var yL=function(t){return t()},bL=FE.useInsertionEffect?FE.useInsertionEffect:!1,vL=bL||yL,ow=F.createContext(typeof HTMLElement<"u"?lL({key:"css"}):null);ow.Provider;var AL=function(t){return F.forwardRef(function(e,s){var r=F.useContext(ow);return t(e,r,s)})},SL=F.createContext({}),EL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_L=sw(function(c){return EL.test(c)||c.charCodeAt(0)===111&&c.charCodeAt(1)===110&&c.charCodeAt(2)<91}),wL=_L,xL=function(t){return t!=="theme"},e_=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?wL:xL},n_=function(t,e,s){var r;if(e){var l=e.shouldForwardProp;r=t.__emotion_forwardProp&&l?function(u){return t.__emotion_forwardProp(u)&&l(u)}:l}return typeof r!="function"&&s&&(r=t.__emotion_forwardProp),r},TL=function(t){var e=t.cache,s=t.serialized,r=t.isStringTag;return rw(e,s,r),vL(function(){return uL(e,s,r)}),null},CL=function c(t,e){var s=t.__emotion_real===t,r=s&&t.__emotion_base||t,l,u;e!==void 0&&(l=e.label,u=e.target);var d=n_(t,e,s),f=d||e_(r),g=!f("as");return function(){var m=arguments,b=s&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(l!==void 0&&b.push("label:"+l+";"),m[0]==null||m[0].raw===void 0)b.push.apply(b,m);else{var v=m[0];b.push(v[0]);for(var A=m.length,S=1;S<A;S++)b.push(m[S],v[S])}var x=AL(function(M,T,O){var L=g&&M.as||r,N="",H=[],B=M;if(M.theme==null){B={};for(var G in M)B[G]=M[G];B.theme=F.useContext(SL)}typeof M.className=="string"?N=cL(T.registered,H,M.className):M.className!=null&&(N=M.className+" ");var W=mL(b.concat(H),T.registered,B);N+=T.key+"-"+W.name,u!==void 0&&(N+=" "+u);var J=g&&d===void 0?e_(L):f,st={};for(var it in M)g&&it==="as"||J(it)&&(st[it]=M[it]);return st.className=N,O&&(st.ref=O),F.createElement(F.Fragment,null,F.createElement(TL,{cache:T,serialized:W,isStringTag:typeof L=="string"}),F.createElement(L,st))});return x.displayName=l!==void 0?l:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=r,x.__emotion_styles=b,x.__emotion_forwardProp=d,Object.defineProperty(x,"toString",{value:function(){return"."+u}}),x.withComponent=function(M,T){var O=c(M,Vb({},e,T,{shouldForwardProp:n_(x,T,!0)}));return O.apply(void 0,b)},x}},RL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],kt=CL.bind(null);RL.forEach(function(c){kt[c]=kt(c)});const ML=kt.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  direction: rtl;
`,LL=kt.div`
  text-align: center;
  padding: 4rem 0;
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(212, 175, 55, 0.1) 0%, transparent 70%);
    z-index: -1;
  }
`,DL=kt.h1`
  font-size: 3.5rem;
  margin-bottom: 1rem;
  color: #d4af37;
  text-transform: uppercase;
  letter-spacing: 2px;
  text-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
  animation: glow 2s ease-in-out infinite alternate;

  @keyframes glow {
    from {
      text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
    }
    to {
      text-shadow: 0 0 20px rgba(212, 175, 55, 0.5),
                   0 0 30px rgba(212, 175, 55, 0.3);
    }
  }
`,OL=kt.p`
  font-size: 1.5rem;
  color: #ffffff;
  margin-bottom: 2rem;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
`,kL=kt.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin-top: 4rem;
`,kb=kt.div`
  background: rgba(10, 10, 10, 0.8);
  padding: 2rem;
  border-radius: 8px;
  text-align: center;
  transition: all 0.3s ease;
  border: 1px solid rgba(212, 175, 55, 0.1);
  backdrop-filter: blur(10px);

  &:hover {
    transform: translateY(-5px);
    border-color: rgba(212, 175, 55, 0.3);
    box-shadow: 0 5px 15px rgba(212, 175, 55, 0.1);
  }
`,Nb=kt.h3`
  color: #d4af37;
  margin-bottom: 1rem;
  font-size: 1.5rem;
  text-transform: uppercase;
  letter-spacing: 1px;
`,Pb=kt.p`
  color: #ffffff;
  line-height: 1.6;
  opacity: 0.9;
`;function NL(){return et.jsxs(ML,{children:[et.jsxs(LL,{children:[et.jsx(DL,{children:" "}),et.jsx(OL,{children:"          "})]}),et.jsxs(kL,{children:[et.jsxs(kb,{children:[et.jsx(Nb,{children:""}),et.jsx(Pb,{children:"  1845,     27     "})]}),et.jsxs(kb,{children:[et.jsx(Nb,{children:""}),et.jsx(Pb,{children:"    "})]}),et.jsxs(kb,{children:[et.jsx(Nb,{children:""}),et.jsx(Pb,{children:"        "})]})]})]})}const PL="modulepreload",FL=function(c){return"/Barman/"+c},i_={},kp=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){let u=function(g){return Promise.all(g.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));r=u(e.map(g=>{if(g=FL(g),g in i_)return;i_[g]=!0;const m=g.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":PL,m||(v.as="script"),v.crossOrigin="",v.href=g,f&&v.setAttribute("nonce",f),document.head.appendChild(v),m)return new Promise((A,S)=>{v.addEventListener("load",A),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return r.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})};var Hh={};Hh.d=(c,t)=>{for(var e in t)Hh.o(t,e)&&!Hh.o(c,e)&&Object.defineProperty(c,e,{enumerable:!0,get:t[e]})};Hh.o=(c,t)=>Object.prototype.hasOwnProperty.call(c,t);var Tt=globalThis.pdfjsLib={};Hh.d(Tt,{AbortException:()=>ho,AnnotationEditorLayer:()=>a0,AnnotationEditorParamsType:()=>Et,AnnotationEditorType:()=>Mt,AnnotationEditorUIManager:()=>io,AnnotationLayer:()=>NO,AnnotationMode:()=>tr,ColorPicker:()=>Cg,DOMSVGFactory:()=>F0,DrawLayer:()=>c0,FeatureTest:()=>Dn,GlobalWorkerOptions:()=>Aa,ImageKind:()=>Vp,InvalidPDFException:()=>uw,MissingPDFException:()=>uo,OPS:()=>Hi,OutputScale:()=>Zb,PDFDataRangeTransport:()=>rx,PDFDateString:()=>M0,PDFWorker:()=>uc,PasswordResponses:()=>UL,PermissionFlag:()=>IL,PixelsPerInch:()=>Rr,RenderingCancelledException:()=>C0,TextLayer:()=>Tv,UnexpectedResponseException:()=>tm,Util:()=>dt,VerbosityLevel:()=>Qg,XfaLayer:()=>ox,build:()=>pO,createValidAbsoluteUrl:()=>qL,fetchData:()=>nm,getDocument:()=>aO,getFilenameFromUrl:()=>JL,getPdfFilenameFromUrl:()=>tD,getXfaPageViewport:()=>eD,isDataScheme:()=>im,isPdfFile:()=>R0,noContextMenu:()=>Oi,normalizeUnicode:()=>WL,setLayerDimensions:()=>no,shadow:()=>Ut,version:()=>fO});const xn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),cw=[1,0,0,1,0,0],$b=[.001,0,0,.001,0,0],HL=1e7,Fb=1.35,ui={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},tr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},zL="pdfjs_internal_editor_",Mt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},IL={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},bn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Vp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ie={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},yh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Qg={ERRORS:0,WARNINGS:1,INFOS:5},Hi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},UL={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Zg=Qg.WARNINGS;function BL(c){Number.isInteger(c)&&(Zg=c)}function jL(){return Zg}function Jg(c){Zg>=Qg.INFOS&&console.log(`Info: ${c}`)}function Ot(c){Zg>=Qg.WARNINGS&&console.log(`Warning: ${c}`)}function ue(c){throw new Error(c)}function Ge(c,t){c||ue(t)}function GL(c){switch(c==null?void 0:c.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function qL(c,t=null,e=null){if(!c)return null;try{if(e&&typeof c=="string"){if(e.addDefaultProtocol&&c.startsWith("www.")){const r=c.match(/\./g);(r==null?void 0:r.length)>=2&&(c=`http://${c}`)}if(e.tryConvertEncoding)try{c=KL(c)}catch{}}const s=t?new URL(c,t):new URL(c);if(GL(s))return s}catch{}return null}function Ut(c,t,e,s=!1){return Object.defineProperty(c,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Or=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class Kb extends Or{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Wb extends Or{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class uw extends Or{constructor(t){super(t,"InvalidPDFException")}}class uo extends Or{constructor(t){super(t,"MissingPDFException")}}class tm extends Or{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class VL extends Or{constructor(t){super(t,"FormatError")}}class ho extends Or{constructor(t){super(t,"AbortException")}}function hw(c){(typeof c!="object"||(c==null?void 0:c.length)===void 0)&&ue("Invalid argument for bytesToString");const t=c.length,e=8192;if(t<e)return String.fromCharCode.apply(null,c);const s=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),u=c.subarray(r,l);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function em(c){typeof c!="string"&&ue("Invalid argument for stringToBytes");const t=c.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=c.charCodeAt(s)&255;return e}function XL(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)}function x0(c){const t=Object.create(null);for(const[e,s]of c)t[e]=s;return t}function YL(){const c=new Uint8Array(4);return c[0]=1,new Uint32Array(c.buffer,0,1)[0]===1}function $L(){try{return new Function(""),!0}catch{return!1}}class Dn{static get isLittleEndian(){return Ut(this,"isLittleEndian",YL())}static get isEvalSupported(){return Ut(this,"isEvalSupported",$L())}static get isOffscreenCanvasSupported(){return Ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ut(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ut(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Ut(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Hb=Array.from(Array(256).keys(),c=>c.toString(16).padStart(2,"0"));var _a,Xp,Qb;class dt{static makeHexColor(t,e,s){return`#${Hb[t]}${Hb[e]}${Hb[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,l]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),u=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],l[0],u[0]),Math.min(s[1],r[1],l[1],u[1]),Math.max(s[0],r[0],l[0],u[0]),Math.max(s[1],r[1],l[1],u[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],u=t[2]*e[1]+t[3]*e[3],d=(s+u)/2,f=Math.sqrt((s+u)**2-4*(s*u-l*r))/2,g=d+f||1,m=d-f||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>u?null:[s,l,r,u]}static bezierBoundingBox(t,e,s,r,l,u,d,f,g){return g?(g[0]=Math.min(g[0],t,d),g[1]=Math.min(g[1],e,f),g[2]=Math.max(g[2],t,d),g[3]=Math.max(g[3],e,f)):g=[Math.min(t,d),Math.min(e,f),Math.max(t,d),Math.max(e,f)],w(this,_a,Qb).call(this,t,s,l,d,e,r,u,f,3*(-t+3*(s-l)+d),6*(t-2*s+l),3*(s-t),g),w(this,_a,Qb).call(this,t,s,l,d,e,r,u,f,3*(-e+3*(r-u)+f),6*(e-2*r+u),3*(r-e),g),g}}_a=new WeakSet,Xp=function(t,e,s,r,l,u,d,f,g,m){if(g<=0||g>=1)return;const b=1-g,v=g*g,A=v*g,S=b*(b*(b*t+3*g*e)+3*v*s)+A*r,x=b*(b*(b*l+3*g*u)+3*v*d)+A*f;m[0]=Math.min(m[0],S),m[1]=Math.min(m[1],x),m[2]=Math.max(m[2],S),m[3]=Math.max(m[3],x)},Qb=function(t,e,s,r,l,u,d,f,g,m,b,v){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&w(this,_a,Xp).call(this,t,e,s,r,l,u,d,f,-b/m,v);return}const A=m**2-4*b*g;if(A<0)return;const S=Math.sqrt(A),x=2*g;w(this,_a,Xp).call(this,t,e,s,r,l,u,d,f,(-m+S)/x,v),w(this,_a,Xp).call(this,t,e,s,r,l,u,d,f,(-m-S)/x,v)},R(dt,_a);function KL(c){return decodeURIComponent(escape(c))}let zb=null,s_=null;function WL(c){return zb||(zb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,s_=new Map([["","t"]])),c.replaceAll(zb,(t,e,s)=>e?e.normalize("NFKC"):s_.get(s))}function QL(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const c=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(c);else for(let t=0;t<32;t++)c[t]=Math.floor(Math.random()*255);return hw(c)}const T0="pdfjs_internal_id_",Vs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function ZL(c){return Uint8Array.prototype.toBase64?c.toBase64():btoa(hw(c))}const Ys="http://www.w3.org/2000/svg",sl=class sl{};St(sl,"CSS",96),St(sl,"PDF",72),St(sl,"PDF_TO_CSS_UNITS",sl.CSS/sl.PDF);let Rr=sl;async function nm(c,t="text"){if(Sh(c,document.baseURI)){const e=await fetch(c);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",c,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class hf{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=l;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let g,m,b,v;switch(s%=360,s<0&&(s+=360),s){case 180:g=-1,m=0,b=0,v=1;break;case 90:g=0,m=1,b=1,v=0;break;case 270:g=0,m=-1,b=-1,v=0;break;case 0:g=1,m=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,v=-v);let A,S,x,M;g===0?(A=Math.abs(f-t[1])*e+r,S=Math.abs(d-t[0])*e+l,x=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(A=Math.abs(d-t[0])*e+r,S=Math.abs(f-t[1])*e+l,x=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[g*e,m*e,b*e,v*e,A-g*e*d-b*e*f,S-m*e*d-v*e*f],this.width=x,this.height=M}get rawDims(){const{viewBox:t}=this;return Ut(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new hf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){return dt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=dt.applyTransform([t[0],t[1]],this.transform),s=dt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return dt.applyInverseTransform([t,e],this.transform)}}class C0 extends Or{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function im(c){const t=c.length;let e=0;for(;e<t&&c[e].trim()==="";)e++;return c.substring(e,e+5).toLowerCase()==="data:"}function R0(c){return typeof c=="string"&&/\.pdf$/i.test(c)}function JL(c){return[c]=c.split(/[#?]/,1),c.substring(c.lastIndexOf("/")+1)}function tD(c,t="document.pdf"){if(typeof c!="string")return t;if(im(c))return Ot('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(c);let l=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=s.exec(decodeURIComponent(l))[0]}catch{}return l||t}class a_{constructor(){St(this,"started",Object.create(null));St(this,"times",[])}time(t){t in this.started&&Ot(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ot(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:l}of this.times)t.push(`${s.padEnd(e)} ${l-r}ms
`);return t.join("")}}function Sh(c,t){try{const{protocol:e}=t?new URL(c,t):new URL(c);return e==="http:"||e==="https:"}catch{return!1}}function Oi(c){c.preventDefault()}function r_(c){console.log("Deprecated API usage: "+c)}var Vh;class M0{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Vh)||_(this,Vh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Vh).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const g=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let b=parseInt(e[9],10)||0;return b=b>=0&&b<=59?b:0,g==="-"?(u+=m,d+=b):g==="+"&&(u-=m,d-=b),new Date(Date.UTC(s,r,l,u,d,f))}}Vh=new WeakMap,R(M0,Vh);function eD(c,{scale:t=1,rotation:e=0}){const{width:s,height:r}=c.attributes.style,l=[0,0,parseInt(s),parseInt(r)];return new hf({viewBox:l,scale:t,rotation:e})}function L0(c){if(c.startsWith("#")){const t=parseInt(c.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return c.startsWith("rgb(")?c.slice(4,-1).split(",").map(t=>parseInt(t)):c.startsWith("rgba(")?c.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ot(`Not a valid color format: "${c}"`),[0,0,0])}function nD(c){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of c.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;c.set(e,L0(s))}t.remove()}function be(c){const{a:t,b:e,c:s,d:r,e:l,f:u}=c.getTransform();return[t,e,s,r,l,u]}function Xs(c){const{a:t,b:e,c:s,d:r,e:l,f:u}=c.getTransform().invertSelf();return[t,e,s,r,l,u]}function no(c,t,e=!1,s=!0){if(t instanceof hf){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:u}=c,d=Dn.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${l}px`,m=d?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,b=d?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!e||t.rotation%180===0?(u.width=m,u.height=b):(u.width=b,u.height=m)}s&&c.setAttribute("data-main-rotation",t.rotation)}class Zb{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var er,rl,zi,ll,Xh,Yh,Mg,dw,On,fw,pw,Yp,gw,tv;const $s=class $s{constructor(t){R(this,On);R(this,er,null);R(this,rl,null);R(this,zi);R(this,ll,null);R(this,Xh,null);_(this,zi,t),h($s,Yh)||_($s,Yh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=_(this,er,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,zi)._uiManager._signal;t.addEventListener("contextmenu",Oi,{signal:e}),t.addEventListener("pointerdown",w($s,Mg,dw),{signal:e});const s=_(this,ll,document.createElement("div"));s.className="buttons",t.append(s);const r=h(this,zi).toolbarPosition;if(r){const{style:l}=t,u=h(this,zi)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*u}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,On,gw).call(this),t}get div(){return h(this,er)}hide(){var t;h(this,er).classList.add("hidden"),(t=h(this,rl))==null||t.hideDropdown()}show(){var t;h(this,er).classList.remove("hidden"),(t=h(this,Xh))==null||t.shown()}async addAltText(t){const e=await t.render();w(this,On,Yp).call(this,e),h(this,ll).prepend(e,h(this,On,tv)),_(this,Xh,t)}addColorPicker(t){_(this,rl,t);const e=t.renderButton();w(this,On,Yp).call(this,e),h(this,ll).prepend(e,h(this,On,tv))}remove(){var t;h(this,er).remove(),(t=h(this,rl))==null||t.destroy(),_(this,rl,null)}};er=new WeakMap,rl=new WeakMap,zi=new WeakMap,ll=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Mg=new WeakSet,dw=function(t){t.stopPropagation()},On=new WeakSet,fw=function(t){h(this,zi)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},pw=function(t){h(this,zi)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Yp=function(t){const e=h(this,zi)._uiManager._signal;t.addEventListener("focusin",w(this,On,fw).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",w(this,On,pw).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Oi,{signal:e})},gw=function(){const{editorType:t,_uiManager:e}=h(this,zi),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",h($s,Yh)[t]),w(this,On,Yp).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,ll).append(s)},tv=function(){const t=document.createElement("div");return t.className="divider",t},R($s,Mg),R($s,Yh,null);let Jb=$s;var $h,ol,cl,Lr,mw,yw,bw;class iD{constructor(t){R(this,Lr);R(this,$h,null);R(this,ol,null);R(this,cl);_(this,cl,t)}show(t,e,s){const[r,l]=w(this,Lr,yw).call(this,e,s),{style:u}=h(this,ol)||_(this,ol,w(this,Lr,mw).call(this));t.append(h(this,ol)),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,ol).remove()}}$h=new WeakMap,ol=new WeakMap,cl=new WeakMap,Lr=new WeakSet,mw=function(){const t=_(this,ol,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Oi,{signal:h(this,cl)._signal});const e=_(this,$h,document.createElement("div"));return e.className="buttons",t.append(e),w(this,Lr,bw).call(this),t},yw=function(t,e){let s=0,r=0;for(const l of t){const u=l.y+l.height;if(u<s)continue;const d=l.x+(e?l.width:0);if(u>s){r=d,s=u;continue}e?d>r&&(r=d):d<r&&(r=d)}return[e?1-r:r,s]},bw=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=h(this,cl)._signal;t.addEventListener("contextmenu",Oi,{signal:s}),t.addEventListener("click",()=>{h(this,cl).highlightSelection("floating_button")},{signal:s}),h(this,$h).append(t)};function wg(c,t,e){for(const s of e)t.addEventListener(s,c[s].bind(c))}function sD(c){return Math.round(Math.min(255,Math.max(1,255*c))).toString(16).padStart(2,"0")}var Lg;class aD{constructor(){R(this,Lg,0)}get id(){return`${zL}${Cn(this,Lg)._++}`}}Lg=new WeakMap;var fc,Kh,An,pc,$p;const I0=class I0{constructor(){R(this,pc);R(this,fc,QL());R(this,Kh,0);R(this,An,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ut(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:l}=t;return w(this,pc,$p).call(this,`${e}_${s}_${r}_${l}`,t)}async getFromUrl(t){return w(this,pc,$p).call(this,t,t)}async getFromBlob(t,e){const s=await e;return w(this,pc,$p).call(this,t,s)}async getFromId(t){h(this,An)||_(this,An,new Map);const e=h(this,An).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,An)||_(this,An,new Map);let s=h(this,An).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${h(this,fc)}_${Cn(this,Kh)._++}`,refCounter:1,isSvg:!1},h(this,An).set(t,s),h(this,An).set(s.id,s),s}getSvgUrl(t){const e=h(this,An).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,An)||_(this,An,new Map);const e=h(this,An).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(s.width,s.height);l.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=l.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,fc)}_`)}};fc=new WeakMap,Kh=new WeakMap,An=new WeakMap,pc=new WeakSet,$p=async function(t,e){h(this,An)||_(this,An,new Map);let s=h(this,An).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${h(this,fc)}_${Cn(this,Kh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await nm(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=I0._isSVGFittingCanvas,u=new FileReader,d=new Image,f=new Promise((g,m)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,g()},u.onload=async()=>{const b=s.svgUrl=u.result;d.src=await l?`${b}#svgView(preserveAspectRatio(none))`:b},d.onerror=u.onerror=m});u.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return h(this,An).set(t,s),s&&h(this,An).set(s.id,s),s};let ev=I0;var Ze,nr,Wh,Je;class rD{constructor(t=128){R(this,Ze,[]);R(this,nr,!1);R(this,Wh);R(this,Je,-1);_(this,Wh,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:l=NaN,overwriteIfSameType:u=!1,keepUndo:d=!1}){if(r&&t(),h(this,nr))return;const f={cmd:t,undo:e,post:s,type:l};if(h(this,Je)===-1){h(this,Ze).length>0&&(h(this,Ze).length=0),_(this,Je,0),h(this,Ze).push(f);return}if(u&&h(this,Ze)[h(this,Je)].type===l){d&&(f.undo=h(this,Ze)[h(this,Je)].undo),h(this,Ze)[h(this,Je)]=f;return}const g=h(this,Je)+1;g===h(this,Wh)?h(this,Ze).splice(0,1):(_(this,Je,g),g<h(this,Ze).length&&h(this,Ze).splice(g)),h(this,Ze).push(f)}undo(){if(h(this,Je)===-1)return;_(this,nr,!0);const{undo:t,post:e}=h(this,Ze)[h(this,Je)];t(),e==null||e(),_(this,nr,!1),_(this,Je,h(this,Je)-1)}redo(){if(h(this,Je)<h(this,Ze).length-1){_(this,Je,h(this,Je)+1),_(this,nr,!0);const{cmd:t,post:e}=h(this,Ze)[h(this,Je)];t(),e==null||e(),_(this,nr,!1)}}hasSomethingToUndo(){return h(this,Je)!==-1}hasSomethingToRedo(){return h(this,Je)<h(this,Ze).length-1}destroy(){_(this,Ze,null)}}Ze=new WeakMap,nr=new WeakMap,Wh=new WeakMap,Je=new WeakMap;var Dg,vw;class df{constructor(t){R(this,Dg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Dn.platform;for(const[s,r,l={}]of t)for(const u of s){const d=u.startsWith("mac+");e&&d?(this.callbacks.set(u.slice(4),{callback:r,options:l}),this.allKeys.add(u.split("+").at(-1))):!e&&!d&&(this.callbacks.set(u,{callback:r,options:l}),this.allKeys.add(u.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(w(this,Dg,vw).call(this,e));if(!s)return;const{callback:r,options:{bubbles:l=!1,args:u=[],checker:d=null}}=s;d&&!d(t,e)||(r.bind(t,...u,e)(),l||(e.stopPropagation(),e.preventDefault()))}}Dg=new WeakSet,vw=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Og=class Og{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return nD(t),Ut(this,"_colors",t)}convert(t){const e=L0(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((l,u)=>l===e[u]))return Og._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?dt.makeHexColor(...e):t}};St(Og,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let nv=Og;var gc,ni,Ue,cn,mc,Ws,yc,Ii,ir,bc,ul,rs,Ui,hl,Qh,Zh,vc,Jh,ls,sr,Ac,ar,os,kg,rr,td,lr,dl,ed,nd,tn,Qt,Qs,fl,id,sd,or,cs,Zs,ad,wi,rt,Kp,iv,Aw,Sw,Wp,Ew,_w,ww,sv,xw,av,rv,Tw,Rn,Za,Cw,Rw,lv,Mw,Eh,ov;const lc=class lc{constructor(t,e,s,r,l,u,d,f,g,m,b){R(this,rt);R(this,gc,new AbortController);R(this,ni,null);R(this,Ue,new Map);R(this,cn,new Map);R(this,mc,null);R(this,Ws,null);R(this,yc,null);R(this,Ii,new rD);R(this,ir,null);R(this,bc,0);R(this,ul,new Set);R(this,rs,null);R(this,Ui,null);R(this,hl,new Set);R(this,Qh,!1);R(this,Zh,!1);R(this,vc,!1);R(this,Jh,null);R(this,ls,null);R(this,sr,null);R(this,Ac,null);R(this,ar,!1);R(this,os,null);R(this,kg,new aD);R(this,rr,!1);R(this,td,!1);R(this,lr,null);R(this,dl,null);R(this,ed,null);R(this,nd,null);R(this,tn,Mt.NONE);R(this,Qt,new Set);R(this,Qs,null);R(this,fl,null);R(this,id,null);R(this,sd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});R(this,or,[0,0]);R(this,cs,null);R(this,Zs,null);R(this,ad,null);R(this,wi,null);const v=this._signal=h(this,gc).signal;_(this,Zs,t),_(this,ad,e),_(this,mc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:v}),w(this,rt,Ew).call(this),w(this,rt,Tw).call(this),w(this,rt,sv).call(this),_(this,Ws,l.annotationStorage),_(this,Jh,l.filterFactory),_(this,fl,u),_(this,Ac,d||null),_(this,Qh,f),_(this,Zh,g),_(this,vc,m),_(this,nd,b||null),this.viewParameters={realScale:Rr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=lc.prototype,e=u=>h(u,Zs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:d})=>{if(d instanceof HTMLInputElement){const{type:f}=d;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new df([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Zs).contains(d)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&h(u,Zs).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,s,r;(t=h(this,wi))==null||t.resolve(),_(this,wi,null),(e=h(this,gc))==null||e.abort(),_(this,gc,null),this._signal=null;for(const l of h(this,cn).values())l.destroy();h(this,cn).clear(),h(this,Ue).clear(),h(this,hl).clear(),_(this,ni,null),h(this,Qt).clear(),h(this,Ii).destroy(),(s=h(this,mc))==null||s.destroy(),(r=h(this,os))==null||r.hide(),_(this,os,null),h(this,ls)&&(clearTimeout(h(this,ls)),_(this,ls,null)),h(this,cs)&&(clearTimeout(h(this,cs)),_(this,cs,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,nd)}get useNewAltTextFlow(){return h(this,Zh)}get useNewAltTextWhenAddingImage(){return h(this,vc)}get hcmFilter(){return Ut(this,"hcmFilter",h(this,fl)?h(this,Jh).addHCMFilter(h(this,fl).foreground,h(this,fl).background):"none")}get direction(){return Ut(this,"direction",getComputedStyle(h(this,Zs)).direction)}get highlightColors(){return Ut(this,"highlightColors",h(this,Ac)?new Map(h(this,Ac).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ut(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){_(this,ed,t)}editAltText(t,e=!1){var s;(s=h(this,mc))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":_(this,vc,e);break}}onPageChanging({pageNumber:t}){_(this,bc,t-1)}focusMainContainer(){h(this,Zs).focus()}findParent(t,e){for(const s of h(this,cn).values()){const{x:r,y:l,width:u,height:d}=s.div.getBoundingClientRect();if(t>=r&&t<=r+u&&e>=l&&e<=l+d)return s}return null}disableUserSelect(t=!1){h(this,ad).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,hl).add(t)}removeShouldRescale(t){h(this,hl).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Rr.PDF_TO_CSS_UNITS;for(const e of h(this,hl))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:u}=e,d=e.toString(),g=w(this,rt,Kp).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;e.empty();const b=w(this,rt,iv).call(this,g),v=h(this,tn)===Mt.NONE,A=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:u,text:d}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Mt.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Ws)&&!h(this,Ws).has(t.id)&&h(this,Ws).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,ar)&&(_(this,ar,!1),w(this,rt,Wp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Qt))if(e.div.contains(t)){_(this,dl,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,dl))return;const[t,e]=h(this,dl);_(this,dl,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){w(this,rt,sv).call(this),w(this,rt,av).call(this)}removeEditListeners(){w(this,rt,xw).call(this),w(this,rt,rv).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of h(this,Ui))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of h(this,Ui))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=h(this,ni))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,Qt)){const l=r.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const u of h(this,Ui))if(u.isHandlingMimeForPasting(l.type)){u.paste(l,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){Ot(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of s){const g=await r.deserialize(f);if(!g)return;l.push(g)}const u=()=>{for(const f of l)w(this,rt,lv).call(this,f);w(this,rt,ov).call(this,l)},d=()=>{for(const f of l)f.remove()};this.addCommands({cmd:u,undo:d,mustExec:!0})}catch(l){Ot(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,tn)!==Mt.NONE&&!this.isEditorHandlingKeyboard&&lc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,ar)&&(_(this,ar,!1),w(this,rt,Wp).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(w(this,rt,_w).call(this),w(this,rt,av).call(this),w(this,rt,Rn).call(this,{isEditing:h(this,tn)!==Mt.NONE,isEmpty:w(this,rt,Eh).call(this),hasSomethingToUndo:h(this,Ii).hasSomethingToUndo(),hasSomethingToRedo:h(this,Ii).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,rt,ww).call(this),w(this,rt,rv).call(this),w(this,rt,Rn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,Ui)){_(this,Ui,t);for(const e of h(this,Ui))w(this,rt,Za).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,kg).id}get currentLayer(){return h(this,cn).get(h(this,bc))}getLayer(t){return h(this,cn).get(t)}get currentPageIndex(){return h(this,bc)}addLayer(t){h(this,cn).set(t.pageIndex,t),h(this,rr)?t.enable():t.disable()}removeLayer(t){h(this,cn).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(h(this,tn)!==t&&!(h(this,wi)&&(await h(this,wi).promise,!h(this,wi)))){if(_(this,wi,Promise.withResolvers()),_(this,tn,t),t===Mt.NONE){this.setEditingState(!1),w(this,rt,Rw).call(this),h(this,wi).resolve();return}this.setEditingState(!0),await w(this,rt,Cw).call(this),this.unselectAll();for(const r of h(this,cn).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),h(this,wi).resolve();return}for(const r of h(this,Ue).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,wi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,tn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(h(this,Ui)){switch(t){case Et.CREATE:this.currentLayer.addNewEditor();return;case Et.HIGHLIGHT_DEFAULT_COLOR:(s=h(this,ed))==null||s.updateColor(e);break;case Et.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,id)||_(this,id,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of h(this,Qt))r.updateParams(t,e);for(const r of h(this,Ui))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var l;for(const u of h(this,Ue).values())u.editorType===t&&u.show(e);(((l=h(this,id))==null?void 0:l.get(Et.HIGHLIGHT_SHOW_ALL))??!0)!==e&&w(this,rt,Za).call(this,[[Et.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,td)!==t){_(this,td,t);for(const e of h(this,cn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of h(this,Ue).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return h(this,Ue).get(t)}addEditor(t){h(this,Ue).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,ls)&&clearTimeout(h(this,ls)),_(this,ls,setTimeout(()=>{this.focusMainContainer(),_(this,ls,null)},0))),h(this,Ue).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,ul).has(t.annotationElementId))&&((e=h(this,Ws))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,ul).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,ul).has(t)}removeDeletedAnnotationElement(t){h(this,ul).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,ni)!==t&&(_(this,ni,t),t&&w(this,rt,Za).call(this,t.propertiesToUpdate))}updateUI(t){h(this,rt,Mw)===t&&w(this,rt,Za).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,Qt).has(t)){h(this,Qt).delete(t),t.unselect(),w(this,rt,Rn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Qt).add(t),t.select(),w(this,rt,Za).call(this,t.propertiesToUpdate),w(this,rt,Rn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,Qt))e!==t&&e.unselect();h(this,Qt).clear(),h(this,Qt).add(t),t.select(),w(this,rt,Za).call(this,t.propertiesToUpdate),w(this,rt,Rn).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Qt).has(t)}get firstSelectedEditor(){return h(this,Qt).values().next().value}unselect(t){t.unselect(),h(this,Qt).delete(t),w(this,rt,Rn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Qt).size!==0}get isEnterHandled(){return h(this,Qt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,Ii).undo(),w(this,rt,Rn).call(this,{hasSomethingToUndo:h(this,Ii).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,rt,Eh).call(this)})}redo(){h(this,Ii).redo(),w(this,rt,Rn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,Ii).hasSomethingToRedo(),isEmpty:w(this,rt,Eh).call(this)})}addCommands(t){h(this,Ii).add(t),w(this,rt,Rn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,rt,Eh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,Qt)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)w(this,rt,lv).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=h(this,ni))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,ni)||this.hasSelection}selectAll(){for(const t of h(this,Qt))t.commit();w(this,rt,ov).call(this,h(this,Ue).values())}unselectAll(){if(!(h(this,ni)&&(h(this,ni).commitOrRemove(),h(this,tn)!==Mt.NONE))&&this.hasSelection){for(const t of h(this,Qt))t.unselect();h(this,Qt).clear(),w(this,rt,Rn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;h(this,or)[0]+=t,h(this,or)[1]+=e;const[r,l]=h(this,or),u=[...h(this,Qt)],d=1e3;h(this,cs)&&clearTimeout(h(this,cs)),_(this,cs,setTimeout(()=>{_(this,cs,null),h(this,or)[0]=h(this,or)[1]=0,this.addCommands({cmd:()=>{for(const f of u)h(this,Ue).has(f.id)&&f.translateInPage(r,l)},undo:()=>{for(const f of u)h(this,Ue).has(f.id)&&f.translateInPage(-r,-l)},mustExec:!1})},d));for(const f of u)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,rs,new Map);for(const t of h(this,Qt))h(this,rs).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,rs))return!1;this.disableUserSelect(!1);const t=h(this,rs);_(this,rs,null);let e=!1;for(const[{x:r,y:l,pageIndex:u},d]of t)d.newX=r,d.newY=l,d.newPageIndex=u,e||(e=r!==d.savedX||l!==d.savedY||u!==d.savedPageIndex);if(!e)return!1;const s=(r,l,u,d)=>{if(h(this,Ue).has(r.id)){const f=h(this,cn).get(d);f?r._setParentAndPosition(f,l,u):(r.pageIndex=d,r.x=l,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:u,newPageIndex:d}]of t)s(r,l,u,d)},undo:()=>{for(const[r,{savedX:l,savedY:u,savedPageIndex:d}]of t)s(r,l,u,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,rs))for(const s of h(this,rs).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Qt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,ni)===t}getActive(){return h(this,ni)}getMode(){return h(this,tn)}get imageManager(){return Ut(this,"imageManager",new ev)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let g=0,m=e.rangeCount;g<m;g++)if(!t.contains(e.getRangeAt(g).commonAncestorContainer))return null;const{x:s,y:r,width:l,height:u}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(g,m,b,v)=>({x:(m-r)/u,y:1-(g+b-s)/l,width:v/u,height:b/l});break;case"180":d=(g,m,b,v)=>({x:1-(g+b-s)/l,y:1-(m+v-r)/u,width:b/l,height:v/u});break;case"270":d=(g,m,b,v)=>({x:1-(m+v-r)/u,y:(g-s)/l,width:v/u,height:b/l});break;default:d=(g,m,b,v)=>({x:(g-s)/l,y:(m-r)/u,width:b/l,height:v/u});break}const f=[];for(let g=0,m=e.rangeCount;g<m;g++){const b=e.getRangeAt(g);if(!b.collapsed)for(const{x:v,y:A,width:S,height:x}of b.getClientRects())S===0||x===0||f.push(d(v,A,S,x))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,yc)||_(this,yc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,yc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,yc))==null?void 0:r.get(t.data.id);if(!e)return;const s=h(this,Ws).getRawValue(e);s&&(h(this,tn)===Mt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};gc=new WeakMap,ni=new WeakMap,Ue=new WeakMap,cn=new WeakMap,mc=new WeakMap,Ws=new WeakMap,yc=new WeakMap,Ii=new WeakMap,ir=new WeakMap,bc=new WeakMap,ul=new WeakMap,rs=new WeakMap,Ui=new WeakMap,hl=new WeakMap,Qh=new WeakMap,Zh=new WeakMap,vc=new WeakMap,Jh=new WeakMap,ls=new WeakMap,sr=new WeakMap,Ac=new WeakMap,ar=new WeakMap,os=new WeakMap,kg=new WeakMap,rr=new WeakMap,td=new WeakMap,lr=new WeakMap,dl=new WeakMap,ed=new WeakMap,nd=new WeakMap,tn=new WeakMap,Qt=new WeakMap,Qs=new WeakMap,fl=new WeakMap,id=new WeakMap,sd=new WeakMap,or=new WeakMap,cs=new WeakMap,Zs=new WeakMap,ad=new WeakMap,wi=new WeakMap,rt=new WeakSet,Kp=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},iv=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of h(this,cn).values())if(s.hasTextLayer(t))return s;return null},Aw=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=w(this,rt,Kp).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(h(this,os)||_(this,os,new iD(this)),h(this,os).show(s,r,this.direction==="ltr"))},Sw=function(){var l,u,d;const t=document.getSelection();if(!t||t.isCollapsed){h(this,Qs)&&((l=h(this,os))==null||l.hide(),_(this,Qs,null),w(this,rt,Rn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,Qs))return;const r=w(this,rt,Kp).call(this,t).closest(".textLayer");if(!r){h(this,Qs)&&((u=h(this,os))==null||u.hide(),_(this,Qs,null),w(this,rt,Rn).call(this,{hasSelectedText:!1}));return}if((d=h(this,os))==null||d.hide(),_(this,Qs,e),w(this,rt,Rn).call(this,{hasSelectedText:!0}),!(h(this,tn)!==Mt.HIGHLIGHT&&h(this,tn)!==Mt.NONE)&&(h(this,tn)===Mt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,ar,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=h(this,tn)===Mt.HIGHLIGHT?w(this,rt,iv).call(this,r):null;f==null||f.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),b=v=>{v.type==="pointerup"&&v.button!==0||(g.abort(),f==null||f.toggleDrawing(!0),v.type==="pointerup"&&w(this,rt,Wp).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("blur",b,{signal:m})}},Wp=function(t=""){h(this,tn)===Mt.HIGHLIGHT?this.highlightSelection(t):h(this,Qh)&&w(this,rt,Aw).call(this)},Ew=function(){document.addEventListener("selectionchange",w(this,rt,Sw).bind(this),{signal:this._signal})},_w=function(){if(h(this,sr))return;_(this,sr,new AbortController);const t=this.combinedSignal(h(this,sr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},ww=function(){var t;(t=h(this,sr))==null||t.abort(),_(this,sr,null)},sv=function(){if(h(this,lr))return;_(this,lr,new AbortController);const t=this.combinedSignal(h(this,lr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},xw=function(){var t;(t=h(this,lr))==null||t.abort(),_(this,lr,null)},av=function(){if(h(this,ir))return;_(this,ir,new AbortController);const t=this.combinedSignal(h(this,ir));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},rv=function(){var t;(t=h(this,ir))==null||t.abort(),_(this,ir,null)},Tw=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Rn=function(t){Object.entries(t).some(([s,r])=>h(this,sd)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,sd),t)}),h(this,tn)===Mt.HIGHLIGHT&&t.hasSelectedEditor===!1&&w(this,rt,Za).call(this,[[Et.HIGHLIGHT_FREE,!0]]))},Za=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},Cw=async function(){if(!h(this,rr)){_(this,rr,!0);const t=[];for(const e of h(this,cn).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,Ue).values())e.enable()}},Rw=function(){if(this.unselectAll(),h(this,rr)){_(this,rr,!1);for(const t of h(this,cn).values())t.disable();for(const t of h(this,Ue).values())t.disable()}},lv=function(t){const e=h(this,cn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Mw=function(){let t=null;for(t of h(this,Qt));return t},Eh=function(){if(h(this,Ue).size===0)return!0;if(h(this,Ue).size===1)for(const t of h(this,Ue).values())return t.isEmpty();return!1},ov=function(t){for(const e of h(this,Qt))e.unselect();h(this,Qt).clear();for(const e of t)e.isEmpty()||(h(this,Qt).add(e),e.select());w(this,rt,Rn).call(this,{hasSelectedEditor:this.hasSelection})},St(lc,"TRANSLATE_SMALL",1),St(lc,"TRANSLATE_BIG",10);let io=lc;var en,us,Bi,Sc,hs,ii,Ec,ds,Bn,Js,pl,fs,cr,Qi,_h,Qp;const Mn=class Mn{constructor(t){R(this,Qi);R(this,en,null);R(this,us,!1);R(this,Bi,null);R(this,Sc,null);R(this,hs,null);R(this,ii,null);R(this,Ec,!1);R(this,ds,null);R(this,Bn,null);R(this,Js,null);R(this,pl,null);R(this,fs,!1);_(this,Bn,t),_(this,fs,t._uiManager.useNewAltTextFlow),h(Mn,cr)||_(Mn,cr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Mn._l10n??(Mn._l10n=t)}async render(){const t=_(this,Bi,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=_(this,Sc,document.createElement("span"));t.append(e),h(this,fs)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(Mn,cr).missing),e.setAttribute("data-l10n-id",h(Mn,cr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=h(this,Bn)._uiManager._signal;t.addEventListener("contextmenu",Oi,{signal:s}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const r=l=>{l.preventDefault(),h(this,Bn)._uiManager.editAltText(h(this,Bn)),h(this,fs)&&h(this,Bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Qi,_h)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(_(this,Ec,!0),r(l))},{signal:s}),await w(this,Qi,Qp).call(this),t}finish(){h(this,Bi)&&(h(this,Bi).focus({focusVisible:h(this,Ec)}),_(this,Ec,!1))}isEmpty(){return h(this,fs)?h(this,en)===null:!h(this,en)&&!h(this,us)}hasData(){return h(this,fs)?h(this,en)!==null||!!h(this,Js):this.isEmpty()}get guessedText(){return h(this,Js)}async setGuessedText(t){h(this,en)===null&&(_(this,Js,t),_(this,pl,await Mn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),w(this,Qi,Qp).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,fs)||h(this,en)){(e=h(this,ds))==null||e.remove(),_(this,ds,null);return}if(!h(this,ds)){const s=_(this,ds,document.createElement("div"));s.className="noAltTextBadge",h(this,Bn).div.append(s)}h(this,ds).classList.toggle("hidden",!t)}serialize(t){let e=h(this,en);return!t&&h(this,Js)===e&&(e=h(this,pl)),{altText:e,decorative:h(this,us),guessedText:h(this,Js),textWithDisclaimer:h(this,pl)}}get data(){return{altText:h(this,en),decorative:h(this,us)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:l=!1}){s&&(_(this,Js,s),_(this,pl,r)),!(h(this,en)===t&&h(this,us)===e)&&(l||(_(this,en,t),_(this,us,e)),w(this,Qi,Qp).call(this))}toggle(t=!1){h(this,Bi)&&(!t&&h(this,ii)&&(clearTimeout(h(this,ii)),_(this,ii,null)),h(this,Bi).disabled=!t)}shown(){h(this,Bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Qi,_h)}})}destroy(){var t,e;(t=h(this,Bi))==null||t.remove(),_(this,Bi,null),_(this,Sc,null),_(this,hs,null),(e=h(this,ds))==null||e.remove(),_(this,ds,null)}};en=new WeakMap,us=new WeakMap,Bi=new WeakMap,Sc=new WeakMap,hs=new WeakMap,ii=new WeakMap,Ec=new WeakMap,ds=new WeakMap,Bn=new WeakMap,Js=new WeakMap,pl=new WeakMap,fs=new WeakMap,cr=new WeakMap,Qi=new WeakSet,_h=function(){return h(this,en)&&"added"||h(this,en)===null&&this.guessedText&&"review"||"missing"},Qp=async function(){var r,l,u;const t=h(this,Bi);if(!t)return;if(h(this,fs)){if(t.classList.toggle("done",!!h(this,en)),t.setAttribute("data-l10n-id",h(Mn,cr)[h(this,Qi,_h)]),(r=h(this,Sc))==null||r.setAttribute("data-l10n-id",h(Mn,cr)[`${h(this,Qi,_h)}-label`]),!h(this,en)){(l=h(this,hs))==null||l.remove();return}}else{if(!h(this,en)&&!h(this,us)){t.classList.remove("done"),(u=h(this,hs))==null||u.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,hs);if(!e){_(this,hs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,Bn).id}`;const d=100,f=h(this,Bn)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(h(this,ii)),_(this,ii,null)},{once:!0}),t.addEventListener("mouseenter",()=>{_(this,ii,setTimeout(()=>{_(this,ii,null),h(this,hs).classList.add("show"),h(this,Bn)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:f}),t.addEventListener("mouseleave",()=>{var g;h(this,ii)&&(clearTimeout(h(this,ii)),_(this,ii,null)),(g=h(this,hs))==null||g.classList.remove("show")},{signal:f})}h(this,us)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,en)),e.parentNode||t.append(e);const s=h(this,Bn).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},R(Mn,cr,null),St(Mn,"_l10n",null);let xg=Mn;var gl,ji,me,_c,ml,un,yl,ur,rd,bl,hr,ld,vl,ta,ps,wc,xc,xi,od,Ng,Lt,cv,cd,uv,hv,Lw,Dw,dv,fv,pv,Ow,gv,kw,Nw,Pw,mv,wh;const $t=class $t{constructor(t){R(this,Lt);R(this,gl,null);R(this,ji,null);R(this,me,null);R(this,_c,!1);R(this,ml,!1);R(this,un,null);R(this,yl,null);R(this,ur,null);R(this,rd,"");R(this,bl,!1);R(this,hr,null);R(this,ld,!1);R(this,vl,!1);R(this,ta,!1);R(this,ps,null);R(this,wc,0);R(this,xc,0);R(this,xi,null);St(this,"_editToolbar",null);St(this,"_initialOptions",Object.create(null));St(this,"_initialData",null);St(this,"_isVisible",!0);St(this,"_uiManager",null);St(this,"_focusEventsAllowed",!0);R(this,od,!1);R(this,Ng,$t._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:l,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[l,u];const[d,f]=this.parentDimensions;this.x=t.x/d,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=$t.prototype._resizeWithKeyboard,e=io.TRANSLATE_SMALL,s=io.TRANSLATE_BIG;return Ut(this,"_resizerKeyboardManager",new df([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],$t.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ut(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new lD({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if($t._l10n??($t._l10n=t),$t._l10nResizer||($t._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),$t._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);$t._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ue("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,od)}set _isDraggable(t){var e;_(this,od,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,Ng)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):w(this,Lt,wh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,bl)?_(this,bl,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[l,u]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/l,this.y=(e+r)/u,this.fixAndSetPosition()}translate(t,e){w(this,Lt,cv).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,hr)||_(this,hr,[this.x,this.y]),w(this,Lt,cv).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,hr)||_(this,hr,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,hr)&&(h(this,hr)[0]!==this.x||h(this,hr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=$t,r=s/t,l=s/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:l,width:u,height:d}=this;if(u*=e,d*=s,r*=e,l*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-u,r)),l=Math.max(0,Math.min(s-d,l));break;case 90:r=Math.max(0,Math.min(e-d,r)),l=Math.min(s,Math.max(u,l));break;case 180:r=Math.min(e,Math.max(u,r)),l=Math.min(s,Math.max(d,l));break;case 270:r=Math.min(e,Math.max(d,r)),l=Math.max(0,Math.min(s-u,l));break}this.x=r/=e,this.y=l/=s;const[f,g]=this.getBaseTranslation();r+=f,l+=g;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return w(s=$t,cd,uv).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return w(s=$t,cd,uv).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,h(this,ml)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),l=!h(this,ml)&&e.endsWith("%");if(r&&l)return;const[u,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!h(this,ml)&&!l&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,me))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,vl)?this._editToolbar:(this._editToolbar=new Jb(this),this.div.append(this._editToolbar.render()),h(this,me)&&await this._editToolbar.addAltText(h(this,me)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,me))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,me)||(xg.initialize($t._l10n),_(this,me,new xg(this)),h(this,gl)&&(h(this,me).data=h(this,gl),_(this,gl,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,me))==null?void 0:t.data}set altTextData(t){h(this,me)&&(h(this,me).data=t)}get guessedAltText(){var t;return(t=h(this,me))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,me))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,me))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,me)&&!h(this,me).isEmpty()}hasAltTextData(){var t;return((t=h(this,me))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,_c)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),w(this,Lt,gv).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),wg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Dn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(_(this,bl,!0),this._isDraggable){w(this,Lt,Ow).call(this,t);return}w(this,Lt,pv).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,ps)&&clearTimeout(h(this,ps)),_(this,ps,setTimeout(()=>{var t;_(this,ps,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[l,u]=this.pageDimensions,[d,f]=this.pageTranslation,g=t/r,m=e/r,b=this.x*l,v=this.y*u,A=this.width*l,S=this.height*u;switch(s){case 0:return[b+g+d,u-v-m-S+f,b+g+A+d,u-v-m+f];case 90:return[b+m+d,u-v+g+f,b+m+S+d,u-v+g+A+f];case 180:return[b-g-A+d,u-v+m+f,b-g+d,u-v+m+S+f];case 270:return[b-m-S+d,u-v-g-A+f,b-m+d,u-v-g+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,l,u]=t,d=l-s,f=u-r;switch(this.rotation){case 0:return[s,e-u,d,f];case 90:return[s,e-r,f,d];case 180:return[l,e-r,d,f];case 270:return[l,e-u,f,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,vl,!0)}disableEditMode(){_(this,vl,!1)}isInEditMode(){return h(this,vl)}shouldGetKeyboardEvents(){return h(this,ta)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){w(this,Lt,gv).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ue("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,_(r,gl,t.accessibilityData);const[l,u]=r.pageDimensions,[d,f,g,m]=r.getRectInCurrentCoords(t.rect,u);return r.x=d/l,r.y=f/u,r.width=g/l,r.height=m/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,ur))==null||t.abort(),_(this,ur,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,ps)&&(clearTimeout(h(this,ps)),_(this,ps,null)),w(this,Lt,wh).call(this),this.removeEditToolbar(),h(this,xi)){for(const e of h(this,xi).values())clearTimeout(e);_(this,xi,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,Lt,Lw).call(this),h(this,un).classList.remove("hidden"),wg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),_(this,yl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,un).children;if(!h(this,ji)){_(this,ji,Array.from(e));const u=w(this,Lt,kw).bind(this),d=w(this,Lt,Nw).bind(this),f=this._uiManager._signal;for(const g of h(this,ji)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",u,{signal:f}),g.addEventListener("blur",d,{signal:f}),g.addEventListener("focus",w(this,Lt,Pw).bind(this,m),{signal:f}),g.setAttribute("data-l10n-id",$t._l10nResizer[m])}}const s=h(this,ji)[0];let r=0;for(const u of e){if(u===s)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(h(this,ji).length/4);if(l!==r){if(l<r)for(let d=0;d<r-l;d++)h(this,un).append(h(this,un).firstChild);else if(l>r)for(let d=0;d<l-r;d++)h(this,un).firstChild.before(h(this,un).lastChild);let u=0;for(const d of e){const g=h(this,ji)[u++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",$t._l10nResizer[g])}}w(this,Lt,mv).call(this,0),_(this,ta,!0),h(this,un).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,ta)&&w(this,Lt,fv).call(this,h(this,rd),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){w(this,Lt,wh).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(s=h(this,me))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,l;(t=h(this,un))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=h(this,me))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,ld)}set isEditing(t){_(this,ld,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){_(this,ml,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,xi)||_(this,xi,new Map);const{action:s}=t;let r=h(this,xi).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,xi).delete(s),h(this,xi).size===0&&_(this,xi,null)},$t._telemetryTimeout),h(this,xi).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),_(this,_c,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,_c,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};gl=new WeakMap,ji=new WeakMap,me=new WeakMap,_c=new WeakMap,ml=new WeakMap,un=new WeakMap,yl=new WeakMap,ur=new WeakMap,rd=new WeakMap,bl=new WeakMap,hr=new WeakMap,ld=new WeakMap,vl=new WeakMap,ta=new WeakMap,ps=new WeakMap,wc=new WeakMap,xc=new WeakMap,xi=new WeakMap,od=new WeakMap,Ng=new WeakMap,Lt=new WeakSet,cv=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},cd=new WeakSet,uv=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},hv=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},Lw=function(){if(h(this,un))return;_(this,un,document.createElement("div")),h(this,un).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");h(this,un).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",w(this,Lt,Dw).bind(this,s),{signal:e}),r.addEventListener("contextmenu",Oi,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,un))},Dw=function(t,e){var S;e.preventDefault();const{isMac:s}=Dn.platform;if(e.button!==0||e.ctrlKey&&s)return;(S=h(this,me))==null||S.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,u=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",w(this,Lt,fv).bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",Oi,{signal:u});const d=this.x,f=this.y,g=this.width,m=this.height,b=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const A=()=>{var x;l.abort(),this.parent.togglePointerEvents(!0),(x=h(this,me))==null||x.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=b,this.div.style.cursor=v,w(this,Lt,dv).call(this,d,f,g,m)};window.addEventListener("pointerup",A,{signal:u}),window.addEventListener("blur",A,{signal:u})},dv=function(t,e,s,r){const l=this.x,u=this.y,d=this.width,f=this.height;l===t&&u===e&&d===s&&f===r||this.addCommands({cmd:()=>{this.width=d,this.height=f,this.x=l,this.y=u;const[g,m]=this.parentDimensions;this.setDims(g*d,m*f),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[g,m]=this.parentDimensions;this.setDims(g*s,m*r),this.fixAndSetPosition()},mustExec:!0})},fv=function(t,e){const[s,r]=this.parentDimensions,l=this.x,u=this.y,d=this.width,f=this.height,g=$t.MIN_SIZE/s,m=$t.MIN_SIZE/r,b=X=>Math.round(X*1e4)/1e4,v=w(this,Lt,hv).call(this,this.rotation),A=(X,Z)=>[v[0]*X+v[2]*Z,v[1]*X+v[3]*Z],S=w(this,Lt,hv).call(this,360-this.rotation),x=(X,Z)=>[S[0]*X+S[2]*Z,S[1]*X+S[3]*Z];let M,T,O=!1,L=!1;switch(t){case"topLeft":O=!0,M=(X,Z)=>[0,0],T=(X,Z)=>[X,Z];break;case"topMiddle":M=(X,Z)=>[X/2,0],T=(X,Z)=>[X/2,Z];break;case"topRight":O=!0,M=(X,Z)=>[X,0],T=(X,Z)=>[0,Z];break;case"middleRight":L=!0,M=(X,Z)=>[X,Z/2],T=(X,Z)=>[0,Z/2];break;case"bottomRight":O=!0,M=(X,Z)=>[X,Z],T=(X,Z)=>[0,0];break;case"bottomMiddle":M=(X,Z)=>[X/2,Z],T=(X,Z)=>[X/2,0];break;case"bottomLeft":O=!0,M=(X,Z)=>[0,Z],T=(X,Z)=>[X,0];break;case"middleLeft":L=!0,M=(X,Z)=>[0,Z/2],T=(X,Z)=>[X,Z/2];break}const N=M(d,f),H=T(d,f);let B=A(...H);const G=b(l+B[0]),W=b(u+B[1]);let J=1,st=1,[it,gt]=this.screenToPageTranslation(e.movementX,e.movementY);if([it,gt]=x(it/s,gt/r),O){const X=Math.hypot(d,f);J=st=Math.max(Math.min(Math.hypot(H[0]-N[0]-it,H[1]-N[1]-gt)/X,1/d,1/f),g/d,m/f)}else L?J=Math.max(g,Math.min(1,Math.abs(H[0]-N[0]-it)))/d:st=Math.max(m,Math.min(1,Math.abs(H[1]-N[1]-gt)))/f;const yt=b(d*J),ft=b(f*st);B=A(...T(yt,ft));const ht=G-B[0],U=W-B[1];this.width=yt,this.height=ft,this.x=ht,this.y=U,this.setDims(s*yt,r*ft),this.fixAndSetPosition()},pv=function(t){const{isMac:e}=Dn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},Ow=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),_(this,wc,t.clientX),_(this,xc,t.clientY);const u=d=>{const{clientX:f,clientY:g}=d,[m,b]=this.screenToPageTranslation(f-h(this,wc),g-h(this,xc));_(this,wc,f),_(this,xc,g),this._uiManager.dragSelectedEditors(m,b)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:r})}const l=()=>{s.abort(),e&&this.div.classList.remove("moving"),_(this,bl,!1),this._uiManager.endDragSession()||w(this,Lt,pv).call(this,t)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},gv=function(){if(h(this,ur)||!this.div)return;_(this,ur,new AbortController);const t=this._uiManager.combinedSignal(h(this,ur));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},kw=function(t){$t._resizerKeyboardManager.exec(this,t)},Nw=function(t){var e;h(this,ta)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,un)&&w(this,Lt,wh).call(this)},Pw=function(t){_(this,rd,h(this,ta)?t:"")},mv=function(t){if(h(this,ji))for(const e of h(this,ji))e.tabIndex=t},wh=function(){if(_(this,ta,!1),w(this,Lt,mv).call(this,-1),h(this,yl)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=h(this,yl);w(this,Lt,dv).call(this,t,e,s,r),_(this,yl,null)}},R($t,cd),St($t,"_l10n",null),St($t,"_l10nResizer",null),St($t,"_borderLineWidth",-1),St($t,"_colorManager",new nv),St($t,"_zIndex",1),St($t,"_telemetryTimeout",1e3);let Jt=$t;class lD extends Jt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const l_=3285377520,_i=4294901760,as=65535;class Fw{constructor(t){this.h1=t?t&4294967295:l_,this.h2=t?t&4294967295:l_}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let x=0,M=t.length;x<M;x++){const T=t.charCodeAt(x);T<=255?e[s++]=T:(e[s++]=T>>>8,e[s++]=T&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,l=s-r*4,u=new Uint32Array(e.buffer,0,r);let d=0,f=0,g=this.h1,m=this.h2;const b=3432918353,v=461845907,A=b&as,S=v&as;for(let x=0;x<r;x++)x&1?(d=u[x],d=d*b&_i|d*A&as,d=d<<15|d>>>17,d=d*v&_i|d*S&as,g^=d,g=g<<13|g>>>19,g=g*5+3864292196):(f=u[x],f=f*b&_i|f*A&as,f=f<<15|f>>>17,f=f*v&_i|f*S&as,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,l){case 3:d^=e[r*4+2]<<16;case 2:d^=e[r*4+1]<<8;case 1:d^=e[r*4],d=d*b&_i|d*A&as,d=d<<15|d>>>17,d=d*v&_i|d*S&as,r&1?g^=d:m^=d}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&_i|t*36045&as,e=e*4283543511&_i|((e<<16|t>>>16)*2950163797&_i)>>>16,t^=e>>>1,t=t*444984403&_i|t*60499&as,e=e*3301882366&_i|((e<<16|t>>>16)*3120437893&_i)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const yv=Object.freeze({map:null,hash:"",transfer:void 0});var Al,Sl,nn,Pg,Hw;class D0{constructor(){R(this,Pg);R(this,Al,!1);R(this,Sl,null);R(this,nn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=h(this,nn).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return h(this,nn).get(t)}remove(t){if(h(this,nn).delete(t),h(this,nn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,nn).values())if(e instanceof Jt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=h(this,nn).get(t);let r=!1;if(s!==void 0)for(const[l,u]of Object.entries(e))s[l]!==u&&(r=!0,s[l]=u);else r=!0,h(this,nn).set(t,e);r&&w(this,Pg,Hw).call(this),e instanceof Jt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,nn).has(t)}getAll(){return h(this,nn).size>0?x0(h(this,nn)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return h(this,nn).size}resetModified(){h(this,Al)&&(_(this,Al,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new zw(this)}get serializable(){if(h(this,nn).size===0)return yv;const t=new Map,e=new Fw,s=[],r=Object.create(null);let l=!1;for(const[u,d]of h(this,nn)){const f=d instanceof Jt?d.serialize(!1,r):d;f&&(t.set(u,f),e.update(`${u}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const u of t.values())u.bitmap&&s.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:yv}get editorStats(){let t=null;const e=new Map;for(const s of h(this,nn).values()){if(!(s instanceof Jt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const u=t[l]||(t[l]=new Map);for(const[d,f]of Object.entries(r)){if(d==="type")continue;let g=u.get(d);g||(g=new Map,u.set(d,g));const m=g.get(f)??0;g.set(f,m+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){_(this,Sl,null)}get modifiedIds(){if(h(this,Sl))return h(this,Sl);const t=[];for(const e of h(this,nn).values())!(e instanceof Jt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return _(this,Sl,{ids:new Set(t),hash:t.join(",")})}}Al=new WeakMap,Sl=new WeakMap,nn=new WeakMap,Pg=new WeakSet,Hw=function(){h(this,Al)||(_(this,Al,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ud;class zw extends D0{constructor(e){super();R(this,ud);const{map:s,hash:r,transfer:l}=e.serializable,u=structuredClone(s,l?{transfer:l}:null);_(this,ud,{map:u,hash:r,transfer:l})}get print(){ue("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,ud)}get modifiedIds(){return Ut(this,"modifiedIds",{ids:new Set,hash:""})}}ud=new WeakMap;var Tc;class oD{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){R(this,Tc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,Tc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,Tc).has(t.loadedName))){if(Ge(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:l}=t,u=new FontFace(s,r,l);this.addNativeFontFace(u);try{await u.load(),h(this,Tc).add(s),e==null||e(t)}catch{Ot(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}ue("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Ot(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ut(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(xn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ut(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ge(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ut(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(N,H){return N.charCodeAt(H)<<24|N.charCodeAt(H+1)<<16|N.charCodeAt(H+2)<<8|N.charCodeAt(H+3)&255}function r(N,H,B,G){const W=N.substring(0,H),J=N.substring(H+B);return W+G+J}let l,u;const d=this._document.createElement("canvas");d.width=1,d.height=1;const f=d.getContext("2d");let g=0;function m(N,H){if(++g>30){Ot("Load test font never loaded."),H();return}if(f.font="30px "+N,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){H();return}setTimeout(m.bind(null,N,H))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,b.length,b);const S=16,x=1482184792;let M=s(v,S);for(l=0,u=b.length-3;l<u;l+=4)M=M-x+s(b,l)|0;l<b.length&&(M=M-x+s(b+"XXX",l)|0),v=r(v,S,4,XL(M));const T=`url(data:font/opentype;base64,${btoa(v)});`,O=`@font-face {font-family:"${b}";src:${T}}`;this.insertRule(O);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const N of[t.loadedName,b]){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=N,L.append(H)}this._document.body.append(L),m(b,()=>{L.remove(),e.complete()})}}Tc=new WeakMap;class cD{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${ZL(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(l){Ot(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(l,u){};const r=[];for(let l=0,u=s.length;l<u;)switch(s[l++]){case Vs.BEZIER_CURVE_TO:{const[d,f,g,m,b,v]=s.slice(l,l+6);r.push(A=>A.bezierCurveTo(d,f,g,m,b,v)),l+=6}break;case Vs.MOVE_TO:{const[d,f]=s.slice(l,l+2);r.push(g=>g.moveTo(d,f)),l+=2}break;case Vs.LINE_TO:{const[d,f]=s.slice(l,l+2);r.push(g=>g.lineTo(d,f)),l+=2}break;case Vs.QUADRATIC_CURVE_TO:{const[d,f,g,m]=s.slice(l,l+4);r.push(b=>b.quadraticCurveTo(d,f,g,m)),l+=4}break;case Vs.RESTORE:r.push(d=>d.restore());break;case Vs.SAVE:r.push(d=>d.save());break;case Vs.SCALE:Ge(r.length===2,"Scale command is only valid at the third position.");break;case Vs.TRANSFORM:{const[d,f,g,m,b,v]=s.slice(l,l+6);r.push(A=>A.transform(d,f,g,m,b,v)),l+=6}break;case Vs.TRANSLATE:{const[d,f]=s.slice(l,l+2);r.push(g=>g.translate(d,f)),l+=2}break}return this.compiledGlyphs[e]=function(u,d){r[0](u),r[1](u),u.scale(d,-d);for(let f=2,g=r.length;f<g;f++)r[f](u)}}}var hd;class Iw{constructor({enableHWA:t=!1}){R(this,hd,!1);_(this,hd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!h(this,hd)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ue("Abstract method `_createCanvas` called.")}}hd=new WeakMap;class uD extends Iw{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class Uw{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class Bw extends Uw{async _fetch(t){const e=await nm(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):em(e)}}class jw{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,l){return"none"}destroy(t=!1){}}var El,_l,gs,ea,Sn,Fg,wl,lt,vn,Jo,tc,Zp,ec,Gw,bv,nc,xh,Th,vv,Ch;class hD extends jw{constructor({docId:e,ownerDocument:s=globalThis.document}){super();R(this,lt);R(this,El);R(this,_l);R(this,gs);R(this,ea);R(this,Sn);R(this,Fg);R(this,wl,0);_(this,ea,e),_(this,Sn,s)}addFilter(e){if(!e)return"none";let s=h(this,lt,vn).get(e);if(s)return s;const[r,l,u]=w(this,lt,Zp).call(this,e),d=e.length===1?r:`${r}${l}${u}`;if(s=h(this,lt,vn).get(d),s)return h(this,lt,vn).set(e,s),s;const f=`g_${h(this,ea)}_transfer_map_${Cn(this,wl)._++}`,g=w(this,lt,ec).call(this,f);h(this,lt,vn).set(e,g),h(this,lt,vn).set(d,g);const m=w(this,lt,nc).call(this,f);return w(this,lt,Th).call(this,r,l,u,m),g}addHCMFilter(e,s){var S;const r=`${e}-${s}`,l="base";let u=h(this,lt,Jo).get(l);if((u==null?void 0:u.key)===r||(u?((S=u.filter)==null||S.remove(),u.key=r,u.url="none",u.filter=null):(u={key:r,url:"none",filter:null},h(this,lt,Jo).set(l,u)),!e||!s))return u.url;const d=w(this,lt,Ch).call(this,e);e=dt.makeHexColor(...d);const f=w(this,lt,Ch).call(this,s);if(s=dt.makeHexColor(...f),h(this,lt,tc).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return u.url;const g=new Array(256);for(let x=0;x<=255;x++){const M=x/255;g[x]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=g.join(","),b=`g_${h(this,ea)}_hcm_filter`,v=u.filter=w(this,lt,nc).call(this,b);w(this,lt,Th).call(this,m,m,m,v),w(this,lt,bv).call(this,v);const A=(x,M)=>{const T=d[x]/255,O=f[x]/255,L=new Array(M+1);for(let N=0;N<=M;N++)L[N]=T+N/M*(O-T);return L.join(",")};return w(this,lt,Th).call(this,A(0,5),A(1,5),A(2,5),v),u.url=w(this,lt,ec).call(this,b),u.url}addAlphaFilter(e){let s=h(this,lt,vn).get(e);if(s)return s;const[r]=w(this,lt,Zp).call(this,[e]),l=`alpha_${r}`;if(s=h(this,lt,vn).get(l),s)return h(this,lt,vn).set(e,s),s;const u=`g_${h(this,ea)}_alpha_map_${Cn(this,wl)._++}`,d=w(this,lt,ec).call(this,u);h(this,lt,vn).set(e,d),h(this,lt,vn).set(l,d);const f=w(this,lt,nc).call(this,u);return w(this,lt,vv).call(this,r,f),d}addLuminosityFilter(e){let s=h(this,lt,vn).get(e||"luminosity");if(s)return s;let r,l;if(e?([r]=w(this,lt,Zp).call(this,[e]),l=`luminosity_${r}`):l="luminosity",s=h(this,lt,vn).get(l),s)return h(this,lt,vn).set(e,s),s;const u=`g_${h(this,ea)}_luminosity_map_${Cn(this,wl)._++}`,d=w(this,lt,ec).call(this,u);h(this,lt,vn).set(e,d),h(this,lt,vn).set(l,d);const f=w(this,lt,nc).call(this,u);return w(this,lt,Gw).call(this,f),e&&w(this,lt,vv).call(this,r,f),d}addHighlightHCMFilter(e,s,r,l,u){var O;const d=`${s}-${r}-${l}-${u}`;let f=h(this,lt,Jo).get(e);if((f==null?void 0:f.key)===d||(f?((O=f.filter)==null||O.remove(),f.key=d,f.url="none",f.filter=null):(f={key:d,url:"none",filter:null},h(this,lt,Jo).set(e,f)),!s||!r))return f.url;const[g,m]=[s,r].map(w(this,lt,Ch).bind(this));let b=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),v=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,S]=[l,u].map(w(this,lt,Ch).bind(this));v<b&&([b,v,A,S]=[v,b,S,A]),h(this,lt,tc).style.color="";const x=(L,N,H)=>{const B=new Array(256),G=(v-b)/H,W=L/255,J=(N-L)/(255*H);let st=0;for(let it=0;it<=H;it++){const gt=Math.round(b+it*G),yt=W+it*J;for(let ft=st;ft<=gt;ft++)B[ft]=yt;st=gt+1}for(let it=st;it<256;it++)B[it]=B[st-1];return B.join(",")},M=`g_${h(this,ea)}_hcm_${e}_filter`,T=f.filter=w(this,lt,nc).call(this,M);return w(this,lt,bv).call(this,T),w(this,lt,Th).call(this,x(A[0],S[0],5),x(A[1],S[1],5),x(A[2],S[2],5),T),f.url=w(this,lt,ec).call(this,M),f.url}destroy(e=!1){e&&h(this,lt,Jo).size!==0||(h(this,gs)&&(h(this,gs).parentNode.parentNode.remove(),_(this,gs,null)),h(this,_l)&&(h(this,_l).clear(),_(this,_l,null)),_(this,wl,0))}}El=new WeakMap,_l=new WeakMap,gs=new WeakMap,ea=new WeakMap,Sn=new WeakMap,Fg=new WeakMap,wl=new WeakMap,lt=new WeakSet,vn=function(){return h(this,_l)||_(this,_l,new Map)},Jo=function(){return h(this,Fg)||_(this,Fg,new Map)},tc=function(){if(!h(this,gs)){const e=h(this,Sn).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=h(this,Sn).createElementNS(Ys,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,gs,h(this,Sn).createElementNS(Ys,"defs")),e.append(r),r.append(h(this,gs)),h(this,Sn).body.append(e)}return h(this,gs)},Zp=function(e){if(e.length===1){const g=e[0],m=new Array(256);for(let v=0;v<256;v++)m[v]=g[v]/255;const b=m.join(",");return[b,b,b]}const[s,r,l]=e,u=new Array(256),d=new Array(256),f=new Array(256);for(let g=0;g<256;g++)u[g]=s[g]/255,d[g]=r[g]/255,f[g]=l[g]/255;return[u.join(","),d.join(","),f.join(",")]},ec=function(e){if(h(this,El)===void 0){_(this,El,"");const s=h(this,Sn).URL;s!==h(this,Sn).baseURI&&(im(s)?Ot('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,El,s.split("#",1)[0]))}return`url(${h(this,El)}#${e})`},Gw=function(e){const s=h(this,Sn).createElementNS(Ys,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},bv=function(e){const s=h(this,Sn).createElementNS(Ys,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},nc=function(e){const s=h(this,Sn).createElementNS(Ys,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),h(this,lt,tc).append(s),s},xh=function(e,s,r){const l=h(this,Sn).createElementNS(Ys,s);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),e.append(l)},Th=function(e,s,r,l){const u=h(this,Sn).createElementNS(Ys,"feComponentTransfer");l.append(u),w(this,lt,xh).call(this,u,"feFuncR",e),w(this,lt,xh).call(this,u,"feFuncG",s),w(this,lt,xh).call(this,u,"feFuncB",r)},vv=function(e,s){const r=h(this,Sn).createElementNS(Ys,"feComponentTransfer");s.append(r),w(this,lt,xh).call(this,r,"feFuncA",e)},Ch=function(e){return h(this,lt,tc).style.color=e,L0(getComputedStyle(h(this,lt,tc)).getPropertyValue("color"))};class qw{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class Vw extends qw{async _fetch(t){const e=await nm(t,"arraybuffer");return new Uint8Array(e)}}if(xn){var Av=Promise.withResolvers(),zh=null;(async()=>{const t=await kp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await kp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await kp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await kp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,u;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:l,path2d:u}))})().then(t=>{zh=t,Av.resolve()},t=>{Ot(`loadPackages: ${t}`),zh=new Map,Av.resolve()})}class Mr{static get promise(){return Av.promise}static get(t){return zh==null?void 0:zh.get(t)}}async function Xw(c){const e=await Mr.get("fs").promises.readFile(c);return new Uint8Array(e)}class dD extends jw{}class fD extends Iw{_createCanvas(t,e){return Mr.get("canvas").createCanvas(t,e)}}class pD extends Uw{async _fetch(t){return Xw(t)}}class gD extends qw{async _fetch(t){return Xw(t)}}const Ln={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Sv(c,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),c.clip(r)}class O0{getPattern(){ue("Abstract method `getPattern` called.")}}class mD extends O0{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let l;if(r===Ln.STROKE||r===Ln.FILL){const u=e.current.getClippedPathBoundingBox(r,be(t))||[0,0,0,0],d=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,g=e.cachedCanvases.getCanvas("pattern",d,f),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-u[0],-u[1]),s=dt.transform(s,[1,0,0,1,u[0],u[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Sv(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),l=t.createPattern(g.canvas,"no-repeat");const b=new DOMMatrix(s);l.setTransform(b)}else Sv(t,this._bbox),l=this._createGradient(t);return l}}function Ib(c,t,e,s,r,l,u,d){const f=t.coords,g=t.colors,m=c.data,b=c.width*4;let v;f[e+1]>f[s+1]&&(v=e,e=s,s=v,v=l,l=u,u=v),f[s+1]>f[r+1]&&(v=s,s=r,r=v,v=u,u=d,d=v),f[e+1]>f[s+1]&&(v=e,e=s,s=v,v=l,l=u,u=v);const A=(f[e]+t.offsetX)*t.scaleX,S=(f[e+1]+t.offsetY)*t.scaleY,x=(f[s]+t.offsetX)*t.scaleX,M=(f[s+1]+t.offsetY)*t.scaleY,T=(f[r]+t.offsetX)*t.scaleX,O=(f[r+1]+t.offsetY)*t.scaleY;if(S>=O)return;const L=g[l],N=g[l+1],H=g[l+2],B=g[u],G=g[u+1],W=g[u+2],J=g[d],st=g[d+1],it=g[d+2],gt=Math.round(S),yt=Math.round(O);let ft,ht,U,X,Z,_t,k,$;for(let nt=gt;nt<=yt;nt++){if(nt<M){const xt=nt<S?0:(S-nt)/(S-M);ft=A-(A-x)*xt,ht=L-(L-B)*xt,U=N-(N-G)*xt,X=H-(H-W)*xt}else{let xt;nt>O?xt=1:M===O?xt=0:xt=(M-nt)/(M-O),ft=x-(x-T)*xt,ht=B-(B-J)*xt,U=G-(G-st)*xt,X=W-(W-it)*xt}let tt;nt<S?tt=0:nt>O?tt=1:tt=(S-nt)/(S-O),Z=A-(A-T)*tt,_t=L-(L-J)*tt,k=N-(N-st)*tt,$=H-(H-it)*tt;const ot=Math.round(Math.min(ft,Z)),wt=Math.round(Math.max(ft,Z));let ct=b*nt+ot*4;for(let xt=ot;xt<=wt;xt++)tt=(ft-xt)/(ft-Z),tt<0?tt=0:tt>1&&(tt=1),m[ct++]=ht-(ht-_t)*tt|0,m[ct++]=U-(U-k)*tt|0,m[ct++]=X-(X-$)*tt|0,m[ct++]=255}}function yD(c,t,e){const s=t.coords,r=t.colors;let l,u;switch(t.type){case"lattice":const d=t.verticesPerRow,f=Math.floor(s.length/d)-1,g=d-1;for(l=0;l<f;l++){let m=l*d;for(let b=0;b<g;b++,m++)Ib(c,e,s[m],s[m+1],s[m+d],r[m],r[m+1],r[m+d]),Ib(c,e,s[m+d+1],s[m+1],s[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(l=0,u=s.length;l<u;l+=3)Ib(c,e,s[l],s[l+1],s[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class bD extends O0{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const d=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=g/b,S=m/v,x={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-f,scaleX:1/A,scaleY:1/S},M=b+2*2,T=v+2*2,O=s.getCanvas("mesh",M,T),L=O.context,N=L.createImageData(b,v);if(e){const B=N.data;for(let G=0,W=B.length;G<W;G+=4)B[G]=e[0],B[G+1]=e[1],B[G+2]=e[2],B[G+3]=255}for(const B of this._figures)yD(N,B,x);return L.putImageData(N,2,2),{canvas:O.canvas,offsetX:d-2*A,offsetY:f-2*S,scaleX:A,scaleY:S}}getPattern(t,e,s,r){Sv(t,this._bbox);let l;if(r===Ln.SHADING)l=dt.singularValueDecompose2dScale(be(t));else if(l=dt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=dt.singularValueDecompose2dScale(this.matrix);l=[l[0]*d[0],l[1]*d[1]]}const u=this._createMeshCanvas(l,r===Ln.SHADING?null:this._background,e.cachedCanvases);return r!==Ln.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class vD extends O0{getPattern(){return"hotpink"}}function AD(c){switch(c[0]){case"RadialAxial":return new mD(c);case"Mesh":return new bD(c);case"Dummy":return new vD}throw new Error(`Unknown IR type: ${c[0]}`)}const o_={COLORED:1,UNCOLORED:2},Hg=class Hg{constructor(t,e,s,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:g}=this;f=Math.abs(f),g=Math.abs(g),Jg("TilingType: "+l);const m=e[0],b=e[1],v=e[2],A=e[3],S=v-m,x=A-b,M=dt.singularValueDecompose2dScale(this.matrix),T=dt.singularValueDecompose2dScale(this.baseTransform),O=M[0]*T[0],L=M[1]*T[1];let N=S,H=x,B=!1,G=!1;const W=Math.ceil(f*O),J=Math.ceil(g*L),st=Math.ceil(S*O),it=Math.ceil(x*L);W>=st?N=f:B=!0,J>=it?H=g:G=!0;const gt=this.getSizeAndScale(N,this.ctx.canvas.width,O),yt=this.getSizeAndScale(H,this.ctx.canvas.height,L),ft=t.cachedCanvases.getCanvas("pattern",gt.size,yt.size),ht=ft.context,U=d.createCanvasGraphics(ht);if(U.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(U,r,u),ht.translate(-gt.scale*m,-yt.scale*b),U.transform(gt.scale,0,0,yt.scale,0,0),ht.save(),this.clipBbox(U,m,b,v,A),U.baseTransform=be(U.ctx),U.executeOperatorList(s),U.endDrawing(),ht.restore(),B||G){const X=ft.canvas;B&&(N=f),G&&(H=g);const Z=this.getSizeAndScale(N,this.ctx.canvas.width,O),_t=this.getSizeAndScale(H,this.ctx.canvas.height,L),k=Z.size,$=_t.size,nt=t.cachedCanvases.getCanvas("pattern-workaround",k,$),tt=nt.context,ot=B?Math.floor(S/f):0,wt=G?Math.floor(x/g):0;for(let ct=0;ct<=ot;ct++)for(let xt=0;xt<=wt;xt++)tt.drawImage(X,k*ct,$*xt,k,$,0,0,k,$);return{canvas:nt.canvas,scaleX:Z.scale,scaleY:_t.scale,offsetX:m,offsetY:b}}return{canvas:ft.canvas,scaleX:gt.scale,scaleY:yt.scale,offsetX:m,offsetY:b}}getSizeAndScale(t,e,s){const r=Math.max(Hg.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*s);return l>=r?l=r:s=l/t,{scale:s,size:l}}clipBbox(t,e,s,r,l){const u=r-e,d=l-s;t.ctx.rect(e,s,u,d),t.current.updateRectMinMax(be(t.ctx),[e,s,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,l=t.current;switch(e){case o_.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,l.fillColor=u.fillStyle,l.strokeColor=u.strokeStyle;break;case o_.UNCOLORED:const d=dt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,l.fillColor=d,l.strokeColor=d;break;default:throw new VL(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let l=s;r!==Ln.SHADING&&(l=dt.transform(l,e.baseTransform),this.matrix&&(l=dt.transform(l,this.matrix)));const u=this.createPatternCanvas(e);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}};St(Hg,"MAX_PATTERN_SIZE",3e3);let Ev=Hg;function SD({src:c,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:l=4294967295,inverseDecode:u=!1}){const d=Dn.isLittleEndian?4278190080:255,[f,g]=u?[l,d]:[d,l],m=s>>3,b=s&7,v=c.length;e=new Uint32Array(e.buffer);let A=0;for(let S=0;S<r;S++){for(const M=t+m;t<M;t++){const T=t<v?c[t]:255;e[A++]=T&128?g:f,e[A++]=T&64?g:f,e[A++]=T&32?g:f,e[A++]=T&16?g:f,e[A++]=T&8?g:f,e[A++]=T&4?g:f,e[A++]=T&2?g:f,e[A++]=T&1?g:f}if(b===0)continue;const x=t<v?c[t++]:255;for(let M=0;M<b;M++)e[A++]=x&1<<7-M?g:f}return{srcPos:t,destPos:A}}const c_=16,u_=100,ED=15,h_=10,d_=1e3,qn=16;function _D(c,t){if(c._removeMirroring)throw new Error("Context is already forwarding operations.");c.__originalSave=c.save,c.__originalRestore=c.restore,c.__originalRotate=c.rotate,c.__originalScale=c.scale,c.__originalTranslate=c.translate,c.__originalTransform=c.transform,c.__originalSetTransform=c.setTransform,c.__originalResetTransform=c.resetTransform,c.__originalClip=c.clip,c.__originalMoveTo=c.moveTo,c.__originalLineTo=c.lineTo,c.__originalBezierCurveTo=c.bezierCurveTo,c.__originalRect=c.rect,c.__originalClosePath=c.closePath,c.__originalBeginPath=c.beginPath,c._removeMirroring=()=>{c.save=c.__originalSave,c.restore=c.__originalRestore,c.rotate=c.__originalRotate,c.scale=c.__originalScale,c.translate=c.__originalTranslate,c.transform=c.__originalTransform,c.setTransform=c.__originalSetTransform,c.resetTransform=c.__originalResetTransform,c.clip=c.__originalClip,c.moveTo=c.__originalMoveTo,c.lineTo=c.__originalLineTo,c.bezierCurveTo=c.__originalBezierCurveTo,c.rect=c.__originalRect,c.closePath=c.__originalClosePath,c.beginPath=c.__originalBeginPath,delete c._removeMirroring},c.save=function(){t.save(),this.__originalSave()},c.restore=function(){t.restore(),this.__originalRestore()},c.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},c.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},c.transform=function(s,r,l,u,d,f){t.transform(s,r,l,u,d,f),this.__originalTransform(s,r,l,u,d,f)},c.setTransform=function(s,r,l,u,d,f){t.setTransform(s,r,l,u,d,f),this.__originalSetTransform(s,r,l,u,d,f)},c.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},c.rotate=function(s){t.rotate(s),this.__originalRotate(s)},c.clip=function(s){t.clip(s),this.__originalClip(s)},c.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},c.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},c.bezierCurveTo=function(e,s,r,l,u,d){t.bezierCurveTo(e,s,r,l,u,d),this.__originalBezierCurveTo(e,s,r,l,u,d)},c.rect=function(e,s,r,l){t.rect(e,s,r,l),this.__originalRect(e,s,r,l)},c.closePath=function(){t.closePath(),this.__originalClosePath()},c.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class wD{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Np(c,t,e,s,r,l,u,d,f,g){const[m,b,v,A,S,x]=be(c);if(b===0&&v===0){const O=u*m+S,L=Math.round(O),N=d*A+x,H=Math.round(N),B=(u+f)*m+S,G=Math.abs(Math.round(B)-L)||1,W=(d+g)*A+x,J=Math.abs(Math.round(W)-H)||1;return c.setTransform(Math.sign(m),0,0,Math.sign(A),L,H),c.drawImage(t,e,s,r,l,0,0,G,J),c.setTransform(m,b,v,A,S,x),[G,J]}if(m===0&&A===0){const O=d*v+S,L=Math.round(O),N=u*b+x,H=Math.round(N),B=(d+g)*v+S,G=Math.abs(Math.round(B)-L)||1,W=(u+f)*b+x,J=Math.abs(Math.round(W)-H)||1;return c.setTransform(0,Math.sign(b),Math.sign(v),0,L,H),c.drawImage(t,e,s,r,l,0,0,J,G),c.setTransform(m,b,v,A,S,x),[J,G]}c.drawImage(t,e,s,r,l,u,d,f,g);const M=Math.hypot(m,b),T=Math.hypot(v,A);return[M*f,T*g]}function xD(c){const{width:t,height:e}=c;if(t>d_||e>d_)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let u=new Uint8Array(l*(e+1)),d,f,g;const m=t+7&-8;let b=new Uint8Array(m*e),v=0;for(const T of c.data){let O=128;for(;O>0;)b[v++]=T&O?0:255,O>>=1}let A=0;for(v=0,b[v]!==0&&(u[0]=1,++A),f=1;f<t;f++)b[v]!==b[v+1]&&(u[f]=b[v]?2:1,++A),v++;for(b[v]!==0&&(u[f]=2,++A),d=1;d<e;d++){v=d*m,g=d*l,b[v-m]!==b[v]&&(u[g]=b[v]?1:8,++A);let T=(b[v]?4:0)+(b[v-m]?8:0);for(f=1;f<t;f++)T=(T>>2)+(b[v+1]?4:0)+(b[v-m+1]?8:0),r[T]&&(u[g+f]=r[T],++A),v++;if(b[v-m]!==b[v]&&(u[g+f]=b[v]?2:4,++A),A>s)return null}for(v=m*(e-1),g=d*l,b[v]!==0&&(u[g]=8,++A),f=1;f<t;f++)b[v]!==b[v+1]&&(u[g+f]=b[v]?4:8,++A),v++;if(b[v]!==0&&(u[g+f]=4,++A),A>s)return null;const S=new Int32Array([0,l,-1,0,-l,0,0,0,1]),x=new Path2D;for(d=0;A&&d<=e;d++){let T=d*l;const O=T+t;for(;T<O&&!u[T];)T++;if(T===O)continue;x.moveTo(T%l,d);const L=T;let N=u[T];do{const H=S[N];do T+=H;while(!u[T]);const B=u[T];B!==5&&B!==10?(N=B,u[T]=0):(N=B&51*N>>4,u[T]&=N>>2|N<<2),x.lineTo(T%l,T/l|0),u[T]||--A}while(L!==T);--d}return b=null,u=null,function(T){T.save(),T.scale(1/t,-1/e),T.translate(0,-e),T.fill(x),T.beginPath(),T.restore()}}class f_{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=cw,this.textMatrixScale=1,this.fontMatrix=$b,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=bn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=dt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=dt.applyTransform(e,t),r=dt.applyTransform(e.slice(2),t),l=dt.applyTransform([e[0],e[3]],t),u=dt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],l[0],u[0]),this.minY=Math.min(this.minY,s[1],r[1],l[1],u[1]),this.maxX=Math.max(this.maxX,s[0],r[0],l[0],u[0]),this.maxY=Math.max(this.maxY,s[1],r[1],l[1],u[1])}updateScalingPathMinMax(t,e){dt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,l,u,d,f,g,m){const b=dt.bezierBoundingBox(e,s,r,l,u,d,f,g,m);m||this.updateRectMinMax(t,b)}getPathBoundingBox(t=Ln.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===Ln.STROKE){e||ue("Stroke bounding box must include transform.");const r=dt.singularValueDecompose2dScale(e),l=r[0]*this.lineWidth/2,u=r[1]*this.lineWidth/2;s[0]-=l,s[1]-=u,s[2]+=l,s[3]+=u}return s}updateClipFromPath(){const t=dt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Ln.FILL,e=null){return dt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function p_(c,t){if(typeof ImageData<"u"&&t instanceof ImageData){c.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%qn,l=(e-r)/qn,u=r===0?l:l+1,d=c.createImageData(s,qn);let f=0,g;const m=t.data,b=d.data;let v,A,S,x;if(t.kind===Vp.GRAYSCALE_1BPP){const M=m.byteLength,T=new Uint32Array(b.buffer,0,b.byteLength>>2),O=T.length,L=s+7>>3,N=4294967295,H=Dn.isLittleEndian?4278190080:255;for(v=0;v<u;v++){for(S=v<l?qn:r,g=0,A=0;A<S;A++){const B=M-f;let G=0;const W=B>L?s:B*8-7,J=W&-8;let st=0,it=0;for(;G<J;G+=8)it=m[f++],T[g++]=it&128?N:H,T[g++]=it&64?N:H,T[g++]=it&32?N:H,T[g++]=it&16?N:H,T[g++]=it&8?N:H,T[g++]=it&4?N:H,T[g++]=it&2?N:H,T[g++]=it&1?N:H;for(;G<W;G++)st===0&&(it=m[f++],st=128),T[g++]=it&st?N:H,st>>=1}for(;g<O;)T[g++]=0;c.putImageData(d,0,v*qn)}}else if(t.kind===Vp.RGBA_32BPP){for(A=0,x=s*qn*4,v=0;v<l;v++)b.set(m.subarray(f,f+x)),f+=x,c.putImageData(d,0,A),A+=qn;v<u&&(x=s*r*4,b.set(m.subarray(f,f+x)),c.putImageData(d,0,A))}else if(t.kind===Vp.RGB_24BPP)for(S=qn,x=s*S,v=0;v<u;v++){for(v>=l&&(S=r,x=s*S),g=0,A=x;A--;)b[g++]=m[f++],b[g++]=m[f++],b[g++]=m[f++],b[g++]=255;c.putImageData(d,0,v*qn)}else throw new Error(`bad image kind: ${t.kind}`)}function g_(c,t){if(t.bitmap){c.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%qn,l=(e-r)/qn,u=r===0?l:l+1,d=c.createImageData(s,qn);let f=0;const g=t.data,m=d.data;for(let b=0;b<u;b++){const v=b<l?qn:r;({srcPos:f}=SD({src:g,srcPos:f,dest:m,width:s,height:v,nonBlackColor:0})),c.putImageData(d,0,b*qn)}}function bh(c,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)c[s]!==void 0&&(t[s]=c[s]);c.setLineDash!==void 0&&(t.setLineDash(c.getLineDash()),t.lineDashOffset=c.lineDashOffset)}function Pp(c){if(c.strokeStyle=c.fillStyle="#000000",c.fillRule="nonzero",c.globalAlpha=1,c.lineWidth=1,c.lineCap="butt",c.lineJoin="miter",c.miterLimit=10,c.globalCompositeOperation="source-over",c.font="10px sans-serif",c.setLineDash!==void 0&&(c.setLineDash([]),c.lineDashOffset=0),!xn){const{filter:t}=c;t!=="none"&&t!==""&&(c.filter="none")}}function m_(c,t){if(t)return!0;const e=dt.singularValueDecompose2dScale(c);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Rr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const TD=["butt","round","square"],CD=["miter","round","bevel"],RD={},y_={};var Dr,_v,wv;const U0=class U0{constructor(t,e,s,r,l,{optionalContentConfig:u,markedContentStack:d=null},f,g){R(this,Dr);this.ctx=t,this.current=new f_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=u,this.cachedCanvases=new wD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const l=this.ctx.canvas.width,u=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,u),this.ctx.fillStyle=d,s){const f=this.cachedCanvases.getCanvas("transparent",l,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...be(this.compositeCtx))}this.ctx.save(),Pp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=be(this.ctx)}executeOperatorList(t,e,s,r){const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const g=f-d>h_&&typeof s=="function",m=g?Date.now()+ED:0;let b=0;const v=this.commonObjs,A=this.objs;let S;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(S=u[d],S!==Hi.dependency)this[S].apply(this,l[d]);else for(const x of l[d]){const M=x.startsWith("g_")?v:A;if(!M.has(x))return M.get(x,s),d}if(d++,d===f)return d;if(g&&++b>h_){if(Date.now()>m)return s(),d;b=0}}}endDrawing(){w(this,Dr,_v).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),w(this,Dr,wv).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),d=s,f=r,g="prescale1",m,b;for(;l>2&&d>1||u>2&&f>1;){let v=d,A=f;l>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/v),u>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/A),m=this.cachedCanvases.getCanvas(g,v,A),b=m.context,b.clearRect(0,0,v,A),b.drawImage(t,0,0,d,f,0,0,v,A),t=m.canvas,d=v,f=A,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,l=this.current.fillColor,u=this.current.patternFill,d=be(e);let f,g,m,b;if((t.bitmap||t.data)&&t.count>1){const W=t.bitmap||t.data.buffer;g=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const J=f.get(g);if(J&&!u){const st=Math.round(Math.min(d[0],d[2])+d[4]),it=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:J,offsetX:st,offsetY:it}}m=J}m||(b=this.cachedCanvases.getCanvas("maskCanvas",s,r),g_(b.context,t));let v=dt.transform(d,[1/s,0,0,-1/r,0,0]);v=dt.transform(v,[1,0,0,1,0,-r]);const[A,S,x,M]=dt.getAxialAlignedBoundingBox([0,0,s,r],v),T=Math.round(x-A)||1,O=Math.round(M-S)||1,L=this.cachedCanvases.getCanvas("fillCanvas",T,O),N=L.context,H=A,B=S;N.translate(-H,-B),N.transform(...v),m||(m=this._scaleImage(b.canvas,Xs(N)),m=m.img,f&&u&&f.set(g,m)),N.imageSmoothingEnabled=m_(be(N),t.interpolate),Np(N,m,0,0,m.width,m.height,0,0,s,r),N.globalCompositeOperation="source-in";const G=dt.transform(Xs(N),[1,0,0,1,-H,-B]);return N.fillStyle=u?l.getPattern(e,this,G,Ln.FILL):l,N.fillRect(0,0,s,r),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(g,L.canvas)),{canvas:L.canvas,offsetX:Math.round(H),offsetY:Math.round(B)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=TD[t]}setLineJoin(t){this.ctx.lineJoin=CD[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...be(this.suspendedCtx)),bh(this.suspendedCtx,l),_D(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),bh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const l=r[0],u=r[1],d=r[2]-l,f=r[3]-u;d===0||f===0||(this.genericComposeSMask(e.context,s,d,f,e.subtype,e.backdrop,e.transferMap,l,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,l,u,d,f,g,m,b){let v=t.canvas,A=f-m,S=g-b;if(u){const M=dt.makeHexColor(...u);if(A<0||S<0||A+s>v.width||S+r>v.height){const T=this.cachedCanvases.getCanvas("maskExtension",s,r),O=T.context;O.drawImage(v,-A,-S),O.globalCompositeOperation="destination-atop",O.fillStyle=M,O.fillRect(0,0,s,r),O.globalCompositeOperation="source-over",v=T.canvas,A=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(A,S,s,r),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(A,S,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const x=new Path2D;x.rect(f,g,s,r),e.clip(x),e.globalCompositeOperation="destination-in",e.drawImage(v,A,S,s,r,f,g,s,r),e.restore()}save(){this.inSMaskMode?(bh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),bh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,l,u){this.ctx.transform(t,e,s,r,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,l=this.current;let u=l.x,d=l.y,f,g;const m=be(r),b=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,v=b?s.slice(0):null;for(let A=0,S=0,x=t.length;A<x;A++)switch(t[A]|0){case Hi.rectangle:u=e[S++],d=e[S++];const M=e[S++],T=e[S++],O=u+M,L=d+T;r.moveTo(u,d),M===0||T===0?r.lineTo(O,L):(r.lineTo(O,d),r.lineTo(O,L),r.lineTo(u,L)),b||l.updateRectMinMax(m,[u,d,O,L]),r.closePath();break;case Hi.moveTo:u=e[S++],d=e[S++],r.moveTo(u,d),b||l.updatePathMinMax(m,u,d);break;case Hi.lineTo:u=e[S++],d=e[S++],r.lineTo(u,d),b||l.updatePathMinMax(m,u,d);break;case Hi.curveTo:f=u,g=d,u=e[S+4],d=e[S+5],r.bezierCurveTo(e[S],e[S+1],e[S+2],e[S+3],u,d),l.updateCurvePathMinMax(m,f,g,e[S],e[S+1],e[S+2],e[S+3],u,d,v),S+=6;break;case Hi.curveTo2:f=u,g=d,r.bezierCurveTo(u,d,e[S],e[S+1],e[S+2],e[S+3]),l.updateCurvePathMinMax(m,f,g,u,d,e[S],e[S+1],e[S+2],e[S+3],v),u=e[S+2],d=e[S+3],S+=4;break;case Hi.curveTo3:f=u,g=d,u=e[S+2],d=e[S+3],r.bezierCurveTo(e[S],e[S+1],u,d,u,d),l.updateCurvePathMinMax(m,f,g,e[S],e[S+1],u,d,u,d,v),S+=4;break;case Hi.closePath:r.closePath();break}b&&l.updateScalingPathMinMax(m,v),l.setCurrentPoint(u,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,Xs(e),Ln.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,Xs(e),Ln.FILL),l=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=RD}eoClip(){this.pendingClip=y_}beginText(){this.current.textMatrix=cw,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||$b,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ot("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const l=s.loadedName||"sans-serif",u=((m=s.systemFontInfo)==null?void 0:m.css)||`"${l}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const f=s.italic?"italic":"normal";let g=e;e<c_?g=c_:e>u_&&(g=u_),this.current.fontSizeScale=e/g,this.ctx.font=`${f} ${d} ${g}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,l,u){this.current.textMatrix=[t,e,s,r,l,u],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const l=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,g=u.fontSize/u.fontSizeScale,m=f&bn.FILL_STROKE_MASK,b=!!(f&bn.ADD_TO_PATH_FLAG),v=u.patternFill&&!d.missingFile;let A;(d.disableFontFace||b||v)&&(A=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v?(l.save(),l.translate(e,s),l.beginPath(),A(l,g),r&&l.setTransform(...r),(m===bn.FILL||m===bn.FILL_STROKE)&&l.fill(),(m===bn.STROKE||m===bn.FILL_STROKE)&&l.stroke(),l.restore()):((m===bn.FILL||m===bn.FILL_STROKE)&&l.fillText(t,e,s),(m===bn.STROKE||m===bn.FILL_STROKE)&&l.strokeText(t,e,s)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:be(l),x:e,y:s,fontSize:g,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return Ut(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,u=e.fontSizeScale,d=e.charSpacing,f=e.wordSpacing,g=e.fontDirection,m=e.textHScale*g,b=t.length,v=s.vertical,A=v?1:-1,S=s.defaultVMetrics,x=r*e.fontMatrix[0],M=e.textRenderingMode===bn.FILL&&!s.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),g>0?l.scale(m,-1):l.scale(m,1);let T;if(e.patternFill){l.save();const B=e.fillColor.getPattern(l,this,Xs(l),Ln.FILL);T=be(l),l.restore(),l.fillStyle=B}let O=e.lineWidth;const L=e.textMatrixScale;if(L===0||O===0){const B=e.textRenderingMode&bn.FILL_STROKE_MASK;(B===bn.STROKE||B===bn.FILL_STROKE)&&(O=this.getSinglePixelWidth())}else O/=L;if(u!==1&&(l.scale(u,u),O/=u),l.lineWidth=O,s.isInvalidPDFjsFont){const B=[];let G=0;for(const W of t)B.push(W.unicode),G+=W.width;l.fillText(B.join(""),0,0),e.x+=G*x*m,l.restore(),this.compose();return}let N=0,H;for(H=0;H<b;++H){const B=t[H];if(typeof B=="number"){N+=A*B*r/1e3;continue}let G=!1;const W=(B.isSpace?f:0)+d,J=B.fontChar,st=B.accent;let it,gt,yt=B.width;if(v){const ht=B.vmetric||S,U=-(B.vmetric?ht[1]:yt*.5)*x,X=ht[2]*x;yt=ht?-ht[0]:yt,it=U/u,gt=(N+X)/u}else it=N/u,gt=0;if(s.remeasure&&yt>0){const ht=l.measureText(J).width*1e3/r*u;if(yt<ht&&this.isFontSubpixelAAEnabled){const U=yt/ht;G=!0,l.save(),l.scale(U,1),it/=U}else yt!==ht&&(it+=(yt-ht)/2e3*r/u)}if(this.contentVisible&&(B.isInFont||s.missingFile)){if(M&&!st)l.fillText(J,it,gt);else if(this.paintChar(J,it,gt,T),st){const ht=it+r*st.offset.x/u,U=gt-r*st.offset.y/u;this.paintChar(st.fontChar,ht,U,T)}}const ft=v?yt*x-W*g:yt*x+W*g;N+=ft,G&&l.restore()}v?e.y-=N:e.x+=N*m,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,l=s.fontSize,u=s.fontDirection,d=r.vertical?1:-1,f=s.charSpacing,g=s.wordSpacing,m=s.textHScale*u,b=s.fontMatrix||$b,v=t.length,A=s.textRenderingMode===bn.INVISIBLE;let S,x,M,T;if(!(A||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(m,u),S=0;S<v;++S){if(x=t[S],typeof x=="number"){T=d*x*l/1e3,this.ctx.translate(T,0),s.x+=T*m;continue}const O=(x.isSpace?g:0)+f,L=r.charProcOperatorList[x.operatorListId];if(!L){Ot(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),e.scale(l,l),e.transform(...b),this.executeOperatorList(L),this.restore()),M=dt.applyTransform([x.width,0],b)[0]*l+O,e.translate(M,0),s.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,l,u){this.ctx.rect(s,r,l-s,u-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||be(this.ctx),l={createCanvasGraphics:u=>new U0(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Ev(t,s,this.ctx,l,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=dt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=dt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=AD(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Xs(e),Ln.SHADING);const r=Xs(e);if(r){const{width:l,height:u}=e.canvas,[d,f,g,m]=dt.getAxialAlignedBoundingBox([0,0,l,u],r);this.ctx.fillRect(d,f,g-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ue("Should not call beginInlineImage")}beginImageData(){ue("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=be(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(be(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Jg("TODO: Support non-isolated groups."),t.knockout&&Ot("Knockout groups not supported.");const s=be(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=dt.getAxialAlignedBoundingBox(t.bbox,be(e));const l=[0,0,e.canvas.width,e.canvas.height];r=dt.intersect(r,l)||[0,0,0,0];const u=Math.floor(r[0]),d=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-u,1),g=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(m,f,g),v=b.context;v.translate(-u,-d),v.transform(...s),t.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:u,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,d),e.save()),bh(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=be(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=dt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,s,r,l){if(w(this,Dr,_v).call(this),Pp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],d=e[3]-e[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=d;const[f,g]=dt.singularValueDecompose2dScale(be(this.ctx)),{viewportScale:m}=this,b=Math.ceil(u*this.outputScaleX*m),v=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(b,v);const{canvas:A,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(f,0,0,-g,0,d*g),Pp(this.ctx)}else Pp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],u,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new f_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,Dr,wv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=xD(t)),r.compiled)){r.compiled(s);return}const l=this._createMaskCanvas(t),u=l.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(u,l.offsetX,l.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,l,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const f=be(d);d.transform(e,s,r,l,0,0);const g=this._createMaskCanvas(t);d.setTransform(1,0,0,1,g.offsetX-f[4],g.offsetY-f[5]);for(let m=0,b=u.length;m<b;m+=2){const v=dt.transform(f,[e,s,r,l,u[m],u[m+1]]),[A,S]=dt.applyTransform([0,0],v);d.drawImage(g.canvas,A,S)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:u,width:d,height:f,transform:g}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=m.context;b.save();const v=this.getObject(u,l);g_(b,v),b.globalCompositeOperation="source-in",b.fillStyle=r?s.getPattern(b,this,Xs(e),Ln.FILL):s,b.fillRect(0,0,d,f),b.restore(),e.save(),e.transform(...g),e.scale(1,-1),Np(e,m.canvas,0,0,d,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Ot("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Ot("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let g=0,m=r.length;g<m;g+=2)f.push({transform:[e,0,0,s,r[g],r[g+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",s,r),u=l.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!xn){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/e,-1/s);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,s).context;p_(f,t),l=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(l,Xs(r));r.imageSmoothingEnabled=m_(be(r),t.interpolate),Np(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;p_(f,t),r=this.applyTransferMapsToCanvas(f)}for(const l of e)s.save(),s.transform(...l.transform),s.scale(1,-1),Np(s,r,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===y_?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=be(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:l}=this.ctx.getTransform();let u,d;if(s===0&&r===0){const f=Math.abs(e),g=Math.abs(l);if(f===g)if(t===0)u=d=1/f;else{const m=f*t;u=d=m<1?1/m:1}else if(t===0)u=1/f,d=1/g;else{const m=f*t,b=g*t;u=m<1?1/m:1,d=b<1?1/b:1}}else{const f=Math.abs(e*l-s*r),g=Math.hypot(e,s),m=Math.hypot(r,l);if(t===0)u=m/f,d=g/f;else{const b=t*f;u=m>b?m/b:1,d=g>b?g/b:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,l]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&l===1){e.stroke();return}const u=e.getLineDash();if(t&&e.save(),e.scale(r,l),u.length>0){const d=Math.max(r,l);e.setLineDash(u.map(f=>f/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Dr=new WeakSet,_v=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},wv=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let cc=U0;for(const c in Hi)cc.prototype[c]!==void 0&&(cc.prototype[Hi[c]]=cc.prototype[c]);var dd,fd;class Aa{static get workerPort(){return h(this,dd)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");_(this,dd,t)}static get workerSrc(){return h(this,fd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");_(this,fd,t)}}dd=new WeakMap,fd=new WeakMap,R(Aa,dd,null),R(Aa,fd,"");const Fp={DATA:1,ERROR:2},ke={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ei(c){switch(c instanceof Error||typeof c=="object"&&c!==null||ue('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),c.name){case"AbortException":return new ho(c.message);case"MissingPDFException":return new uo(c.message);case"PasswordException":return new Kb(c.message,c.code);case"UnexpectedResponseException":return new tm(c.message,c.status);case"UnknownErrorException":return new Wb(c.message,c.details);default:return new Wb(c.message,c.toString())}}var Cc,Di,Yw,$w,Kw,Jp;class Rh{constructor(t,e,s){R(this,Di);R(this,Cc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",w(this,Di,Yw).bind(this),{signal:h(this,Cc).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(u){l.reject(u)}return l.promise}sendWithStream(t,e,s,r){const l=this.streamId++,u=this.sourceName,d=this.targetName,f=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[l]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:d,action:t,streamId:l,data:e,desiredSize:g.desiredSize},r),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[l].pullCall=m,f.postMessage({sourceName:u,targetName:d,stream:ke.PULL,streamId:l,desiredSize:g.desiredSize}),m.promise},cancel:g=>{Ge(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[l].cancelCall=m,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:u,targetName:d,stream:ke.CANCEL,streamId:l,reason:ei(g)}),m.promise}},s)}destroy(){var t;(t=h(this,Cc))==null||t.abort(),_(this,Cc,null)}}Cc=new WeakMap,Di=new WeakSet,Yw=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){w(this,Di,Kw).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===Fp.DATA)r.resolve(t.data);else if(t.callback===Fp.ERROR)r.reject(ei(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,l=this.comObj;new Promise(function(u){u(e(t.data))}).then(function(u){l.postMessage({sourceName:s,targetName:r,callback:Fp.DATA,callbackId:t.callbackId,data:u})},function(u){l.postMessage({sourceName:s,targetName:r,callback:Fp.ERROR,callbackId:t.callbackId,reason:ei(u)})});return}if(t.streamId){w(this,Di,$w).call(this,t);return}e(t.data)},$w=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,u=this,d=this.actionHandler[t.action],f={enqueue(g,m=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=m,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:r,stream:ke.ENQUEUE,streamId:e,chunk:g},b)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:ke.CLOSE,streamId:e}),delete u.streamSinks[e])},error(g){Ge(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:ke.ERROR,streamId:e,reason:ei(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(g){g(d(t.data,f))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:ke.START_COMPLETE,streamId:e,success:!0})},function(g){l.postMessage({sourceName:s,targetName:r,stream:ke.START_COMPLETE,streamId:e,reason:ei(g)})})},Kw=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,u=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case ke.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(ei(t.reason));break;case ke.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(ei(t.reason));break;case ke.PULL:if(!d){l.postMessage({sourceName:s,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(f){var g;f((g=d.onPull)==null?void 0:g.call(d))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,reason:ei(f)})});break;case ke.ENQUEUE:if(Ge(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case ke.CLOSE:if(Ge(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),w(this,Di,Jp).call(this,u,e);break;case ke.ERROR:Ge(u,"error should have stream controller"),u.controller.error(ei(t.reason)),w(this,Di,Jp).call(this,u,e);break;case ke.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(ei(t.reason)),w(this,Di,Jp).call(this,u,e);break;case ke.CANCEL:if(!d)break;new Promise(function(f){var g;f((g=d.onCancel)==null?void 0:g.call(d,ei(t.reason)))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:ke.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:r,stream:ke.CANCEL_COMPLETE,streamId:e,reason:ei(f)})}),d.sinkCapability.reject(ei(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Jp=async function(t,e){var s,r,l;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var xl,pd;class MD{constructor({parsedData:t,rawData:e}){R(this,xl);R(this,pd);_(this,xl,t),_(this,pd,e)}getRaw(){return h(this,pd)}get(t){return h(this,xl).get(t)??null}getAll(){return x0(h(this,xl))}has(t){return h(this,xl).has(t)}}xl=new WeakMap,pd=new WeakMap;const ic=Symbol("INTERNAL");var gd,md,yd,Rc;class LD{constructor(t,{name:e,intent:s,usage:r,rbGroups:l}){R(this,gd,!1);R(this,md,!1);R(this,yd,!1);R(this,Rc,!0);_(this,gd,!!(t&ui.DISPLAY)),_(this,md,!!(t&ui.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=l}get visible(){if(h(this,yd))return h(this,Rc);if(!h(this,Rc))return!1;const{print:t,view:e}=this.usage;return h(this,gd)?(e==null?void 0:e.viewState)!=="OFF":h(this,md)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==ic&&ue("Internal method `_setVisible` called."),_(this,yd,s),_(this,Rc,e)}}gd=new WeakMap,md=new WeakMap,yd=new WeakMap,Rc=new WeakMap;var dr,Zt,Mc,Lc,bd,xv;class DD{constructor(t,e=ui.DISPLAY){R(this,bd);R(this,dr,null);R(this,Zt,new Map);R(this,Mc,null);R(this,Lc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,_(this,Lc,t.order);for(const s of t.groups)h(this,Zt).set(s.id,new LD(e,s));if(t.baseState==="OFF")for(const s of h(this,Zt).values())s._setVisible(ic,!1);for(const s of t.on)h(this,Zt).get(s)._setVisible(ic,!0);for(const s of t.off)h(this,Zt).get(s)._setVisible(ic,!1);_(this,Mc,this.getHash())}}isVisible(t){if(h(this,Zt).size===0)return!0;if(!t)return Jg("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Zt).has(t.id)?h(this,Zt).get(t.id).visible:(Ot(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return w(this,bd,xv).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Zt).has(e))return Ot(`Optional content group not found: ${e}`),!0;if(h(this,Zt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Zt).has(e))return Ot(`Optional content group not found: ${e}`),!0;if(!h(this,Zt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Zt).has(e))return Ot(`Optional content group not found: ${e}`),!0;if(!h(this,Zt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Zt).has(e))return Ot(`Optional content group not found: ${e}`),!0;if(h(this,Zt).get(e).visible)return!1}return!0}return Ot(`Unknown optional content policy ${t.policy}.`),!0}return Ot(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var l;const r=h(this,Zt).get(t);if(!r){Ot(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const u of r.rbGroups)for(const d of u)d!==t&&((l=h(this,Zt).get(d))==null||l._setVisible(ic,!1,!0));r._setVisible(ic,!!e,!0),_(this,dr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const l=h(this,Zt).get(r);if(l)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}_(this,dr,null)}get hasInitialVisibility(){return h(this,Mc)===null||this.getHash()===h(this,Mc)}getOrder(){return h(this,Zt).size?h(this,Lc)?h(this,Lc).slice():[...h(this,Zt).keys()]:null}getGroups(){return h(this,Zt).size>0?x0(h(this,Zt)):null}getGroup(t){return h(this,Zt).get(t)||null}getHash(){if(h(this,dr)!==null)return h(this,dr);const t=new Fw;for(const[e,s]of h(this,Zt))t.update(`${e}:${s.visible}`);return _(this,dr,t.hexdigest())}}dr=new WeakMap,Zt=new WeakMap,Mc=new WeakMap,Lc=new WeakMap,bd=new WeakSet,xv=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const l=t[r];let u;if(Array.isArray(l))u=w(this,bd,xv).call(this,l);else if(h(this,Zt).has(l))u=h(this,Zt).get(l).visible;else return Ot(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"};class OD{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Ge(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:u,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=d,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,g)=>{this._onReceiveData({begin:f,chunk:g})}),t.addProgressListener((f,g)=>{this._onProgress({loaded:f,total:g})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(s),!0)});Ge(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,l;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ge(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new kD(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new ND(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class kD{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=R0(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ND{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function PD(c){let t=!0,e=s("filename\\*","i").exec(c);if(e){e=e[1];let m=d(e);return m=unescape(m),m=f(m),m=g(m),l(m)}if(e=u(c),e){const m=g(e);return l(m)}if(e=s("filename","i").exec(c),e){e=e[1];let m=d(e);return m=g(m),l(m)}function s(m,b){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(m,b){if(m){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(m,{fatal:!0}),A=em(b);b=v.decode(A),t=!1}catch{}}return b}function l(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function u(m){const b=[];let v;const A=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=A.exec(m))!==null;){let[,x,M,T]=v;if(x=parseInt(x,10),x in b){if(x===0)break;continue}b[x]=[M,T]}const S=[];for(let x=0;x<b.length&&x in b;++x){let[M,T]=b[x];T=d(T),M&&(T=unescape(T),x===0&&(T=f(T))),S.push(T)}return S.join("")}function d(m){if(m.startsWith('"')){const b=m.slice(1).split('\\"');for(let v=0;v<b.length;++v){const A=b[v].indexOf('"');A!==-1&&(b[v]=b[v].slice(0,A),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}m=b.join('"')}return m}function f(m){const b=m.indexOf("'");if(b===-1)return m;const v=m.slice(0,b),S=m.slice(b+1).replace(/^[^']*'/,"");return r(v,S)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,A,S){if(A==="q"||A==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,M){return String.fromCharCode(parseInt(M,16))}),r(v,S);try{S=atob(S)}catch{}return r(v,S)})}return""}function k0(c,t){const e=new Headers;if(!c||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function N0({responseHeaders:c,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(c.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||s||!t||c.get("Accept-Ranges")!=="bytes"||(c.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function P0(c){const t=c.get("Content-Disposition");if(t){let e=PD(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(R0(e))return e}return null}function sm(c,t){return c===404||c===0&&t.startsWith("file:")?new uo('Missing PDF "'+t+'".'):new tm(`Unexpected server response (${c}) while retrieving PDF "${t}".`,c)}function Ww(c){return c===200||c===206}function Qw(c,t,e){return{method:"GET",headers:c,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Zw(c){return c instanceof Uint8Array?c.buffer:c instanceof ArrayBuffer?c:(Ot(`getArrayBuffer - unexpected data format: ${c}`),new Uint8Array(c).buffer)}class b_{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=k0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ge(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new FD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new HD(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class FD{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,Qw(s,this._withCredentials,this._abortController)).then(l=>{if(!Ww(l.status))throw sm(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const u=l.headers,{allowRangeRequests:d,suggestedLength:f}=N0({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=f||this._contentLength,this._filename=P0(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ho("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Zw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class HD{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${s-1}`);const u=r.url;fetch(u,Qw(l,this._withCredentials,this._abortController)).then(d=>{if(!Ww(d.status))throw sm(d.status,u);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:Zw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Ub=200,Bb=206;function zD(c){const t=c.response;return typeof t!="string"?t:em(t).buffer}class ID{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=k0(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const l in s)r[l]=s[l];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,u]of this.headers)e.setRequestHeader(l,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Bb):r.expectedStatus=Ub,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var f,g,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(f=s.onError)==null||f.call(s,r.status);return}const l=r.status||Ub;if(!(l===Ub&&s.expectedStatus===Bb)&&l!==s.expectedStatus){(g=s.onError)==null||g.call(s,r.status);return}const d=zD(r);if(l===Bb){const b=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);s.onDone({begin:parseInt(v[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class UD{constructor(t){this._source=t,this._manager=new ID(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ge(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new BD(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new jD(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class BD{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=N0({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=P0(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=sm(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class jD{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=sm(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const GD=/^[a-z][a-z0-9\-+.]+:/i;function qD(c){if(GD.test(c))return new URL(c);const t=Mr.get("url");return new URL(t.pathToFileURL(c))}function Jw(c,t,e){return c.protocol==="http:"?Mr.get("http").request(c,{headers:t},e):Mr.get("https").request(c,{headers:t},e)}class VD{constructor(t){this.source=t,this.url=qD(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=k0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ge(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new $D(this):new XD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new KD(this,t,e):new YD(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class tx{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ho("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ex{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class XD extends tx{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const f=new uo(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:d}=N0({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=P0(l)};this._request=Jw(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class YD extends ex{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const l=u=>{if(u.statusCode===404){const d=new uo(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(u)};this._request=Jw(this._url,r,l),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class $D extends tx{constructor(t){super(t);const e=Mr.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new uo(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class KD extends ex{constructor(t,e,s){super(t);const r=Mr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const WD=1e5,In=30,QD=.8;var k_,fr,jn,vd,Ad,Tl,na,Sd,Ed,Cl,Dc,Oc,pr,kc,_d,Nc,Rl,wd,xd,_e,Ml,Ll,Td,gr,Pc,Ta,nx,ix,Cv,fi,tg,Rv,sx,ax;let Tv=(_e=class{constructor({textContentSource:t,container:e,viewport:s}){R(this,Ta);R(this,fr,Promise.withResolvers());R(this,jn,null);R(this,vd,!1);R(this,Ad,!!((k_=globalThis.FontInspector)!=null&&k_.enabled));R(this,Tl,null);R(this,na,null);R(this,Sd,0);R(this,Ed,0);R(this,Cl,null);R(this,Dc,null);R(this,Oc,0);R(this,pr,0);R(this,kc,Object.create(null));R(this,_d,[]);R(this,Nc,null);R(this,Rl,[]);R(this,wd,new WeakMap);R(this,xd,null);var f;if(t instanceof ReadableStream)_(this,Nc,t);else if(typeof t=="object")_(this,Nc,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,jn,_(this,Dc,e)),_(this,pr,s.scale*(globalThis.devicePixelRatio||1)),_(this,Oc,s.rotation),_(this,na,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:u,pageY:d}=s.rawDims;_(this,xd,[1,0,0,-1,-u,d+l]),_(this,Ed,r),_(this,Sd,l),w(f=_e,fi,sx).call(f),no(e,s),h(this,fr).promise.finally(()=>{h(_e,Pc).delete(this),_(this,na,null),_(this,kc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Dn.platform;return Ut(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,Cl).read().then(({value:e,done:s})=>{if(s){h(this,fr).resolve();return}h(this,Tl)??_(this,Tl,e.lang),Object.assign(h(this,kc),e.styles),w(this,Ta,nx).call(this,e.items),t()},h(this,fr).reject)};return _(this,Cl,h(this,Nc).getReader()),h(_e,Pc).add(this),t(),h(this,fr).promise}update({viewport:t,onBefore:e=null}){var l;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==h(this,Oc)&&(e==null||e(),_(this,Oc,r),no(h(this,Dc),{rotation:r})),s!==h(this,pr)){e==null||e(),_(this,pr,s);const u={div:null,properties:null,ctx:w(l=_e,fi,tg).call(l,h(this,Tl))};for(const d of h(this,Rl))u.properties=h(this,wd).get(d),u.div=d,w(this,Ta,Cv).call(this,u)}}cancel(){var e;const t=new ho("TextLayer task cancelled.");(e=h(this,Cl))==null||e.cancel(t).catch(()=>{}),_(this,Cl,null),h(this,fr).reject(t)}get textDivs(){return h(this,Rl)}get textContentItemsStr(){return h(this,_d)}static cleanup(){if(!(h(this,Pc).size>0)){h(this,Ml).clear();for(const{canvas:t}of h(this,Ll).values())t.remove();h(this,Ll).clear()}}},fr=new WeakMap,jn=new WeakMap,vd=new WeakMap,Ad=new WeakMap,Tl=new WeakMap,na=new WeakMap,Sd=new WeakMap,Ed=new WeakMap,Cl=new WeakMap,Dc=new WeakMap,Oc=new WeakMap,pr=new WeakMap,kc=new WeakMap,_d=new WeakMap,Nc=new WeakMap,Rl=new WeakMap,wd=new WeakMap,xd=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,Td=new WeakMap,gr=new WeakMap,Pc=new WeakMap,Ta=new WeakSet,nx=function(t){var r,l;if(h(this,vd))return;(l=h(this,na)).ctx??(l.ctx=w(r=_e,fi,tg).call(r,h(this,Tl)));const e=h(this,Rl),s=h(this,_d);for(const u of t){if(e.length>WD){Ot("Ignoring additional textDivs for performance reasons."),_(this,vd,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const d=h(this,jn);_(this,jn,document.createElement("span")),h(this,jn).classList.add("markedContent"),u.id!==null&&h(this,jn).setAttribute("id",`${u.id}`),d.append(h(this,jn))}else u.type==="endMarkedContent"&&_(this,jn,h(this,jn).parentNode);continue}s.push(u.str),w(this,Ta,ix).call(this,u)}},ix=function(t){var x;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,Rl).push(e);const r=dt.transform(h(this,xd),t.transform);let l=Math.atan2(r[1],r[0]);const u=h(this,kc)[t.fontName];u.vertical&&(l+=Math.PI/2);let d=h(this,Ad)&&u.fontSubstitution||u.fontFamily;d=_e.fontFamilyMap.get(d)||d;const f=Math.hypot(r[2],r[3]),g=f*w(x=_e,fi,ax).call(x,d,h(this,Tl));let m,b;l===0?(m=r[4],b=r[5]-g):(m=r[4]+g*Math.sin(l),b=r[5]-g*Math.cos(l));const v="calc(var(--scale-factor)*",A=e.style;h(this,jn)===h(this,Dc)?(A.left=`${(100*m/h(this,Ed)).toFixed(2)}%`,A.top=`${(100*b/h(this,Sd)).toFixed(2)}%`):(A.left=`${v}${m.toFixed(2)}px)`,A.top=`${v}${b.toFixed(2)}px)`),A.fontSize=`${v}${(h(_e,gr)*f).toFixed(2)}px)`,A.fontFamily=d,s.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,Ad)&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),l!==0&&(s.angle=l*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);M!==T&&Math.max(M,T)/Math.min(M,T)>1.5&&(S=!0)}if(S&&(s.canvasWidth=u.vertical?t.height:t.width),h(this,wd).set(e,s),h(this,na).div=e,h(this,na).properties=s,w(this,Ta,Cv).call(this,h(this,na)),s.hasText&&h(this,jn).append(e),s.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),h(this,jn).append(M)}},Cv=function(t){var d;const{div:e,properties:s,ctx:r}=t,{style:l}=e;let u="";if(h(_e,gr)>1&&(u=`scale(${1/h(_e,gr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:f}=l,{canvasWidth:g,fontSize:m}=s;w(d=_e,fi,Rv).call(d,r,m*h(this,pr),f);const{width:b}=r.measureText(e.textContent);b>0&&(u=`scaleX(${g*h(this,pr)/b}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(l.transform=u)},fi=new WeakSet,tg=function(t=null){let e=h(this,Ll).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,Ll).set(t,e),h(this,Td).set(e,{size:0,family:""})}return e},Rv=function(t,e,s){const r=h(this,Td).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},sx=function(){if(h(this,gr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),_(this,gr,t.getBoundingClientRect().height),t.remove()},ax=function(t,e){const s=h(this,Ml).get(t);if(s)return s;const r=w(this,fi,tg).call(this,e);r.canvas.width=r.canvas.height=In,w(this,fi,Rv).call(this,r,In,t);const l=r.measureText("");let u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);if(u){const m=u/(u+d);return h(this,Ml).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,In,In),r.strokeText("g",0,0);let f=r.getImageData(0,0,In,In).data;d=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){d=Math.ceil(m/4/In);break}r.clearRect(0,0,In,In),r.strokeText("A",0,In),f=r.getImageData(0,0,In,In).data,u=0;for(let m=0,b=f.length;m<b;m+=4)if(f[m]>0){u=In-Math.floor(m/4/In);break}r.canvas.width=r.canvas.height=0;const g=u?u/(u+d):QD;return h(this,Ml).set(t,g),g},R(_e,fi),R(_e,Ml,new Map),R(_e,Ll,new Map),R(_e,Td,new WeakMap),R(_e,gr,null),R(_e,Pc,new Set),_e);class qh{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(l){var f;if(!l)return;let u=null;const d=l.name;if(d==="#text")u=l.value;else if(qh.shouldBuildText(d))(f=l==null?void 0:l.attributes)!=null&&f.textContent?u=l.attributes.textContent:l.value&&(u=l.value);else return;if(u!==null&&e.push({str:u}),!!l.children)for(const g of l.children)r(g)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const ZD=65536,JD=100,tO=5e3,eO=xn?fD:uD,nO=xn?pD:Bw,iO=xn?dD:hD,sO=xn?gD:Vw;function aO(c={}){typeof c=="string"||c instanceof URL?c={url:c}:(c instanceof ArrayBuffer||ArrayBuffer.isView(c))&&(c={data:c});const t=new Mv,{docId:e}=t,s=c.url?rO(c.url):null,r=c.data?lO(c.data):null,l=c.httpHeaders||null,u=c.withCredentials===!0,d=c.password??null,f=c.range instanceof rx?c.range:null,g=Number.isInteger(c.rangeChunkSize)&&c.rangeChunkSize>0?c.rangeChunkSize:ZD;let m=c.worker instanceof uc?c.worker:null;const b=c.verbosity,v=typeof c.docBaseUrl=="string"&&!im(c.docBaseUrl)?c.docBaseUrl:null,A=typeof c.cMapUrl=="string"?c.cMapUrl:null,S=c.cMapPacked!==!1,x=c.CMapReaderFactory||nO,M=typeof c.standardFontDataUrl=="string"?c.standardFontDataUrl:null,T=c.StandardFontDataFactory||sO,O=c.stopAtErrors!==!0,L=Number.isInteger(c.maxImageSize)&&c.maxImageSize>-1?c.maxImageSize:-1,N=c.isEvalSupported!==!1,H=typeof c.isOffscreenCanvasSupported=="boolean"?c.isOffscreenCanvasSupported:!xn,B=typeof c.isChrome=="boolean"?c.isChrome:!Dn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),G=Number.isInteger(c.canvasMaxAreaInBytes)?c.canvasMaxAreaInBytes:-1,W=typeof c.disableFontFace=="boolean"?c.disableFontFace:xn,J=c.fontExtraProperties===!0,st=c.enableXfa===!0,it=c.ownerDocument||globalThis.document,gt=c.disableRange===!0,yt=c.disableStream===!0,ft=c.disableAutoFetch===!0,ht=c.pdfBug===!0,U=c.CanvasFactory||eO,X=c.FilterFactory||iO,Z=c.enableHWA===!0,_t=f?f.length:c.length??NaN,k=typeof c.useSystemFonts=="boolean"?c.useSystemFonts:!xn&&!W,$=typeof c.useWorkerFetch=="boolean"?c.useWorkerFetch:x===Bw&&T===Vw&&A&&M&&Sh(A,document.baseURI)&&Sh(M,document.baseURI);c.canvasFactory&&r_("`canvasFactory`-instance option, please use `CanvasFactory` instead."),c.filterFactory&&r_("`filterFactory`-instance option, please use `FilterFactory` instead.");const nt=null;BL(b);const tt={canvasFactory:new U({ownerDocument:it,enableHWA:Z}),filterFactory:new X({docId:e,ownerDocument:it}),cMapReaderFactory:$?null:new x({baseUrl:A,isCompressed:S}),standardFontDataFactory:$?null:new T({baseUrl:M})};if(!m){const ct={verbosity:b,port:Aa.workerPort};m=ct.port?uc.fromPort(ct):new uc(ct),t._worker=m}const ot={docId:e,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:ft,rangeChunkSize:g,length:_t,docBaseUrl:v,enableXfa:st,evaluatorOptions:{maxImageSize:L,disableFontFace:W,ignoreErrors:O,isEvalSupported:N,isOffscreenCanvasSupported:H,isChrome:B,canvasMaxAreaInBytes:G,fontExtraProperties:J,useSystemFonts:k,cMapUrl:$?A:null,standardFontDataUrl:$?M:null}},wt={disableFontFace:W,fontExtraProperties:J,ownerDocument:it,pdfBug:ht,styleElement:nt,loadingParams:{disableAutoFetch:ft,enableXfa:st}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ct=m.messageHandler.sendWithPromise("GetDocRequest",ot,r?[r.buffer]:null);let xt;if(f)xt=new OD(f,{disableRange:gt,disableStream:yt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let It;xn?It=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Sh(s)?b_:VD:It=Sh(s)?b_:UD,xt=new It({url:s,length:_t,httpHeaders:l,withCredentials:u,rangeChunkSize:g,disableRange:gt,disableStream:yt})}return ct.then(It=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Re=new Rh(e,It,m.port),te=new hO(Re,t,xt,wt,tt);t._transport=te,Re.send("Ready",null)})}).catch(t._capability.reject),t}function rO(c){if(c instanceof URL)return c.href;try{return new URL(c,window.location).href}catch{if(xn&&typeof c=="string")return c}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function lO(c){if(xn&&typeof Buffer<"u"&&c instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength)return c;if(typeof c=="string")return em(c);if(c instanceof ArrayBuffer||ArrayBuffer.isView(c)||typeof c=="object"&&!isNaN(c==null?void 0:c.length))return new Uint8Array(c);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function v_(c){return typeof c=="object"&&Number.isInteger(c==null?void 0:c.num)&&c.num>=0&&Number.isInteger(c==null?void 0:c.gen)&&c.gen>=0}var zg;const Ig=class Ig{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Cn(Ig,zg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};zg=new WeakMap,R(Ig,zg,0);let Mv=Ig,rx=class{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ue("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class oO{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var mr,ia,Mi,sc,eg;class cO{constructor(t,e,s,r=!1){R(this,Mi);R(this,mr,null);R(this,ia,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new a_:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new lx,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:l=!1}={}){return new hf({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=tr.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:b=!1}){var N,H;(N=this._stats)==null||N.time("Overall");const v=this._transport.getRenderingIntent(s,r,m,b),{renderingIntent:A,cacheKey:S}=v;_(this,ia,!1),w(this,Mi,eg).call(this),d||(d=this._transport.getOptionalContentConfig(A));let x=this._intentStates.get(S);x||(x=Object.create(null),this._intentStates.set(S,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const M=!!(A&ui.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList(v));const T=B=>{var G;x.renderTasks.delete(O),(this._maybeCleanupAfterRender||M)&&_(this,ia,!0),w(this,Mi,sc).call(this,!M),B?(O.capability.reject(B),this._abortOperatorList({intentState:x,reason:B instanceof Error?B:new Error(B)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(G=globalThis.Stats)!=null&&G.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new Dv({callback:T,params:{canvasContext:t,viewport:e,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:g});(x.renderTasks||(x.renderTasks=new Set)).add(O);const L=O.task;return Promise.all([x.displayReadyCapability.promise,d]).then(([B,G])=>{var W;if(this.destroyed){T();return}if((W=this._stats)==null||W.time("Rendering"),!(G.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:B,optionalContentConfig:G}),O.operatorListChanged()}).catch(T),L}getOperatorList({intent:t="display",annotationMode:e=tr.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var g;function l(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(t,e,s,r,!0);let d=this._intentStates.get(u.cacheKey);d||(d=Object.create(null),this._intentStates.set(u.cacheKey,d));let f;return d.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(f),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(u)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>qh.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function l(){u.read().then(function({value:f,done:g}){if(g){s(d);return}d.lang??(d.lang=f.lang),Object.assign(d.styles,f.styles),d.items.push(...f.items),l()},r)}const u=e.getReader(),d={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),_(this,ia,!1),w(this,Mi,eg).call(this),Promise.all(t)}cleanup(t=!1){_(this,ia,!0);const e=w(this,Mi,sc).call(this,!1);return t&&e&&this._stats&&(this._stats=new a_),e}_startRenderPage(t,e){var r,l;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=s.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&w(this,Mi,sc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:l,transfer:u}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},u).getReader(),g=this._intentStates.get(e);g.streamReader=f;const m=()=>{f.read().then(({value:b,done:v})=>{if(v){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,g),m())},b=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const v of g.renderTasks)v.operatorListChanged();w(this,Mi,sc).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(b);else if(g.opListReadCapability)g.opListReadCapability.reject(b);else throw b}})};m()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof C0){let r=JD;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new ho(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}mr=new WeakMap,ia=new WeakMap,Mi=new WeakSet,sc=function(t=!1){if(w(this,Mi,eg).call(this),!h(this,ia)||this.destroyed)return!1;if(t)return _(this,mr,setTimeout(()=>{_(this,mr,null),w(this,Mi,sc).call(this,!1)},tO)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,ia,!1),!0},eg=function(){h(this,mr)&&(clearTimeout(h(this,mr)),_(this,mr,null))};var sa,Ug;class uO{constructor(){R(this,sa,new Map);R(this,Ug,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};h(this,Ug).then(()=>{for(const[r]of h(this,sa))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:l}=s;if(l.aborted){Ot("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",u),l.addEventListener("abort",u)}h(this,sa).set(e,r)}removeEventListener(t,e){const s=h(this,sa).get(e);s==null||s(),h(this,sa).delete(e)}terminate(){for(const[,t]of h(this,sa))t==null||t();h(this,sa).clear()}}sa=new WeakMap,Ug=new WeakMap;var Bg,Dl,Ol,Fc,ng,Hc,ig;const fe=class fe{constructor({name:t=null,port:e=null,verbosity:s=jL()}={}){R(this,Fc);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=h(fe,Ol))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(fe,Ol)||_(fe,Ol,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return xn?Promise.all([Mr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Rh("main","worker",t),this._messageHandler.on("ready",function(){}),w(this,Fc,ng).call(this)}_initialize(){if(h(fe,Dl)||h(fe,Hc,ig)){this._setupFakeWorker();return}let{workerSrc:t}=fe;try{fe._isSameOrigin(window.location.href,t)||(t=fe._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new Rh("main","worker",e),r=()=>{l.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),s.on("test",d=>{if(l.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,w(this,Fc,ng).call(this)}),s.on("ready",d=>{if(l.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};u();return}catch{Jg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(fe,Dl)||(Ot("Setting up fake worker."),_(fe,Dl,!0)),fe._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new uO;this._port=e;const s=`fake${Cn(fe,Bg)._++}`,r=new Rh(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new Rh(s,s+"_worker",e),w(this,Fc,ng).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(fe,Ol))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=h(this,Ol))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new fe(t)}static get workerSrc(){if(Aa.workerSrc)return Aa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ut(this,"_setupFakeWorkerGlobal",(async()=>h(this,Hc,ig)?h(this,Hc,ig):(await import(this.workerSrc)).WorkerMessageHandler)())}};Bg=new WeakMap,Dl=new WeakMap,Ol=new WeakMap,Fc=new WeakSet,ng=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Hc=new WeakSet,ig=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},R(fe,Hc),R(fe,Bg,0),R(fe,Dl,!1),R(fe,Ol),xn&&(_(fe,Dl,!0),Aa.workerSrc||(Aa.workerSrc="./pdf.worker.mjs")),fe._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},fe._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let uc=fe;var aa,ms,zc,Ic,ys,kl,Mh;class hO{constructor(t,e,s,r,l){R(this,kl);R(this,aa,new Map);R(this,ms,new Map);R(this,zc,new Map);R(this,Ic,new Map);R(this,ys,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new lx,this.fontLoader=new oD({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ut(this,"annotationStorage",new D0)}getRenderingIntent(t,e=tr.ENABLE,s=null,r=!1,l=!1){let u=ui.DISPLAY,d=yv;switch(t){case"any":u=ui.ANY;break;case"display":break;case"print":u=ui.PRINT;break;default:Ot(`getRenderingIntent - invalid intent: ${t}`)}const f=u&ui.PRINT&&s instanceof zw?s:this.annotationStorage;switch(e){case tr.DISABLE:u+=ui.ANNOTATIONS_DISABLE;break;case tr.ENABLE:break;case tr.ENABLE_FORMS:u+=ui.ANNOTATIONS_FORMS;break;case tr.ENABLE_STORAGE:u+=ui.ANNOTATIONS_STORAGE,d=f.serializable;break;default:Ot(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(u+=ui.IS_EDITING),l&&(u+=ui.OPLIST);const{ids:g,hash:m}=f.modifiedIds,b=[u,d.hash,m];return{renderingIntent:u,cacheKey:b.join("_"),annotationStorageSerializable:d,modifiedIds:g}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=h(this,ys))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,ms).values())t.push(r._destroy());h(this,ms).clear(),h(this,zc).clear(),h(this,Ic).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,aa).clear(),this.filterFactory.destroy(),Tv.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new ho("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{Ge(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:u}){if(u){r.close();return}Ge(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async s=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:u}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var g;(g=e.onProgress)==null||g.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:u}}),t.on("GetRangeReader",(s,r)=>{Ge(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:u,done:d}){if(d){r.close();return}Ge(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{l.cancel(u),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new oO(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new Kb(s.message,s.code);break;case"InvalidPDFException":r=new uw(s.message);break;case"MissingPDFException":r=new uo(s.message);break;case"UnexpectedResponseException":r=new tm(s.message,s.status);break;case"UnknownErrorException":r=new Wb(s.message,s.details);break;default:ue("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(_(this,ys,Promise.withResolvers()),e.onPassword){const r=l=>{l instanceof Error?h(this,ys).reject(l):h(this,ys).resolve({password:l})};try{e.onPassword(r,s.code)}catch(l){h(this,ys).reject(l)}}else h(this,ys).reject(new Kb(s.message,s.code));return h(this,ys).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;h(this,ms).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,l])=>{var u;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:f,pdfBug:g}=this._params;if("error"in l){const A=l.error;Ot(`Error during font loading: ${A}`),this.commonObjs.resolve(s,A);break}const m=g&&((u=globalThis.FontInspector)!=null&&u.enabled)?(A,S)=>globalThis.FontInspector.fontAdded(A,S):null,b=new cD(l,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&b.data&&(b.data=null),this.commonObjs.resolve(s,b)});break;case"CopyLocalImage":const{imageRef:v}=l;Ge(v,"The imageRef must be defined.");for(const A of h(this,ms).values())for(const[,S]of A.objs)if((S==null?void 0:S.ref)===v)return S.dataLen?(this.commonObjs.resolve(s,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,l,u])=>{var f;if(this.destroyed)return;const d=h(this,ms).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(l){case"Image":d.objs.resolve(s,u),(u==null?void 0:u.dataLen)>HL&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Ot("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=h(this,zc).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&h(this,Ic).set(l.refStr,t);const u=new cO(e,l,this,this._params.pdfBug);return h(this,ms).set(e,u),u});return h(this,zc).set(e,r),r}getPageIndex(t){return v_(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return w(this,kl,Mh).call(this,"GetFieldObjects")}hasJSActions(){return w(this,kl,Mh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,kl,Mh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return w(this,kl,Mh).call(this,"GetOptionalContentConfig").then(e=>new DD(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,aa).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,u;return{info:r[0],metadata:r[1]?new MD(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return h(this,aa).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,ms).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,aa).clear(),this.filterFactory.destroy(!0),Tv.cleanup()}}cachedPageNumber(t){if(!v_(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,Ic).get(e)??null}}aa=new WeakMap,ms=new WeakMap,zc=new WeakMap,Ic=new WeakMap,ys=new WeakMap,kl=new WeakSet,Mh=function(t,e=null){const s=h(this,aa).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return h(this,aa).set(t,r),r};const Hp=Symbol("INITIAL_DATA");var Gi,Cd,Lv;class lx{constructor(){R(this,Cd);R(this,Gi,Object.create(null))}get(t,e=null){if(e){const r=w(this,Cd,Lv).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=h(this,Gi)[t];if(!s||s.data===Hp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=h(this,Gi)[t];return!!e&&e.data!==Hp}resolve(t,e=null){const s=w(this,Cd,Lv).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in h(this,Gi)){const{data:s}=h(this,Gi)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}_(this,Gi,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Gi)){const{data:e}=h(this,Gi)[t];e!==Hp&&(yield[t,e])}}}Gi=new WeakMap,Cd=new WeakSet,Lv=function(t){var e;return(e=h(this,Gi))[t]||(e[t]={...Promise.withResolvers(),data:Hp})};var yr;class dO{constructor(t){R(this,yr,null);_(this,yr,t),this.onContinue=null}get promise(){return h(this,yr).capability.promise}cancel(t=0){h(this,yr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,yr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,yr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}yr=new WeakMap;var br,Nl;const al=class al{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:l,operatorList:u,pageIndex:d,canvasFactory:f,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:b=!1,pageColors:v=null}){R(this,br,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=d,this.canvasFactory=f,this.filterFactory=g,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new dO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,f;if(this.cancelled)return;if(this._canvas){if(h(al,Nl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(al,Nl).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:l,background:u}=this.params;this.gfx=new cc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),h(this,br)&&(window.cancelAnimationFrame(h(this,br)),_(this,br,null)),h(al,Nl).delete(this._canvas),this.callback(t||new C0(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,br,window.requestAnimationFrame(()=>{_(this,br,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(al,Nl).delete(this._canvas),this.callback())))}};br=new WeakMap,Nl=new WeakMap,R(al,Nl,new WeakSet);let Dv=al;const fO="4.8.69",pO="3634dab10";function A_(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function vh(c){return Math.max(0,Math.min(255,255*c))}class S_{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=vh(t),[t,t,t]}static G_HTML([t]){const e=A_(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(vh)}static RGB_HTML(t){return`#${t.map(A_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[vh(1-Math.min(1,t+r)),vh(1-Math.min(1,s+r)),vh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,l=1-e,u=1-s,d=Math.min(r,l,u);return["CMYK",r,l,u,d]}}class gO{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ue("Abstract method `_createSVG` called.")}}class F0 extends gO{_createSVG(t){return document.createElementNS(Ys,t)}}class ox{static setupStorage(t,e,s,r,l){const u=r.getValue(e,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),l==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?t.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",d=>{r.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),l==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const d of s.children)d.attributes.value===u.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const f=d.target.options,g=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:g})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:l}){const{attributes:u}=e,d=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[f,g]of Object.entries(u))if(g!=null)switch(f){case"class":g.length&&t.setAttribute(f,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!d||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,g)}d&&l.addLinkAttributes(t,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(t,u.dataId,e,s)}static render(t){var b,v;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,l=t.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:l,linkService:s});const d=l!=="richText",f=t.div;if(f.append(u),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}d&&f.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);u.append(A),d&&qh.shouldBuildText(r.name)&&g.push(A)}return{textDivs:g}}const m=[[r,-1,u]];for(;m.length>0;){const[A,S,x]=m.at(-1);if(S+1===A.children.length){m.pop();continue}const M=A.children[++m.at(-1)[1]];if(M===null)continue;const{name:T}=M;if(T==="#text"){const L=document.createTextNode(M.value);g.push(L),x.append(L);continue}const O=(b=M==null?void 0:M.attributes)!=null&&b.xmlns?document.createElementNS(M.attributes.xmlns,T):document.createElement(T);if(x.append(O),M.attributes&&this.setAttributes({html:O,element:M,storage:e,intent:l,linkService:s}),((v=M.children)==null?void 0:v.length)>0)m.push([M,-1,O]);else if(M.value){const L=document.createTextNode(M.value);d&&qh.shouldBuildText(T)&&g.push(L),O.append(L)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const ff=1e3,mO=9,so=new WeakSet;function Ea(c){return{width:c[2]-c[0],height:c[3]-c[1]}}class yO{static create(t){switch(t.data.annotationType){case Ie.LINK:return new cx(t);case Ie.TEXT:return new bO(t);case Ie.WIDGET:switch(t.data.fieldType){case"Tx":return new vO(t);case"Btn":return t.data.radioButton?new dx(t):t.data.checkBox?new SO(t):new EO(t);case"Ch":return new _O(t);case"Sig":return new AO(t)}return new fo(t);case Ie.POPUP:return new kv(t);case Ie.FREETEXT:return new yx(t);case Ie.LINE:return new xO(t);case Ie.SQUARE:return new TO(t);case Ie.CIRCLE:return new CO(t);case Ie.POLYLINE:return new bx(t);case Ie.CARET:return new MO(t);case Ie.INK:return new H0(t);case Ie.POLYGON:return new RO(t);case Ie.HIGHLIGHT:return new vx(t);case Ie.UNDERLINE:return new LO(t);case Ie.SQUIGGLY:return new DO(t);case Ie.STRIKEOUT:return new OO(t);case Ie.STAMP:return new Ax(t);case Ie.FILEATTACHMENT:return new kO(t);default:return new Ce(t)}}}var Pl,Uc,Bc,Rd,Ov;const B0=class B0{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){R(this,Rd);R(this,Pl,null);R(this,Uc,!1);R(this,Bc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return B0._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;h(this,Pl)||_(this,Pl,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&w(this,Rd,Ov).call(this,e),(s=h(this,Bc))==null||s.popup.updateEdited(t)}resetEdited(){var t;h(this,Pl)&&(w(this,Rd,Ov).call(this,h(this,Pl).rect),(t=h(this,Bc))==null||t.popup.resetEdited(),_(this,Pl,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof fo||(l.tabIndex=ff);const{style:u}=l;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof kv){const{rotation:x}=e;return!e.hasOwnCanvas&&x!==0&&this.setRotation(x,l),l}const{width:d,height:f}=Ea(e.rect);if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const x=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(x>0||M>0){const O=`calc(${x}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;u.borderRadius=O}else if(this instanceof dx){const O=`calc(${d}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=O}switch(e.borderStyle.style){case yh.SOLID:u.borderStyle="solid";break;case yh.DASHED:u.borderStyle="dashed";break;case yh.BEVELED:Ot("Unimplemented border style: beveled");break;case yh.INSET:Ot("Unimplemented border style: inset");break;case yh.UNDERLINE:u.borderBottomStyle="solid";break}const T=e.borderColor||null;T?(_(this,Uc,!0),u.borderColor=dt.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):u.borderWidth=0}const g=dt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:b,pageX:v,pageY:A}=r.rawDims;u.left=`${100*(g[0]-v)/m}%`,u.top=`${100*(g[1]-A)/b}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(u.width=`${100*d/m}%`,u.height=`${100*f/b}%`):this.setRotation(S,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:u}=Ea(this.data.rect);let d,f;t%180===0?(d=100*l/s,f=100*u/r):(d=100*u/s,f=100*l/r),e.style.width=`${d}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const l=r.detail[e],u=l[0],d=l.slice(1);r.target.style[s]=S_[`${u}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:S_[`${u}_rgb`](d)})};return Ut(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const l=t[r]||s[r];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,l]of Object.entries(e)){const u=s[r];if(u){const d={detail:{[r]:l},target:t};u(d),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,l]=this.data.rect.map(x=>Math.fround(x));if(t.length===8){const[x,M,T,O]=t.subarray(2,6);if(r===x&&l===M&&e===T&&s===O)return}const{style:u}=this.container;let d;if(h(this,Uc)){const{borderColor:x,borderWidth:M}=u;u.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const f=r-e,g=l-s,{svgFactory:m}=this,b=m.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const v=m.createElement("defs");b.append(v);const A=m.createElement("clipPath"),S=`clippath_${this.data.id}`;A.setAttribute("id",S),A.setAttribute("clipPathUnits","objectBoundingBox"),v.append(A);for(let x=2,M=t.length;x<M;x+=8){const T=t[x],O=t[x+1],L=t[x+2],N=t[x+3],H=m.createElement("rect"),B=(L-e)/f,G=(l-O)/g,W=(T-L)/f,J=(O-N)/g;H.setAttribute("x",B),H.setAttribute("y",G),H.setAttribute("width",W),H.setAttribute("height",J),A.append(H),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${G}" width="${W}" height="${J}"/>`)}h(this,Uc)&&(d.push("</g></svg>')"),u.backgroundImage=d.join("")),this.container.append(b),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=_(this,Bc,new kv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ue("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:u,exportValues:d}of r){if(l===-1||u===e)continue;const f=typeof d=="string"?d:null,g=document.querySelector(`[data-element-id="${u}"]`);if(g&&!so.has(g)){Ot(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:f,domElement:g})}return s}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,u=r.getAttribute("data-element-id");u!==e&&so.has(r)&&s.push({id:u,exportValue:l,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Pl=new WeakMap,Uc=new WeakMap,Bc=new WeakMap,Rd=new WeakSet,Ov=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:u,pageX:d,pageY:f}}}}=this;s==null||s.splice(0,4,...t);const{width:g,height:m}=Ea(t);e.left=`${100*(t[0]-d)/l}%`,e.top=`${100*(u-t[3]+f)/u}%`,r===0?(e.width=`${100*g/l}%`,e.height=`${100*m/u}%`):this.setRotation(r)};let Ce=B0;var hi,tl,ux,hx;class cx extends Ce{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});R(this,hi);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let l=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(r,e.action),l=!0):e.attachment?(w(this,hi,ux).call(this,r,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(w(this,hi,hx).call(this,r,e.setOCGState),l=!0):e.dest?(this._bindLink(r,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),l=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&w(this,hi,tl).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),w(this,hi,tl).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(s.actions)){const u=r.get(l);u&&(e[u]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),w(this,hi,tl).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),w(this,hi,tl).call(this),!this._fieldObjects){Ot('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var b;r==null||r();const{fields:l,refs:u,include:d}=s,f=[];if(l.length!==0||u.length!==0){const v=new Set(u);for(const A of l){const S=this._fieldObjects[A]||[];for(const{id:x}of S)v.add(x)}for(const A of Object.values(this._fieldObjects))for(const S of A)v.has(S.id)===d&&f.push(S)}else for(const v of Object.values(this._fieldObjects))f.push(...v);const g=this.annotationStorage,m=[];for(const v of f){const{id:A}=v;switch(m.push(A),v.type){case"text":{const x=v.defaultValue||"";g.setValue(A,{value:x});break}case"checkbox":case"radiobutton":{const x=v.defaultValue===v.exportValues;g.setValue(A,{value:x});break}case"combobox":case"listbox":{const x=v.defaultValue||"";g.setValue(A,{value:x});break}default:continue}const S=document.querySelector(`[data-element-id="${A}"]`);if(S){if(!so.has(S)){Ot(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}hi=new WeakSet,tl=function(){this.container.setAttribute("data-internal-link","")},ux=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(s.content,s.filename,r),!1},w(this,hi,tl).call(this)},hx=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),w(this,hi,tl).call(this)};class bO extends Ce{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class fo extends Ce{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Dn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,l){s.includes("mouse")?t.addEventListener(s,u=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(s,u=>{var d;if(s==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}l&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(u)}}))})}_setEventListeners(t,e,s,r){var l,u,d;for(const[f,g]of s)(g==="Action"||(l=this.data.actions)!=null&&l[g])&&((g==="Focus"||g==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,g,r),g==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(t,e,"blur","Blur",null):g==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":dt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||mO,l=t.style;let u;const d=2,f=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(g/(Fb*r))||1,b=g/m;u=Math.min(r,f(b/Fb))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d);u=Math.min(r,f(g/Fb))}l.fontSize=`calc(${u}px * var(--scale-factor))`,l.color=dt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class vO extends fo{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const l=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=s),l.setValue(u.id,{[r]:s})}render(){var r,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const u=t.getValue(e,{value:this.data.fieldValue});let d=u.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&d.length>f&&(d=d.slice(0,f));let g=u.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=g??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",g??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),so.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=ff,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(s,"value",v.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",v=>{const A=this.data.defaultFieldValue??"";s.value=m.userValue=A,m.formattedValue=null});let b=v=>{const{formattedValue:A}=m;A!=null&&(v.target.value=A),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",A=>{var x;if(m.focused)return;const{target:S}=A;m.userValue&&(S.value=m.userValue),m.lastCommittedValue=S.value,m.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const S={value(x){m.userValue=x.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),x.target.value=m.userValue},formattedValue(x){const{formattedValue:M}=x.detail;m.formattedValue=M,M!=null&&x.target!==document.activeElement&&(x.target.value=M),t.setValue(e,{formattedValue:M})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var L;const{charLimit:M}=x.detail,{target:T}=x;if(M===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",M);let O=m.userValue;!O||O.length<=M||(O=O.slice(0,M),T.value=m.userValue=O,t.setValue(e,{value:O}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(S,A)}),s.addEventListener("keydown",A=>{var M;m.commitKey=1;let S=-1;if(A.key==="Escape"?S=0:A.key==="Enter"&&!this.data.multiLine?S=2:A.key==="Tab"&&(m.commitKey=3),S===-1)return;const{value:x}=A.target;m.lastCommittedValue!==x&&(m.lastCommittedValue=x,m.userValue=x,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:S,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const v=b;b=null,s.addEventListener("blur",A=>{var x,M;if(!m.focused||!A.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(m.focused=!1);const{value:S}=A.target;m.userValue=S,m.lastCommittedValue!==S&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),v(A)}),(l=this.data.actions)!=null&&l.Keystroke&&s.addEventListener("beforeinput",A=>{var H;m.lastCommittedValue=null;const{data:S,target:x}=A,{value:M,selectionStart:T,selectionEnd:O}=x;let L=T,N=O;switch(A.inputType){case"deleteWordBackward":{const B=M.substring(0,T).match(/\w*[^\w]*$/);B&&(L-=B[0].length);break}case"deleteWordForward":{const B=M.substring(T).match(/^[^\w]*\w*/);B&&(N+=B[0].length);break}case"deleteContentBackward":T===O&&(L-=1);break;case"deleteContentForward":T===O&&(N+=1);break}A.preventDefault(),(H=this.linkService.eventBus)==null||H.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:S||"",willCommit:!1,selStart:L,selEnd:N}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(b&&s.addEventListener("blur",b),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class AO extends fo{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class SO extends fo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return so.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=ff,l.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const g of this._getElementsByName(d,s)){const m=f&&g.exportValue===e.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(s,{value:f})}),l.addEventListener("resetform",u=>{const d=e.defaultFieldValue||"Off";u.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",u=>{const d={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class dx extends fo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const u of this._getElementsByName(e.fieldName,s))t.setValue(u.id,{value:!1});const l=document.createElement("input");if(so.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=ff,l.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const g of this._getElementsByName(d,s))t.setValue(g.id,{value:!1});t.setValue(s,{value:f})}),l.addEventListener("resetform",u=>{const d=e.defaultFieldValue;u.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;l.addEventListener("updatefromsandbox",d=>{const f={value:g=>{const m=u===g.detail.value;for(const b of this._getElementsByName(g.target.name)){const v=m&&b.id===s;b.domElement&&(b.domElement.checked=v),t.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(f,d)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class EO extends cx{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class _O extends fo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");so.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=ff;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const b=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===b});for(const m of this.data.options){const b=document.createElement("option");b.textContent=m.displayValue,b.value=m.exportValue,s.value.includes(m.exportValue)&&(b.setAttribute("selected",!0),l=!1),r.append(b)}let u=null;if(l){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),u=()=>{m.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const d=m=>{const b=m?"value":"textContent",{options:v,multiple:A}=r;return A?Array.prototype.filter.call(v,S=>S.selected).map(S=>S[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let f=d(!1);const g=m=>{const b=m.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const b={value(v){u==null||u();const A=v.detail.value,S=new Set(Array.isArray(A)?A:[A]);for(const x of r.options)x.selected=S.has(x.value);t.setValue(e,{value:d(!0)}),f=d(!1)},multipleSelection(v){r.multiple=!0},remove(v){const A=r.options,S=v.detail.remove;A[S].selected=!1,r.remove(S),A.length>0&&Array.prototype.findIndex.call(A,M=>M.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),f=d(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=d(!1)},insert(v){const{index:A,displayValue:S,exportValue:x}=v.detail.insert,M=r.children[A],T=document.createElement("option");T.textContent=S,T.value=x,M?M.before(T):r.append(T),t.setValue(e,{value:d(!0),items:g(v)}),f=d(!1)},items(v){const{items:A}=v.detail;for(;r.length!==0;)r.remove(0);for(const S of A){const{displayValue:x,exportValue:M}=S,T=document.createElement("option");T.textContent=x,T.value=M,r.append(T)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),f=d(!1)},indices(v){const A=new Set(v.detail.indices);for(const S of v.target.options)S.selected=A.has(S.index);t.setValue(e,{value:d(!0)}),f=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,m)}),r.addEventListener("input",m=>{var A;const b=d(!0),v=d(!1);t.setValue(e,{value:b}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class kv extends Ce{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:Ce._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new wO({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${T0}${s}`).join(",")),this.container}}var jc,jg,Gg,Gc,Fl,Ee,ra,qc,Md,Ld,Vc,la,qi,oa,Dd,ca,Od,Hl,zl,ae,sg,Nv,fx,px,gx,mx,ag,rg,Pv;class wO{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:l,contentsObj:u,richText:d,parent:f,rect:g,parentRect:m,open:b}){R(this,ae);R(this,jc,w(this,ae,gx).bind(this));R(this,jg,w(this,ae,Pv).bind(this));R(this,Gg,w(this,ae,rg).bind(this));R(this,Gc,w(this,ae,ag).bind(this));R(this,Fl,null);R(this,Ee,null);R(this,ra,null);R(this,qc,null);R(this,Md,null);R(this,Ld,null);R(this,Vc,null);R(this,la,!1);R(this,qi,null);R(this,oa,null);R(this,Dd,null);R(this,ca,null);R(this,Od,null);R(this,Hl,null);R(this,zl,!1);var v;_(this,Ee,t),_(this,Od,r),_(this,ra,u),_(this,ca,d),_(this,Ld,f),_(this,Fl,e),_(this,Dd,g),_(this,Vc,m),_(this,Md,s),_(this,qc,M0.toDateObject(l)),this.trigger=s.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",h(this,Gc)),A.addEventListener("mouseenter",h(this,Gg)),A.addEventListener("mouseleave",h(this,jg)),A.classList.add("popupTriggerArea");for(const A of s)(v=A.container)==null||v.addEventListener("keydown",h(this,jc));h(this,Ee).hidden=!0,b&&w(this,ae,ag).call(this)}render(){if(h(this,qi))return;const t=_(this,qi,document.createElement("div"));if(t.className="popup",h(this,Fl)){const l=t.style.outlineColor=dt.makeHexColor(...h(this,Fl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=dt.makeHexColor(...h(this,Fl).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=h(this,Od),t.append(e),h(this,qc)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,qc).valueOf()})),e.append(l)}const r=h(this,ae,sg);if(r)ox.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(h(this,ra));t.append(l)}h(this,Ee).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,u=r.length;l<u;++l){const d=r[l];s.append(document.createTextNode(d)),l<u-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;h(this,Hl)||_(this,Hl,{contentsObj:h(this,ra),richText:h(this,ca)}),t&&_(this,oa,null),e&&(_(this,ca,w(this,ae,px).call(this,e)),_(this,ra,null)),(s=h(this,qi))==null||s.remove(),_(this,qi,null)}resetEdited(){var t;h(this,Hl)&&({contentsObj:Cn(this,ra)._,richText:Cn(this,ca)._}=h(this,Hl),_(this,Hl,null),(t=h(this,qi))==null||t.remove(),_(this,qi,null),_(this,oa,null))}forceHide(){_(this,zl,this.isVisible),h(this,zl)&&(h(this,Ee).hidden=!0)}maybeShow(){h(this,zl)&&(h(this,qi)||w(this,ae,rg).call(this),_(this,zl,!1),h(this,Ee).hidden=!1)}get isVisible(){return h(this,Ee).hidden===!1}}jc=new WeakMap,jg=new WeakMap,Gg=new WeakMap,Gc=new WeakMap,Fl=new WeakMap,Ee=new WeakMap,ra=new WeakMap,qc=new WeakMap,Md=new WeakMap,Ld=new WeakMap,Vc=new WeakMap,la=new WeakMap,qi=new WeakMap,oa=new WeakMap,Dd=new WeakMap,ca=new WeakMap,Od=new WeakMap,Hl=new WeakMap,zl=new WeakMap,ae=new WeakSet,sg=function(){const t=h(this,ca),e=h(this,ra);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,ca).html||null},Nv=function(){var t,e,s;return((s=(e=(t=h(this,ae,sg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},fx=function(){var t,e,s;return((s=(e=(t=h(this,ae,sg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},px=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,ae,fx),fontSize:h(this,ae,Nv)?`calc(${h(this,ae,Nv)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return s},gx=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,la))&&w(this,ae,ag).call(this)},mx=function(){if(h(this,oa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:l}}}=h(this,Ld);let u=!!h(this,Vc),d=u?h(this,Vc):h(this,Dd);for(const S of h(this,Md))if(!d||dt.intersect(S.data.rect,d)!==null){d=S.data.rect,u=!0;break}const f=dt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=u?d[2]-d[0]+5:0,b=f[0]+m,v=f[1];_(this,oa,[100*(b-r)/e,100*(v-l)/s]);const{style:A}=h(this,Ee);A.left=`${h(this,oa)[0]}%`,A.top=`${h(this,oa)[1]}%`},ag=function(){_(this,la,!h(this,la)),h(this,la)?(w(this,ae,rg).call(this),h(this,Ee).addEventListener("click",h(this,Gc)),h(this,Ee).addEventListener("keydown",h(this,jc))):(w(this,ae,Pv).call(this),h(this,Ee).removeEventListener("click",h(this,Gc)),h(this,Ee).removeEventListener("keydown",h(this,jc)))},rg=function(){h(this,qi)||this.render(),this.isVisible?h(this,la)&&h(this,Ee).classList.add("focused"):(w(this,ae,mx).call(this),h(this,Ee).hidden=!1,h(this,Ee).style.zIndex=parseInt(h(this,Ee).style.zIndex)+1e3)},Pv=function(){h(this,Ee).classList.remove("focused"),!(h(this,la)||!this.isVisible)&&(h(this,Ee).hidden=!0,h(this,Ee).style.zIndex=parseInt(h(this,Ee).style.zIndex)-1e3)};class yx extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Mt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var kd;class xO extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,kd,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=Ea(e.rect),l=this.svgFactory.create(s,r,!0),u=_(this,kd,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),u.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),u.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),u.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),u.setAttribute("stroke-width",e.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,kd)}addHighlightArea(){this.container.classList.add("highlightArea")}}kd=new WeakMap;var Nd;class TO extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Nd,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=Ea(e.rect),l=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,d=_(this,Nd,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",u/2),d.setAttribute("y",u/2),d.setAttribute("width",s-u),d.setAttribute("height",r-u),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Nd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nd=new WeakMap;var Pd;class CO extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Pd,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=Ea(e.rect),l=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,d=_(this,Pd,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-u/2),d.setAttribute("ry",r/2-u/2),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Pd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pd=new WeakMap;var Fd;class bx extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Fd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:l}}=this;if(!s)return this.container;const{width:u,height:d}=Ea(e),f=this.svgFactory.create(u,d,!0);let g=[];for(let b=0,v=s.length;b<v;b+=2){const A=s[b]-e[0],S=e[3]-s[b+1];g.push(`${A},${S}`)}g=g.join(" ");const m=_(this,Fd,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Fd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fd=new WeakMap;class RO extends bx{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class MO extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Hd;class H0 extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});R(this,Hd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Mt.HIGHLIGHT:Mt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:l}}=this,{width:u,height:d}=Ea(e),f=this.svgFactory.create(u,d,!0);for(const g of s){let m=[];for(let v=0,A=g.length;v<A;v+=2){const S=g[v]-e[0],x=e[3]-g[v+1];m.push(`${S},${x}`)}m=m.join(" ");const b=this.svgFactory.createElement(this.svgElementName);h(this,Hd).push(b),b.setAttribute("points",m),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),f.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,Hd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hd=new WeakMap;class vx extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Mt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class LO extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class DO extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class OO extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ax extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Mt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var zd,Id,Fv;class kO extends Ce{constructor(e){var r;super(e,{isRenderable:!0});R(this,Id);R(this,zd,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",w(this,Id,Fv).bind(this)),_(this,zd,r);const{isMac:l}=Dn.platform;return e.addEventListener("keydown",u=>{u.key==="Enter"&&(l?u.metaKey:u.ctrlKey)&&w(this,Id,Fv).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,zd)}addHighlightArea(){this.container.classList.add("highlightArea")}}zd=new WeakMap,Id=new WeakSet,Fv=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Ud,Il,Ul,Bd,ro,Sx,Hv,N_;let NO=(N_=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:l,viewport:u,structTreeLayer:d}){R(this,ro);R(this,Ud,null);R(this,Il,null);R(this,Ul,new Map);R(this,Bd,null);this.div=t,_(this,Ud,e),_(this,Il,s),_(this,Bd,d||null),this.page=l,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,Ul).size>0}async render(t){var u;const{annotations:e}=t,s=this.div;no(s,this.viewport);const r=new Map,l={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new F0,annotationStorage:t.annotationStorage||new D0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const f=d.annotationType===Ie.POPUP;if(f){const b=r.get(d.id);if(!b)continue;l.elements=b}else{const{width:b,height:v}=Ea(d.rect);if(b<=0||v<=0)continue}l.data=d;const g=yO.create(l);if(!g.isRenderable)continue;if(!f&&d.popupRef){const b=r.get(d.popupRef);b?b.push(g):r.set(d.popupRef,[g])}const m=g.render();d.hidden&&(m.style.visibility="hidden"),await w(this,ro,Sx).call(this,m,d.id),g._isEditable&&(h(this,Ul).set(g.data.id,g),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(g))}w(this,ro,Hv).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,no(e,{rotation:t.rotation}),w(this,ro,Hv).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Ul).values())}getEditableAnnotation(t){return h(this,Ul).get(t)}},Ud=new WeakMap,Il=new WeakMap,Ul=new WeakMap,Bd=new WeakMap,ro=new WeakSet,Sx=async function(t,e){var u,d;const s=t.firstChild||t,r=s.id=`${T0}${e}`,l=await((u=h(this,Bd))==null?void 0:u.getAriaAttributes(r));if(l)for(const[f,g]of l)s.setAttribute(f,g);this.div.append(t),(d=h(this,Ud))==null||d.moveElementInDOM(this.div,t,s,!1)},Hv=function(){if(!h(this,Il))return;const t=this.div;for(const[e,s]of h(this,Il)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):r.append(s)}h(this,Il).clear()},N_);const zp=/\r\n?|\n/g;var Vi,si,jd,Bl,ai,Fe,Ex,_x,wx,lg,wa,og,cg,xx,Iv,Tx;const ce=class ce extends Jt{constructor(e){super({...e,name:"freeTextEditor"});R(this,Fe);R(this,Vi);R(this,si,"");R(this,jd,`${this.id}-editor`);R(this,Bl,null);R(this,ai);_(this,Vi,e.color||ce._defaultColor||Jt._defaultLineColor),_(this,ai,e.fontSize||ce._defaultFontSize)}static get _keyboardManager(){const e=ce.prototype,s=u=>u.isEmpty(),r=io.TRANSLATE_SMALL,l=io.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new df([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:s}]]))}static initialize(e,s){Jt.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case Et.FREETEXT_SIZE:ce._defaultFontSize=s;break;case Et.FREETEXT_COLOR:ce._defaultColor=s;break}}updateParams(e,s){switch(e){case Et.FREETEXT_SIZE:w(this,Fe,Ex).call(this,s);break;case Et.FREETEXT_COLOR:w(this,Fe,_x).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Et.FREETEXT_SIZE,ce._defaultFontSize],[Et.FREETEXT_COLOR,ce._defaultColor||Jt._defaultLineColor]]}get propertiesToUpdate(){return[[Et.FREETEXT_SIZE,h(this,ai)],[Et.FREETEXT_COLOR,h(this,Vi)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-ce._internalPadding*e,-(ce._internalPadding+h(this,ai))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Mt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Bl,new AbortController);const e=this._uiManager.combinedSignal(h(this,Bl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,jd)),this._isDraggable=!0,(e=h(this,Bl))==null||e.abort(),_(this,Bl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,si),s=_(this,si,w(this,Fe,wx).call(this).trimEnd());if(e===s)return;const r=l=>{if(_(this,si,l),!l){this.remove();return}w(this,Fe,cg).call(this),this._uiManager.rebuild(this),w(this,Fe,lg).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),w(this,Fe,lg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ce._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,jd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,ai)}px * var(--scale-factor))`,r.color=h(this,Vi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),wg(this,this.div,["dblclick","keydown"]),this.width){const[l,u]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[f,g]=this.getInitialTranslation();[f,g]=this.pageTranslationToScreen(f,g);const[m,b]=this.pageDimensions,[v,A]=this.pageTranslation;let S,x;switch(this.rotation){case 0:S=e+(d[0]-v)/m,x=s+this.height-(d[1]-A)/b;break;case 90:S=e+(d[0]-v)/m,x=s-(d[1]-A)/b,[f,g]=[g,-f];break;case 180:S=e-this.width+(d[0]-v)/m,x=s-(d[1]-A)/b,[f,g]=[-f,-g];break;case 270:S=e+(d[0]-v-this.height*b)/m,x=s+(d[1]-A-this.width*m)/b,[f,g]=[-g,f];break}this.setAt(S*l,x*u,f,g)}else this.setAt(e*l,s*u,this.width*l,this.height*u);w(this,Fe,cg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var S,x,M;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const l=w(S=ce,wa,Iv).call(S,s.getData("text")||"").replaceAll(zp,`
`);if(!l)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const d=u.getRangeAt(0);if(!l.includes(`
`)){d.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:g}=d,m=[],b=[];if(f.nodeType===Node.TEXT_NODE){const T=f.parentElement;if(b.push(f.nodeValue.slice(g).replaceAll(zp,"")),T!==this.editorDiv){let O=m;for(const L of this.editorDiv.childNodes){if(L===T){O=b;continue}O.push(w(x=ce,wa,og).call(x,L))}}m.push(f.nodeValue.slice(0,g).replaceAll(zp,""))}else if(f===this.editorDiv){let T=m,O=0;for(const L of this.editorDiv.childNodes)O++===g&&(T=b),T.push(w(M=ce,wa,og).call(M,L))}_(this,si,`${m.join(`
`)}${l}${b.join(`
`)}`),w(this,Fe,cg).call(this);const v=new Range;let A=m.reduce((T,O)=>T+O.length,0);for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const O=T.nodeValue.length;if(A<=O){v.setStart(T,A),v.setEnd(T,A);break}A-=O}u.removeAllRanges(),u.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var d;let l=null;if(e instanceof yx){const{data:{defaultAppearanceData:{fontSize:f,fontColor:g},rect:m,rotation:b,id:v,popupRef:A},textContent:S,textPosition:x,parent:{page:{pageNumber:M}}}=e;if(!S||S.length===0)return null;l=e={annotationType:Mt.FREETEXT,color:Array.from(g),fontSize:f,value:S.join(`
`),position:x,pageIndex:M-1,rect:m.slice(0),rotation:b,id:v,deleted:!1,popupRef:A}}const u=await super.deserialize(e,s,r);return _(u,ai,e.fontSize),_(u,Vi,dt.makeHexColor(...e.color)),_(u,si,w(d=ce,wa,Iv).call(d,e.value)),u.annotationElementId=e.id||null,u._initialData=l,u}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=ce._internalPadding*this.parentScale,r=this.getRect(s,s),l=Jt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Vi)),u={annotationType:Mt.FREETEXT,color:l,fontSize:h(this,ai),value:w(this,Fe,xx).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!w(this,Fe,Tx).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${h(this,ai)}px * var(--scale-factor))`,r.color=h(this,Vi),s.replaceChildren();for(const u of h(this,si).split(`
`)){const d=document.createElement("div");d.append(u?document.createTextNode(u):document.createElement("br")),s.append(d)}const l=ce._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:h(this,si)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Vi=new WeakMap,si=new WeakMap,jd=new WeakMap,Bl=new WeakMap,ai=new WeakMap,Fe=new WeakSet,Ex=function(e){const s=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-h(this,ai))*this.parentScale),_(this,ai,l),w(this,Fe,lg).call(this)},r=h(this,ai);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_x=function(e){const s=l=>{_(this,Vi,this.editorDiv.style.color=l)},r=h(this,Vi);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},wx=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const l of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(w(r=ce,wa,og).call(r,l)),s=l);return e.join(`
`)},lg=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:u}=this,d=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",l.div.append(this.div),r=u.getBoundingClientRect(),u.remove(),u.style.display=d,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},wa=new WeakSet,og=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(zp,"")},cg=function(){if(this.editorDiv.replaceChildren(),!!h(this,si))for(const e of h(this,si).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},xx=function(){return h(this,si).replaceAll(""," ")},Iv=function(e){return e.replaceAll(" ","")},Tx=function(e){const{value:s,fontSize:r,color:l,pageIndex:u}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((d,f)=>d!==l[f])||e.pageIndex!==u},R(ce,wa),St(ce,"_freeTextDefaultContent",""),St(ce,"_internalPadding",0),St(ce,"_defaultColor",null),St(ce,"_defaultFontSize",10),St(ce,"_type","freetext"),St(ce,"_editorType",Mt.FREETEXT);let zv=ce;class Cx{toSVGPath(){ue("Abstract method `toSVGPath` must be implemented.")}get box(){ue("Abstract getter `box` must be implemented.")}serialize(t,e){ue("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ue("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ue("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ri,Xi,Xc,Yc,bs,Pt,jl,Gl,Gd,qd,$c,Kc,vr,Vd,qg,Vg,qe,Lh,Rx,Mx,Lx,Dx,Ox,kx;const Ks=class Ks{constructor({x:t,y:e},s,r,l,u,d=0){R(this,qe);R(this,ri);R(this,Xi,[]);R(this,Xc);R(this,Yc);R(this,bs,[]);R(this,Pt,new Float64Array(18));R(this,jl);R(this,Gl);R(this,Gd);R(this,qd);R(this,$c);R(this,Kc);R(this,vr,[]);_(this,ri,s),_(this,Kc,l*r),_(this,Yc,u),h(this,Pt).set([NaN,NaN,NaN,NaN,t,e],6),_(this,Xc,d),_(this,qd,h(Ks,Vd)*r),_(this,Gd,h(Ks,Vg)*r),_(this,$c,r),h(this,vr).push(t,e)}isEmpty(){return isNaN(h(this,Pt)[8])}add({x:t,y:e}){var J;_(this,jl,t),_(this,Gl,e);const[s,r,l,u]=h(this,ri);let[d,f,g,m]=h(this,Pt).subarray(8,12);const b=t-g,v=e-m,A=Math.hypot(b,v);if(A<h(this,Gd))return!1;const S=A-h(this,qd),x=S/A,M=x*b,T=x*v;let O=d,L=f;d=g,f=m,g+=M,m+=T,(J=h(this,vr))==null||J.push(t,e);const N=-T/S,H=M/S,B=N*h(this,Kc),G=H*h(this,Kc);return h(this,Pt).set(h(this,Pt).subarray(2,8),0),h(this,Pt).set([g+B,m+G],4),h(this,Pt).set(h(this,Pt).subarray(14,18),12),h(this,Pt).set([g-B,m-G],16),isNaN(h(this,Pt)[6])?(h(this,bs).length===0&&(h(this,Pt).set([d+B,f+G],2),h(this,bs).push(NaN,NaN,NaN,NaN,(d+B-s)/l,(f+G-r)/u),h(this,Pt).set([d-B,f-G],14),h(this,Xi).push(NaN,NaN,NaN,NaN,(d-B-s)/l,(f-G-r)/u)),h(this,Pt).set([O,L,d,f,g,m],6),!this.isEmpty()):(h(this,Pt).set([O,L,d,f,g,m],6),Math.abs(Math.atan2(L-f,O-d)-Math.atan2(T,M))<Math.PI/2?([d,f,g,m]=h(this,Pt).subarray(2,6),h(this,bs).push(NaN,NaN,NaN,NaN,((d+g)/2-s)/l,((f+m)/2-r)/u),[d,f,O,L]=h(this,Pt).subarray(14,18),h(this,Xi).push(NaN,NaN,NaN,NaN,((O+d)/2-s)/l,((L+f)/2-r)/u),!0):([O,L,d,f,g,m]=h(this,Pt).subarray(0,6),h(this,bs).push(((O+5*d)/6-s)/l,((L+5*f)/6-r)/u,((5*d+g)/6-s)/l,((5*f+m)/6-r)/u,((d+g)/2-s)/l,((f+m)/2-r)/u),[g,m,d,f,O,L]=h(this,Pt).subarray(12,18),h(this,Xi).push(((O+5*d)/6-s)/l,((L+5*f)/6-r)/u,((5*d+g)/6-s)/l,((5*f+m)/6-r)/u,((d+g)/2-s)/l,((f+m)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,bs),e=h(this,Xi);if(isNaN(h(this,Pt)[6])&&!this.isEmpty())return w(this,qe,Rx).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);w(this,qe,Lx).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return w(this,qe,Mx).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,l,u){return new Nx(t,e,s,r,l,u)}getOutlines(){var b;const t=h(this,bs),e=h(this,Xi),s=h(this,Pt),[r,l,u,d]=h(this,ri),f=new Float64Array((((b=h(this,vr))==null?void 0:b.length)??0)+2);for(let v=0,A=f.length-2;v<A;v+=2)f[v]=(h(this,vr)[v]-r)/u,f[v+1]=(h(this,vr)[v+1]-l)/d;if(f[f.length-2]=(h(this,jl)-r)/u,f[f.length-1]=(h(this,Gl)-l)/d,isNaN(s[6])&&!this.isEmpty())return w(this,qe,Dx).call(this,f);const g=new Float64Array(h(this,bs).length+24+h(this,Xi).length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){g[v]=g[v+1]=NaN;continue}g[v]=t[v],g[v+1]=t[v+1]}m=w(this,qe,kx).call(this,g,m);for(let v=e.length-6;v>=6;v-=6)for(let A=0;A<6;A+=2){if(isNaN(e[v+A])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=e[v+A],g[m+1]=e[v+A+1],m+=2}return w(this,qe,Ox).call(this,g,m),this.newFreeDrawOutline(g,f,h(this,ri),h(this,$c),h(this,Xc),h(this,Yc))}};ri=new WeakMap,Xi=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,bs=new WeakMap,Pt=new WeakMap,jl=new WeakMap,Gl=new WeakMap,Gd=new WeakMap,qd=new WeakMap,$c=new WeakMap,Kc=new WeakMap,vr=new WeakMap,Vd=new WeakMap,qg=new WeakMap,Vg=new WeakMap,qe=new WeakSet,Lh=function(){const t=h(this,Pt).subarray(4,6),e=h(this,Pt).subarray(16,18),[s,r,l,u]=h(this,ri);return[(h(this,jl)+(t[0]-e[0])/2-s)/l,(h(this,Gl)+(t[1]-e[1])/2-r)/u,(h(this,jl)+(e[0]-t[0])/2-s)/l,(h(this,Gl)+(e[1]-t[1])/2-r)/u]},Rx=function(){const[t,e,s,r]=h(this,ri),[l,u,d,f]=w(this,qe,Lh).call(this);return`M${(h(this,Pt)[2]-t)/s} ${(h(this,Pt)[3]-e)/r} L${(h(this,Pt)[4]-t)/s} ${(h(this,Pt)[5]-e)/r} L${l} ${u} L${d} ${f} L${(h(this,Pt)[16]-t)/s} ${(h(this,Pt)[17]-e)/r} L${(h(this,Pt)[14]-t)/s} ${(h(this,Pt)[15]-e)/r} Z`},Mx=function(t){const e=h(this,Xi);t.push(`L${e[4]} ${e[5]} Z`)},Lx=function(t){const[e,s,r,l]=h(this,ri),u=h(this,Pt).subarray(4,6),d=h(this,Pt).subarray(16,18),[f,g,m,b]=w(this,qe,Lh).call(this);t.push(`L${(u[0]-e)/r} ${(u[1]-s)/l} L${f} ${g} L${m} ${b} L${(d[0]-e)/r} ${(d[1]-s)/l}`)},Dx=function(t){const e=h(this,Pt),[s,r,l,u]=h(this,ri),[d,f,g,m]=w(this,qe,Lh).call(this),b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(e[2]-s)/l,(e[3]-r)/u,NaN,NaN,NaN,NaN,(e[4]-s)/l,(e[5]-r)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(e[16]-s)/l,(e[17]-r)/u,NaN,NaN,NaN,NaN,(e[14]-s)/l,(e[15]-r)/u],0),this.newFreeDrawOutline(b,t,h(this,ri),h(this,$c),h(this,Xc),h(this,Yc))},Ox=function(t,e){const s=h(this,Xi);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},kx=function(t,e){const s=h(this,Pt).subarray(4,6),r=h(this,Pt).subarray(16,18),[l,u,d,f]=h(this,ri),[g,m,b,v]=w(this,qe,Lh).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-l)/d,(s[1]-u)/f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(r[0]-l)/d,(r[1]-u)/f],e),e+=24},R(Ks,Vd,8),R(Ks,qg,2),R(Ks,Vg,h(Ks,Vd)+h(Ks,qg));let Tg=Ks;var Wc,ql,ua,Xd,li,Yd,Te,Vn,Dh,Oh,Px;class Nx extends Cx{constructor(e,s,r,l,u,d){super();R(this,Vn);R(this,Wc);R(this,ql,null);R(this,ua);R(this,Xd);R(this,li);R(this,Yd);R(this,Te);_(this,Te,e),_(this,li,s),_(this,Wc,r),_(this,Yd,l),_(this,ua,u),_(this,Xd,d),w(this,Vn,Px).call(this,d);const{x:f,y:g,width:m,height:b}=h(this,ql);for(let v=0,A=e.length;v<A;v+=2)e[v]=(e[v]-f)/m,e[v+1]=(e[v+1]-g)/b;for(let v=0,A=s.length;v<A;v+=2)s[v]=(s[v]-f)/m,s[v+1]=(s[v+1]-g)/b}toSVGPath(){const e=[`M${h(this,Te)[4]} ${h(this,Te)[5]}`];for(let s=6,r=h(this,Te).length;s<r;s+=6){if(isNaN(h(this,Te)[s])){e.push(`L${h(this,Te)[s+4]} ${h(this,Te)[s+5]}`);continue}e.push(`C${h(this,Te)[s]} ${h(this,Te)[s+1]} ${h(this,Te)[s+2]} ${h(this,Te)[s+3]} ${h(this,Te)[s+4]} ${h(this,Te)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,l],u){const d=r-e,f=l-s;let g,m;switch(u){case 0:g=w(this,Vn,Dh).call(this,h(this,Te),e,l,d,-f),m=w(this,Vn,Dh).call(this,h(this,li),e,l,d,-f);break;case 90:g=w(this,Vn,Oh).call(this,h(this,Te),e,s,d,f),m=w(this,Vn,Oh).call(this,h(this,li),e,s,d,f);break;case 180:g=w(this,Vn,Dh).call(this,h(this,Te),r,s,-d,f),m=w(this,Vn,Dh).call(this,h(this,li),r,s,-d,f);break;case 270:g=w(this,Vn,Oh).call(this,h(this,Te),r,l,-d,-f),m=w(this,Vn,Oh).call(this,h(this,li),r,l,-d,-f);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return h(this,ql)}newOutliner(e,s,r,l,u,d=0){return new Tg(e,s,r,l,u,d)}getNewOutline(e,s){const{x:r,y:l,width:u,height:d}=h(this,ql),[f,g,m,b]=h(this,Wc),v=u*m,A=d*b,S=r*m+f,x=l*b+g,M=this.newOutliner({x:h(this,li)[0]*v+S,y:h(this,li)[1]*A+x},h(this,Wc),h(this,Yd),e,h(this,Xd),s??h(this,ua));for(let T=2;T<h(this,li).length;T+=2)M.add({x:h(this,li)[T]*v+S,y:h(this,li)[T+1]*A+x});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Wc=new WeakMap,ql=new WeakMap,ua=new WeakMap,Xd=new WeakMap,li=new WeakMap,Yd=new WeakMap,Te=new WeakMap,Vn=new WeakSet,Dh=function(e,s,r,l,u){const d=new Float64Array(e.length);for(let f=0,g=e.length;f<g;f+=2)d[f]=s+e[f]*l,d[f+1]=r+e[f+1]*u;return d},Oh=function(e,s,r,l,u){const d=new Float64Array(e.length);for(let f=0,g=e.length;f<g;f+=2)d[f]=s+e[f+1]*l,d[f+1]=r+e[f]*u;return d},Px=function(e){const s=h(this,Te);let r=s[4],l=s[5],u=r,d=l,f=r,g=l,m=r,b=l;const v=e?Math.max:Math.min;for(let T=6,O=s.length;T<O;T+=6){if(isNaN(s[T]))u=Math.min(u,s[T+4]),d=Math.min(d,s[T+5]),f=Math.max(f,s[T+4]),g=Math.max(g,s[T+5]),b<s[T+5]?(m=s[T+4],b=s[T+5]):b===s[T+5]&&(m=v(m,s[T+4]));else{const L=dt.bezierBoundingBox(r,l,...s.slice(T,T+6));u=Math.min(u,L[0]),d=Math.min(d,L[1]),f=Math.max(f,L[2]),g=Math.max(g,L[3]),b<L[3]?(m=L[2],b=L[3]):b===L[3]&&(m=v(m,L[2]))}r=s[T+4],l=s[T+5]}const A=u-h(this,ua),S=d-h(this,ua),x=f-u+2*h(this,ua),M=g-d+2*h(this,ua);_(this,ql,{x:A,y:S,width:x,height:M,lastPoint:[m,b]})};var $d,Ar,Yi,kn,Fx,ug,Hx,zx,Uv;class E_{constructor(t,e=0,s=0,r=!0){R(this,kn);R(this,$d);R(this,Ar,[]);R(this,Yi,[]);let l=1/0,u=-1/0,d=1/0,f=-1/0;const g=10**-4;for(const{x:M,y:T,width:O,height:L}of t){const N=Math.floor((M-e)/g)*g,H=Math.ceil((M+O+e)/g)*g,B=Math.floor((T-e)/g)*g,G=Math.ceil((T+L+e)/g)*g,W=[N,B,G,!0],J=[H,B,G,!1];h(this,Ar).push(W,J),l=Math.min(l,N),u=Math.max(u,H),d=Math.min(d,B),f=Math.max(f,G)}const m=u-l+2*s,b=f-d+2*s,v=l-s,A=d-s,S=h(this,Ar).at(r?-1:-2),x=[S[0],S[2]];for(const M of h(this,Ar)){const[T,O,L]=M;M[0]=(T-v)/m,M[1]=(O-A)/b,M[2]=(L-A)/b}_(this,$d,{x:v,y:A,width:m,height:b,lastPoint:x})}getOutlines(){h(this,Ar).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of h(this,Ar))e[3]?(t.push(...w(this,kn,Uv).call(this,e)),w(this,kn,Hx).call(this,e)):(w(this,kn,zx).call(this,e),t.push(...w(this,kn,Uv).call(this,e)));return w(this,kn,Fx).call(this,t)}}$d=new WeakMap,Ar=new WeakMap,Yi=new WeakMap,kn=new WeakSet,Fx=function(t){const e=[],s=new Set;for(const u of t){const[d,f,g]=u;e.push([d,f,u],[d,g,u])}e.sort((u,d)=>u[1]-d[1]||u[0]-d[0]);for(let u=0,d=e.length;u<d;u+=2){const f=e[u][2],g=e[u+1][2];f.push(g),g.push(f),s.add(f),s.add(g)}const r=[];let l;for(;s.size>0;){const u=s.values().next().value;let[d,f,g,m,b]=u;s.delete(u);let v=d,A=f;for(l=[d,g],r.push(l);;){let S;if(s.has(m))S=m;else if(s.has(b))S=b;else break;s.delete(S),[d,f,g,m,b]=S,v!==d&&(l.push(v,A,d,A===f?f:g),v=d),A=A===f?g:f}l.push(v,A)}return new PO(r,h(this,$d))},ug=function(t){const e=h(this,Yi);let s=0,r=e.length-1;for(;s<=r;){const l=s+r>>1,u=e[l][0];if(u===t)return l;u<t?s=l+1:r=l-1}return r+1},Hx=function([,t,e]){const s=w(this,kn,ug).call(this,t);h(this,Yi).splice(s,0,[t,e])},zx=function([,t,e]){const s=w(this,kn,ug).call(this,t);for(let r=s;r<h(this,Yi).length;r++){const[l,u]=h(this,Yi)[r];if(l!==t)break;if(l===t&&u===e){h(this,Yi).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[l,u]=h(this,Yi)[r];if(l!==t)break;if(l===t&&u===e){h(this,Yi).splice(r,1);return}}},Uv=function(t){const[e,s,r]=t,l=[[e,s,r]],u=w(this,kn,ug).call(this,r);for(let d=0;d<u;d++){const[f,g]=h(this,Yi)[d];for(let m=0,b=l.length;m<b;m++){const[,v,A]=l[m];if(!(g<=v||A<=f)){if(v>=f){if(A>g)l[m][1]=g;else{if(b===1)return[];l.splice(m,1),m--,b--}continue}l[m][2]=f,A>g&&l.push([e,g,A])}}}return l};var Kd,Qc;class PO extends Cx{constructor(e,s){super();R(this,Kd);R(this,Qc);_(this,Qc,e),_(this,Kd,s)}toSVGPath(){const e=[];for(const s of h(this,Qc)){let[r,l]=s;e.push(`M${r} ${l}`);for(let u=2;u<s.length;u+=2){const d=s[u],f=s[u+1];d===r?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${d}`),r=d)}e.push("Z")}return e.join(" ")}serialize([e,s,r,l],u){const d=[],f=r-e,g=l-s;for(const m of h(this,Qc)){const b=new Array(m.length);for(let v=0;v<m.length;v+=2)b[v]=e+m[v]*f,b[v+1]=l-m[v+1]*g;d.push(b)}return d}get box(){return h(this,Kd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Kd=new WeakMap,Qc=new WeakMap;class Bv extends Tg{newFreeDrawOutline(t,e,s,r,l,u){return new FO(t,e,s,r,l,u)}get classNamesForDrawing(){return["highlight","free"]}}class FO extends Nx{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,l,u=0){return new Bv(t,e,s,r,l,u)}}var $i,Vl,Zc,Be,Wd,Jc,Qd,Zd,Sr,Ki,tu,Jd,se,jv,Gv,qv,el,Ix,Ja;const Un=class Un{constructor({editor:t=null,uiManager:e=null}){R(this,se);R(this,$i,null);R(this,Vl,null);R(this,Zc);R(this,Be,null);R(this,Wd,!1);R(this,Jc,!1);R(this,Qd,null);R(this,Zd);R(this,Sr,null);R(this,Ki,null);R(this,tu);var s;t?(_(this,Jc,!1),_(this,tu,Et.HIGHLIGHT_COLOR),_(this,Qd,t)):(_(this,Jc,!0),_(this,tu,Et.HIGHLIGHT_DEFAULT_COLOR)),_(this,Ki,(t==null?void 0:t._uiManager)||e),_(this,Zd,h(this,Ki)._eventBus),_(this,Zc,(t==null?void 0:t.color)||((s=h(this,Ki))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),h(Un,Jd)||_(Un,Jd,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ut(this,"_keyboardManager",new df([[["Escape","mac+Escape"],Un.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Un.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Un.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Un.prototype._moveToPrevious],[["Home","mac+Home"],Un.prototype._moveToBeginning],[["End","mac+End"],Un.prototype._moveToEnd]]))}renderButton(){const t=_(this,$i,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,Ki)._signal;t.addEventListener("click",w(this,se,el).bind(this),{signal:e}),t.addEventListener("keydown",w(this,se,qv).bind(this),{signal:e});const s=_(this,Vl,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=h(this,Zc),t.append(s),t}renderMainDropdown(){const t=_(this,Be,w(this,se,jv).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,$i)){w(this,se,el).call(this,t);return}const e=t.target.getAttribute("data-color");e&&w(this,se,Gv).call(this,e,t)}_moveToNext(t){var e,s;if(!h(this,se,Ja)){w(this,se,el).call(this,t);return}if(t.target===h(this,$i)){(e=h(this,Be).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=h(this,Be))==null?void 0:e.firstChild)||t.target===h(this,$i)){h(this,se,Ja)&&this._hideDropdownFromKeyboard();return}h(this,se,Ja)||w(this,se,el).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!h(this,se,Ja)){w(this,se,el).call(this,t);return}(e=h(this,Be).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,se,Ja)){w(this,se,el).call(this,t);return}(e=h(this,Be).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,Be))==null||t.classList.add("hidden"),(e=h(this,Sr))==null||e.abort(),_(this,Sr,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,Jc)){if(!h(this,se,Ja)){(t=h(this,Qd))==null||t.unselect();return}this.hideDropdown(),h(this,$i).focus({preventScroll:!0,focusVisible:h(this,Wd)})}}updateColor(t){if(h(this,Vl)&&(h(this,Vl).style.backgroundColor=t),!h(this,Be))return;const e=h(this,Ki).highlightColors.values();for(const s of h(this,Be).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,$i))==null||t.remove(),_(this,$i,null),_(this,Vl,null),(e=h(this,Be))==null||e.remove(),_(this,Be,null)}};$i=new WeakMap,Vl=new WeakMap,Zc=new WeakMap,Be=new WeakMap,Wd=new WeakMap,Jc=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Sr=new WeakMap,Ki=new WeakMap,tu=new WeakMap,Jd=new WeakMap,se=new WeakSet,jv=function(){const t=document.createElement("div"),e=h(this,Ki)._signal;t.addEventListener("contextmenu",Oi,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of h(this,Ki).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=s,l.setAttribute("data-l10n-id",h(Un,Jd)[s]);const u=document.createElement("span");l.append(u),u.className="swatch",u.style.backgroundColor=r,l.setAttribute("aria-selected",r===h(this,Zc)),l.addEventListener("click",w(this,se,Gv).bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",w(this,se,qv).bind(this),{signal:e}),t},Gv=function(t,e){e.stopPropagation(),h(this,Zd).dispatch("switchannotationeditorparams",{source:this,type:h(this,tu),value:t})},qv=function(t){Un._keyboardManager.exec(this,t)},el=function(t){if(h(this,se,Ja)){this.hideDropdown();return}if(_(this,Wd,t.detail===0),h(this,Sr)||(_(this,Sr,new AbortController),window.addEventListener("pointerdown",w(this,se,Ix).bind(this),{signal:h(this,Ki).combinedSignal(h(this,Sr))})),h(this,Be)){h(this,Be).classList.remove("hidden");return}const e=_(this,Be,w(this,se,jv).call(this));h(this,$i).append(e)},Ix=function(t){var e;(e=h(this,Be))!=null&&e.contains(t.target)||this.hideDropdown()},Ja=function(){return h(this,Be)&&!h(this,Be).classList.contains("hidden")},R(Un,Jd,null);let Cg=Un;var eu,tf,ha,Xl,nu,Ti,ef,nf,Yl,Wi,En,Gn,iu,da,je,su,Ci,sf,Ct,Vv,hg,Ux,Bx,jx,Xv,nl,Li,ac,Gx,dg,kh,qx,Vx,Xx,Yx,$x;const Vt=class Vt extends Jt{constructor(e){super({...e,name:"highlightEditor"});R(this,Ct);R(this,eu,null);R(this,tf,0);R(this,ha);R(this,Xl,null);R(this,nu,null);R(this,Ti,null);R(this,ef,null);R(this,nf,0);R(this,Yl,null);R(this,Wi,null);R(this,En,null);R(this,Gn,!1);R(this,iu,null);R(this,da);R(this,je,null);R(this,su,"");R(this,Ci);R(this,sf,"");this.color=e.color||Vt._defaultColor,_(this,Ci,e.thickness||Vt._defaultThickness),_(this,da,e.opacity||Vt._defaultOpacity),_(this,ha,e.boxes||null),_(this,sf,e.methodOfCreation||""),_(this,su,e.text||""),this._isDraggable=!1,e.highlightId>-1?(_(this,Gn,!0),w(this,Ct,hg).call(this,e),w(this,Ct,nl).call(this)):h(this,ha)&&(_(this,eu,e.anchorNode),_(this,tf,e.anchorOffset),_(this,ef,e.focusNode),_(this,nf,e.focusOffset),w(this,Ct,Vv).call(this),w(this,Ct,nl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Vt.prototype;return Ut(this,"_keyboardManager",new df([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Gn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,Ci),methodOfCreation:h(this,sf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;Jt.initialize(e,s),Vt._defaultColor||(Vt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case Et.HIGHLIGHT_DEFAULT_COLOR:Vt._defaultColor=s;break;case Et.HIGHLIGHT_THICKNESS:Vt._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return h(this,iu)}updateParams(e,s){switch(e){case Et.HIGHLIGHT_COLOR:w(this,Ct,Ux).call(this,s);break;case Et.HIGHLIGHT_THICKNESS:w(this,Ct,Bx).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Et.HIGHLIGHT_DEFAULT_COLOR,Vt._defaultColor],[Et.HIGHLIGHT_THICKNESS,Vt._defaultThickness]]}get propertiesToUpdate(){return[[Et.HIGHLIGHT_COLOR,this.color||Vt._defaultColor],[Et.HIGHLIGHT_THICKNESS,h(this,Ci)||Vt._defaultThickness],[Et.HIGHLIGHT_FREE,h(this,Gn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(_(this,nu,new Cg({editor:this})),e.addColorPicker(h(this,nu))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,Ct,kh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,w(this,Ct,kh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,Ct,Xv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,Ct,nl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?w(this,Ct,Xv).call(this):e&&(w(this,Ct,nl).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var l,u,d;const{drawLayer:s}=this.parent;let r;h(this,Gn)?(e=(e-this.rotation+360)%360,r=w(l=Vt,Li,ac).call(l,h(this,Wi).box,e)):r=w(u=Vt,Li,ac).call(u,this,e),s.rotate(h(this,En),e),s.rotate(h(this,je),e),s.updateBox(h(this,En),r),s.updateBox(h(this,je),w(d=Vt,Li,ac).call(d,h(this,Ti).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,su)&&(e.setAttribute("aria-label",h(this,su)),e.setAttribute("role","mark")),h(this,Gn)?e.classList.add("free"):this.div.addEventListener("keydown",w(this,Ct,Gx).bind(this),{signal:this._uiManager._signal});const s=_(this,Yl,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=h(this,Xl);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),wg(this,h(this,Yl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,je),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,je),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:w(this,Ct,dg).call(this,!0);break;case 1:case 3:w(this,Ct,dg).call(this,!1);break}}select(){var e,s;super.select(),h(this,je)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,je),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(h(this,je),"selected"))}unselect(){var e;super.unselect(),h(this,je)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,je),"selected"),h(this,Gn)||w(this,Ct,dg).call(this,!1))}get _mustFixPosition(){return!h(this,Gn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,En),e),this.parent.drawLayer.show(h(this,je),e))}static startHighlighting(e,s,{target:r,x:l,y:u}){const{x:d,y:f,width:g,height:m}=r.getBoundingClientRect(),b=new AbortController,v=e.combinedSignal(b),A=x=>{x.preventDefault(),x.stopPropagation()},S=x=>{b.abort(),w(this,Li,Yx).call(this,e,x)};window.addEventListener("blur",S,{signal:v}),window.addEventListener("pointerup",S,{signal:v}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Oi,{signal:v}),r.addEventListener("pointermove",w(this,Li,Xx).bind(this,e),{signal:v}),this._freeHighlight=new Bv({x:l,y:u},[d,f,g,m],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var x,M,T,O;let l=null;if(e instanceof vx){const{data:{quadPoints:L,rect:N,rotation:H,id:B,color:G,opacity:W,popupRef:J},parent:{page:{pageNumber:st}}}=e;l=e={annotationType:Mt.HIGHLIGHT,color:Array.from(G),opacity:W,quadPoints:L,boxes:null,pageIndex:st-1,rect:N.slice(0),rotation:H,id:B,deleted:!1,popupRef:J}}else if(e instanceof H0){const{data:{inkLists:L,rect:N,rotation:H,id:B,color:G,borderStyle:{rawWidth:W},popupRef:J},parent:{page:{pageNumber:st}}}=e;l=e={annotationType:Mt.HIGHLIGHT,color:Array.from(G),thickness:W,inkLists:L,boxes:null,pageIndex:st-1,rect:N.slice(0),rotation:H,id:B,deleted:!1,popupRef:J}}const{color:u,quadPoints:d,inkLists:f,opacity:g}=e,m=await super.deserialize(e,s,r);m.color=dt.makeHexColor(...u),_(m,da,g||1),f&&_(m,Ci,e.thickness),m.annotationElementId=e.id||null,m._initialData=l;const[b,v]=m.pageDimensions,[A,S]=m.pageTranslation;if(d){const L=_(m,ha,[]);for(let N=0;N<d.length;N+=8)L.push({x:(d[N]-A)/b,y:1-(d[N+1]-S)/v,width:(d[N+2]-d[N])/b,height:(d[N+1]-d[N+5])/v});w(x=m,Ct,Vv).call(x),w(M=m,Ct,nl).call(M),m.rotate(m.rotation)}else if(f){_(m,Gn,!0);const L=f[0],N={x:L[0]-A,y:v-(L[1]-S)},H=new Bv(N,[0,0,b,v],1,h(m,Ci)/2,!0,.001);for(let W=0,J=L.length;W<J;W+=2)N.x=L[W]-A,N.y=v-(L[W+1]-S),H.add(N);const{id:B,clipPathId:G}=s.drawLayer.draw(H,m.color,m._defaultOpacity,!0);w(T=m,Ct,hg).call(T,{highlightOutlines:H.getOutlines(),highlightId:B,clipPathId:G}),w(O=m,Ct,nl).call(O)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Jt._colorManager.convert(this.color),l={annotationType:Mt.HIGHLIGHT,color:r,opacity:h(this,da),thickness:h(this,Ci),quadPoints:w(this,Ct,qx).call(this),outlines:w(this,Ct,Vx).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:w(this,Ct,kh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!w(this,Ct,$x).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};eu=new WeakMap,tf=new WeakMap,ha=new WeakMap,Xl=new WeakMap,nu=new WeakMap,Ti=new WeakMap,ef=new WeakMap,nf=new WeakMap,Yl=new WeakMap,Wi=new WeakMap,En=new WeakMap,Gn=new WeakMap,iu=new WeakMap,da=new WeakMap,je=new WeakMap,su=new WeakMap,Ci=new WeakMap,sf=new WeakMap,Ct=new WeakSet,Vv=function(){const e=new E_(h(this,ha),.001);_(this,Wi,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,Wi).box;const s=new E_(h(this,ha),.0025,.001,this._uiManager.direction==="ltr");_(this,Ti,s.getOutlines());const{lastPoint:r}=h(this,Ti).box;_(this,iu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},hg=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var b,v;if(_(this,Wi,e),_(this,Ti,e.getNewOutline(h(this,Ci)/2+1.5,.0025)),s>=0)_(this,En,s),_(this,Xl,r),this.parent.drawLayer.finalizeLine(s,e),_(this,je,this.parent.drawLayer.drawOutline(h(this,Ti)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,En),e),this.parent.drawLayer.updateBox(h(this,En),w(b=Vt,Li,ac).call(b,h(this,Wi).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,je),h(this,Ti)),this.parent.drawLayer.updateBox(h(this,je),w(v=Vt,Li,ac).call(v,h(this,Ti).box,A))}const{x:u,y:d,width:f,height:g}=e.box;switch(this.rotation){case 0:this.x=u,this.y=d,this.width=f,this.height=g;break;case 90:{const[A,S]=this.parentDimensions;this.x=d,this.y=1-u,this.width=f*S/A,this.height=g*A/S;break}case 180:this.x=1-u,this.y=1-d,this.width=f,this.height=g;break;case 270:{const[A,S]=this.parentDimensions;this.x=1-d,this.y=u,this.width=f*S/A,this.height=g*A/S;break}}const{lastPoint:m}=h(this,Ti).box;_(this,iu,[(m[0]-u)/f,(m[1]-d)/g])},Ux=function(e){const s=(u,d)=>{var f,g,m;this.color=u,(f=this.parent)==null||f.drawLayer.changeColor(h(this,En),u),(g=h(this,nu))==null||g.updateColor(u),_(this,da,d),(m=this.parent)==null||m.drawLayer.changeOpacity(h(this,En),d)},r=this.color,l=h(this,da);this.addCommands({cmd:s.bind(this,e,Vt._defaultOpacity),undo:s.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},Bx=function(e){const s=h(this,Ci),r=l=>{_(this,Ci,l),w(this,Ct,jx).call(this,l)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},jx=function(e){if(!h(this,Gn))return;w(this,Ct,hg).call(this,{highlightOutlines:h(this,Wi).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},Xv=function(){h(this,En)===null||!this.parent||(this.parent.drawLayer.remove(h(this,En)),_(this,En,null),this.parent.drawLayer.remove(h(this,je)),_(this,je,null))},nl=function(e=this.parent){h(this,En)===null&&({id:Cn(this,En)._,clipPathId:Cn(this,Xl)._}=e.drawLayer.draw(h(this,Wi),this.color,h(this,da)),_(this,je,e.drawLayer.drawOutline(h(this,Ti))),h(this,Yl)&&(h(this,Yl).style.clipPath=h(this,Xl)))},Li=new WeakSet,ac=function({x:e,y:s,width:r,height:l},u){switch(u){case 90:return{x:1-s-l,y:e,width:l,height:r};case 180:return{x:1-e-r,y:1-s-l,width:r,height:l};case 270:return{x:s,y:1-e-r,width:l,height:r}}return{x:e,y:s,width:r,height:l}},Gx=function(e){Vt._keyboardManager.exec(this,e)},dg=function(e){if(!h(this,eu))return;const s=window.getSelection();e?s.setPosition(h(this,eu),h(this,tf)):s.setPosition(h(this,ef),h(this,nf))},kh=function(){return h(this,Gn)?this.rotation:0},qx=function(){if(h(this,Gn))return null;const[e,s]=this.pageDimensions,[r,l]=this.pageTranslation,u=h(this,ha),d=new Float32Array(u.length*8);let f=0;for(const{x:g,y:m,width:b,height:v}of u){const A=g*e+r,S=(1-m-v)*s+l;d[f]=d[f+4]=A,d[f+1]=d[f+3]=S,d[f+2]=d[f+6]=A+b*e,d[f+5]=d[f+7]=S+v*s,f+=8}return d},Vx=function(e){return h(this,Wi).serialize(e,w(this,Ct,kh).call(this))},Xx=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Yx=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},$x=function(e){const{color:s}=this._initialData;return e.color.some((r,l)=>r!==s[l])},R(Vt,Li),St(Vt,"_defaultColor",null),St(Vt,"_defaultOpacity",1),St(Vt,"_defaultThickness",12),St(Vt,"_type","highlight"),St(Vt,"_editorType",Mt.HIGHLIGHT),St(Vt,"_freeHighlightId",-1),St(Vt,"_freeHighlight",null),St(Vt,"_freeHighlightClipId","");let Rg=Vt;var $l,Kl,vs,fa,Ri,Wl,Ql,Zl,pa,au,Jl,to,Er,at,Kx,Wx,Qx,Zx,$v,Jx,Kv,tT,eT,nT,iT,sT,il,Wv,Qv,Zv,fg,pg,rc,Jv,gg,Ca,aT,t0,rT,lT,e0,mg,Nh;const ge=class ge extends Jt{constructor(e){super({...e,name:"inkEditor"});R(this,at);R(this,$l,0);R(this,Kl,0);R(this,vs,null);R(this,fa,new Path2D);R(this,Ri,!1);R(this,Wl,null);R(this,Ql,!1);R(this,Zl,!1);R(this,pa,null);R(this,au,null);R(this,Jl,0);R(this,to,0);R(this,Er,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){Jt.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case Et.INK_THICKNESS:ge._defaultThickness=s;break;case Et.INK_COLOR:ge._defaultColor=s;break;case Et.INK_OPACITY:ge._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case Et.INK_THICKNESS:w(this,at,Kx).call(this,s);break;case Et.INK_COLOR:w(this,at,Wx).call(this,s);break;case Et.INK_OPACITY:w(this,at,Qx).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Et.INK_THICKNESS,ge._defaultThickness],[Et.INK_COLOR,ge._defaultColor||Jt._defaultLineColor],[Et.INK_OPACITY,Math.round(ge._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Et.INK_THICKNESS,this.thickness||ge._defaultThickness],[Et.INK_COLOR,this.color||ge._defaultColor||Jt._defaultLineColor],[Et.INK_OPACITY,Math.round(100*(this.opacity??ge._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,at,fg).call(this),w(this,at,pg).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,at,rc).call(this)),w(this,at,Nh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,vs)&&(clearTimeout(h(this,vs)),_(this,vs,null)),(e=h(this,pa))==null||e.disconnect(),_(this,pa,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,l=this.height*s;this.setDimensions(r,l)}enableEditMode(){h(this,Ri)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,w(this,at,Wv).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),w(this,at,Qv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,Ri)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_(this,Ri,!0),this.div.classList.add("disabled"),w(this,at,Nh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,Ri)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,at,Jx).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),w(this,at,Kv).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),w(this,at,Zv).call(this,e)}canvasPointerleave(e){w(this,at,Zv).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,Ri)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,u,d]=w(this,at,Zx).call(this);if(this.setAt(r,l,0,0),this.setDims(u,d),w(this,at,fg).call(this),this.width){const[f,g]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*g),this.setAt(e*f,s*g,this.width*f,this.height*g),_(this,Zl,!0),w(this,at,rc).call(this),this.setDims(this.width*f,this.height*g),w(this,at,il).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,at,pg).call(this),this.div}setDimensions(e,s){const r=Math.round(e),l=Math.round(s);if(h(this,Jl)===r&&h(this,to)===l)return;_(this,Jl,r),_(this,to,l),this.canvas.style.visibility="hidden";const[u,d]=this.parentDimensions;this.width=e/u,this.height=s/d,this.fixAndSetPosition(),h(this,Ri)&&w(this,at,Jv).call(this,e,s),w(this,at,rc).call(this),w(this,at,il).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var M,T,O;if(e instanceof H0)return null;const l=await super.deserialize(e,s,r);l.thickness=e.thickness,l.color=dt.makeHexColor(...e.color),l.opacity=e.opacity;const[u,d]=l.pageDimensions,f=l.width*u,g=l.height*d,m=l.parentScale,b=e.thickness/2;_(l,Ri,!0),_(l,Jl,Math.round(f)),_(l,to,Math.round(g));const{paths:v,rect:A,rotation:S}=e;for(let{bezier:L}of v){L=w(M=ge,Ca,rT).call(M,L,A,S);const N=[];l.paths.push(N);let H=m*(L[0]-b),B=m*(L[1]-b);for(let W=2,J=L.length;W<J;W+=6){const st=m*(L[W]-b),it=m*(L[W+1]-b),gt=m*(L[W+2]-b),yt=m*(L[W+3]-b),ft=m*(L[W+4]-b),ht=m*(L[W+5]-b);N.push([[H,B],[st,it],[gt,yt],[ft,ht]]),H=ft,B=ht}const G=w(this,Ca,aT).call(this,N);l.bezierPath2D.push(G)}const x=w(T=l,at,e0).call(T);return _(l,Kl,Math.max(Jt.MIN_SIZE,x[2]-x[0])),_(l,$l,Math.max(Jt.MIN_SIZE,x[3]-x[1])),w(O=l,at,Jv).call(O,f,g),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=Jt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Mt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:w(this,at,lT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};$l=new WeakMap,Kl=new WeakMap,vs=new WeakMap,fa=new WeakMap,Ri=new WeakMap,Wl=new WeakMap,Ql=new WeakMap,Zl=new WeakMap,pa=new WeakMap,au=new WeakMap,Jl=new WeakMap,to=new WeakMap,Er=new WeakMap,at=new WeakSet,Kx=function(e){const s=l=>{this.thickness=l,w(this,at,Nh).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Wx=function(e){const s=l=>{this.color=l,w(this,at,il).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Qx=function(e){const s=l=>{this.opacity=l,w(this,at,il).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Zx=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},$v=function(){const{ctx:e,color:s,opacity:r,thickness:l,parentScale:u,scaleFactor:d}=this;e.lineWidth=l*u/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${sD(r)}`},Jx=function(e,s){this.canvas.addEventListener("contextmenu",Oi,{signal:this._uiManager._signal}),w(this,at,Qv).call(this),_(this,Wl,new AbortController);const r=this._uiManager.combinedSignal(h(this,Wl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,h(this,Zl)||(_(this,Zl,!0),w(this,at,rc).call(this),this.thickness||(this.thickness=ge._defaultThickness),this.color||(this.color=ge._defaultColor||Jt._defaultLineColor),this.opacity??(this.opacity=ge._defaultOpacity)),this.currentPath.push([e,s]),_(this,Ql,!1),w(this,at,$v).call(this),_(this,Er,()=>{w(this,at,nT).call(this),h(this,Er)&&window.requestAnimationFrame(h(this,Er))}),window.requestAnimationFrame(h(this,Er))},Kv=function(e,s){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===l)return;const u=this.currentPath;let d=h(this,fa);if(u.push([e,s]),_(this,Ql,!0),u.length<=2){d.moveTo(...u[0]),d.lineTo(e,s);return}u.length===3&&(_(this,fa,d=new Path2D),d.moveTo(...u[0])),w(this,at,iT).call(this,d,...u.at(-3),...u.at(-2),e,s)},tT=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,fa).lineTo(...e)},eT=function(e,s){_(this,Er,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),w(this,at,Kv).call(this,e,s),w(this,at,tT).call(this);let r;if(this.currentPath.length!==1)r=w(this,at,sT).call(this);else{const g=[e,s];r=[[g,g.slice(),g.slice(),g]]}const l=h(this,fa),u=this.currentPath;this.currentPath=[],_(this,fa,new Path2D);const d=()=>{this.allRawPaths.push(u),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,at,fg).call(this),w(this,at,pg).call(this)),w(this,at,Nh).call(this))};this.addCommands({cmd:d,undo:f,mustExec:!0})},nT=function(){if(!h(this,Ql))return;_(this,Ql,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),l=s.map(d=>d[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)u.stroke(d);u.stroke(h(this,fa)),u.restore()},iT=function(e,s,r,l,u,d,f){const g=(s+l)/2,m=(r+u)/2,b=(l+d)/2,v=(u+f)/2;e.bezierCurveTo(g+2*(l-g)/3,m+2*(u-m)/3,b+2*(l-b)/3,v+2*(u-v)/3,b,v)},sT=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[l,u]=e[0];for(r=1;r<e.length-2;r++){const[A,S]=e[r],[x,M]=e[r+1],T=(A+x)/2,O=(S+M)/2,L=[l+2*(A-l)/3,u+2*(S-u)/3],N=[T+2*(A-T)/3,O+2*(S-O)/3];s.push([[l,u],L,N,[T,O]]),[l,u]=[T,O]}const[d,f]=e[r],[g,m]=e[r+1],b=[l+2*(d-l)/3,u+2*(f-u)/3],v=[g+2*(d-g)/3,m+2*(f-m)/3];return s.push([[l,u],b,v,[g,m]]),s},il=function(){if(this.isEmpty()){w(this,at,gg).call(this);return}w(this,at,$v).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),w(this,at,gg).call(this);for(const r of this.bezierPath2D)s.stroke(r)},Wv=function(){if(h(this,au))return;_(this,au,new AbortController);const e=this._uiManager.combinedSignal(h(this,au));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Qv=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Zv=function(e){var s;(s=h(this,Wl))==null||s.abort(),_(this,Wl,null),w(this,at,Wv).call(this),h(this,vs)&&clearTimeout(h(this,vs)),_(this,vs,setTimeout(()=>{_(this,vs,null),this.canvas.removeEventListener("contextmenu",Oi)},10)),w(this,at,eT).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},fg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},pg=function(){_(this,pa,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),h(this,pa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,pa))==null||e.disconnect(),_(this,pa,null)},{once:!0})},rc=function(){if(!h(this,Zl))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),w(this,at,gg).call(this)},Jv=function(e,s){const r=w(this,at,mg).call(this),l=(e-r)/h(this,Kl),u=(s-r)/h(this,$l);this.scaleFactor=Math.min(l,u)},gg=function(){const e=w(this,at,mg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Ca=new WeakSet,aT=function(e){const s=new Path2D;for(let r=0,l=e.length;r<l;r++){const[u,d,f,g]=e[r];r===0&&s.moveTo(...u),s.bezierCurveTo(d[0],d[1],f[0],f[1],g[0],g[1])}return s},t0=function(e,s,r){const[l,u,d,f]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]+=l,e[g+1]=f-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=e[g+1]+l,e[g+1]=b+u}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]+=u;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=d-e[g+1],e[g+1]=f-b}break;default:throw new Error("Invalid rotation")}return e},rT=function(e,s,r){const[l,u,d,f]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]-=l,e[g+1]=f-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=e[g+1]-u,e[g+1]=b-l}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]-=u;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=f-e[g+1],e[g+1]=d-b}break;default:throw new Error("Invalid rotation")}return e},lT=function(e,s,r,l){var m,b;const u=[],d=this.thickness/2,f=e*s+d,g=e*r+d;for(const v of this.paths){const A=[],S=[];for(let x=0,M=v.length;x<M;x++){const[T,O,L,N]=v[x];if(T[0]===N[0]&&T[1]===N[1]&&M===1){const yt=e*T[0]+f,ft=e*T[1]+g;A.push(yt,ft),S.push(yt,ft);break}const H=e*T[0]+f,B=e*T[1]+g,G=e*O[0]+f,W=e*O[1]+g,J=e*L[0]+f,st=e*L[1]+g,it=e*N[0]+f,gt=e*N[1]+g;x===0&&(A.push(H,B),S.push(H,B)),A.push(G,W,J,st,it,gt),S.push(G,W),x===M-1&&S.push(it,gt)}u.push({bezier:w(m=ge,Ca,t0).call(m,A,l,this.rotation),points:w(b=ge,Ca,t0).call(b,S,l,this.rotation)})}return u},e0=function(){let e=1/0,s=-1/0,r=1/0,l=-1/0;for(const u of this.paths)for(const[d,f,g,m]of u){const b=dt.bezierBoundingBox(...d,...f,...g,...m);e=Math.min(e,b[0]),r=Math.min(r,b[1]),s=Math.max(s,b[2]),l=Math.max(l,b[3])}return[e,r,s,l]},mg=function(){return h(this,Ri)?Math.ceil(this.thickness*this.parentScale):0},Nh=function(e=!1){if(this.isEmpty())return;if(!h(this,Ri)){w(this,at,il).call(this);return}const s=w(this,at,e0).call(this),r=w(this,at,mg).call(this);_(this,Kl,Math.max(Jt.MIN_SIZE,s[2]-s[0])),_(this,$l,Math.max(Jt.MIN_SIZE,s[3]-s[1]));const l=Math.ceil(r+h(this,Kl)*this.scaleFactor),u=Math.ceil(r+h(this,$l)*this.scaleFactor),[d,f]=this.parentDimensions;this.width=l/d,this.height=u/f,this.setAspectRatio(l,u);const g=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],w(this,at,rc).call(this),w(this,at,il).call(this),_(this,Jl,l),_(this,to,u),this.setDims(l,u);const b=e?r/this.scaleFactor/2:0;this.translate(g-this.translationX-b,m-this.translationY-b)},R(ge,Ca),St(ge,"_defaultColor",null),St(ge,"_defaultOpacity",1),St(ge,"_defaultThickness",1),St(ge,"_type","ink"),St(ge,"_editorType",Mt.INK);let Yv=ge;var ye,hn,_r,ga,wr,ru,As,ma,Ss,oi,lu,zt,Ph,Fh,yg,i0,oT,bg,s0,vg,cT,uT;const Ih=class Ih extends Jt{constructor(e){super({...e,name:"stampEditor"});R(this,zt);R(this,ye,null);R(this,hn,null);R(this,_r,null);R(this,ga,null);R(this,wr,null);R(this,ru,"");R(this,As,null);R(this,ma,null);R(this,Ss,null);R(this,oi,!1);R(this,lu,!1);_(this,ga,e.bitmapUrl),_(this,wr,e.bitmapFile)}static initialize(e,s){Jt.initialize(e,s)}static get supportedTypes(){return Ut(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Ut(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Mt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:u,height:d}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:u,height:d,channels:l.length/(u*d)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const g=f.output;return await this.setGuessedAltText(g),s&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var e,s;h(this,hn)&&(_(this,ye,null),this._uiManager.imageManager.deleteId(h(this,hn)),(e=h(this,As))==null||e.remove(),_(this,As,null),(s=h(this,ma))==null||s.disconnect(),_(this,ma,null),h(this,Ss)&&(clearTimeout(h(this,Ss)),_(this,Ss,null))),super.remove()}rebuild(){if(!this.parent){h(this,hn)&&w(this,zt,yg).call(this);return}super.rebuild(),this.div!==null&&(h(this,hn)&&h(this,As)===null&&w(this,zt,yg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,_r)||h(this,ye)||h(this,ga)||h(this,wr)||h(this,hn))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,ye)?w(this,zt,i0).call(this):w(this,zt,yg).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(e*r,s*l,this.width*r,this.height*l)}return this.div}copyCanvas(e,s,r=!1){var A;e||(e=224);const{width:l,height:u}=h(this,ye),d=new Zb;let f=h(this,ye),g=l,m=u,b=null;if(s){if(l>s||u>s){const W=Math.min(s/l,s/u);g=Math.floor(l*W),m=Math.floor(u*W)}b=document.createElement("canvas");const S=b.width=Math.ceil(g*d.sx),x=b.height=Math.ceil(m*d.sy);h(this,oi)||(f=w(this,zt,bg).call(this,S,x));const M=b.getContext("2d");M.filter=this._uiManager.hcmFilter;let T="white",O="#cfcfd8";this._uiManager.hcmFilter!=="none"?O="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",O="#42414d");const L=15,N=L*d.sx,H=L*d.sy,B=new OffscreenCanvas(N*2,H*2),G=B.getContext("2d");G.fillStyle=T,G.fillRect(0,0,N*2,H*2),G.fillStyle=O,G.fillRect(0,0,N,H),G.fillRect(N,H,N,H),M.fillStyle=M.createPattern(B,"repeat"),M.fillRect(0,0,S,x),M.drawImage(f,0,0,f.width,f.height,0,0,S,x)}let v=null;if(r){let S,x;if(d.symmetric&&f.width<e&&f.height<e)S=f.width,x=f.height;else if(f=h(this,ye),l>e||u>e){const O=Math.min(e/l,e/u);S=Math.floor(l*O),x=Math.floor(u*O),h(this,oi)||(f=w(this,zt,bg).call(this,S,x))}const T=new OffscreenCanvas(S,x).getContext("2d",{willReadFrequently:!0});T.drawImage(f,0,0,f.width,f.height,0,0,S,x),v={width:S,height:x,data:T.getImageData(0,0,S,x).data}}return{canvas:b,width:g,height:m,imageData:v}}getImageForAltText(){return h(this,As)}static async deserialize(e,s,r){var x;let l=null;if(e instanceof Ax){const{data:{rect:M,rotation:T,id:O,structParent:L,popupRef:N},container:H,parent:{page:{pageNumber:B}}}=e,G=H.querySelector("canvas"),W=r.imageManager.getFromCanvas(H.id,G);G.remove();const J=((x=await s._structTree.getAriaAttributes(`${T0}${O}`))==null?void 0:x.get("aria-label"))||"";l=e={annotationType:Mt.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:B-1,rect:M.slice(0),rotation:T,id:O,deleted:!1,accessibilityData:{decorative:!1,altText:J},isSvg:!1,structParent:L,popupRef:N}}const u=await super.deserialize(e,s,r),{rect:d,bitmap:f,bitmapUrl:g,bitmapId:m,isSvg:b,accessibilityData:v}=e;m&&r.imageManager.isValidId(m)?(_(u,hn,m),f&&_(u,ye,f)):_(u,ga,g),_(u,oi,b);const[A,S]=u.pageDimensions;return u.width=(d[2]-d[0])/A,u.height=(d[3]-d[1])/S,u.annotationElementId=e.id||null,v&&(u.altTextData=v),u._initialData=l,_(u,lu,!!l),u}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Mt.STAMP,bitmapId:h(this,hn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,oi),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=w(this,zt,vg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:u}=this.serializeAltText(!1);if(!l&&u&&(r.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=w(this,zt,uT).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const d=h(this,oi)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(h(this,hn)))s.stamps.set(h(this,hn),{area:d,serialized:r}),r.bitmap=w(this,zt,vg).call(this,!1);else if(h(this,oi)){const f=s.stamps.get(h(this,hn));d>f.area&&(f.area=d,f.serialized.bitmap.close(),f.serialized.bitmap=w(this,zt,vg).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};ye=new WeakMap,hn=new WeakMap,_r=new WeakMap,ga=new WeakMap,wr=new WeakMap,ru=new WeakMap,As=new WeakMap,ma=new WeakMap,Ss=new WeakMap,oi=new WeakMap,lu=new WeakMap,zt=new WeakSet,Ph=function(e,s=!1){if(!e){this.remove();return}_(this,ye,e.bitmap),s||(_(this,hn,e.id),_(this,oi,e.isSvg)),e.file&&_(this,ru,e.file.name),w(this,zt,i0).call(this)},Fh=function(){if(_(this,_r,null),this._uiManager.enableWaiting(!1),!!h(this,As)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ye)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ye)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},yg=function(){if(h(this,hn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,hn)).then(r=>w(this,zt,Ph).call(this,r,!0)).finally(()=>w(this,zt,Fh).call(this));return}if(h(this,ga)){const r=h(this,ga);_(this,ga,null),this._uiManager.enableWaiting(!0),_(this,_r,this._uiManager.imageManager.getFromUrl(r).then(l=>w(this,zt,Ph).call(this,l)).finally(()=>w(this,zt,Fh).call(this)));return}if(h(this,wr)){const r=h(this,wr);_(this,wr,null),this._uiManager.enableWaiting(!0),_(this,_r,this._uiManager.imageManager.getFromFile(r).then(l=>w(this,zt,Ph).call(this,l)).finally(()=>w(this,zt,Fh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Ih.supportedTypesStr;const s=this._uiManager._signal;_(this,_r,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),w(this,zt,Ph).call(this,l)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>w(this,zt,Fh).call(this))),e.click()},i0=function(){const{div:e}=this;let{width:s,height:r}=h(this,ye);const[l,u]=this.pageDimensions,d=.75;if(this.width)s=this.width*l,r=this.height*u;else if(s>d*l||r>d*u){const b=Math.min(d*l/s,d*u/r);s*=b,r*=b}const[f,g]=this.parentDimensions;this.setDims(s*f/l,r*g/u),this._uiManager.enableWaiting(!1);const m=_(this,As,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),w(this,zt,s0).call(this,s,r),w(this,zt,cT).call(this),h(this,lu)||(this.parent.addUndoableEditor(this),_(this,lu,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,ru)&&m.setAttribute("aria-label",h(this,ru))},oT=function(e,s){var d;const[r,l]=this.parentDimensions;this.width=e/r,this.height=s/l,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,Ss)!==null&&clearTimeout(h(this,Ss)),_(this,Ss,setTimeout(()=>{_(this,Ss,null),w(this,zt,s0).call(this,e,s)},200))},bg=function(e,s){const{width:r,height:l}=h(this,ye);let u=r,d=l,f=h(this,ye);for(;u>2*e||d>2*s;){const g=u,m=d;u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const b=new OffscreenCanvas(u,d);b.getContext("2d").drawImage(f,0,0,g,m,0,0,u,d),f=b.transferToImageBitmap()}return f},s0=function(e,s){const r=new Zb,l=Math.ceil(e*r.sx),u=Math.ceil(s*r.sy),d=h(this,As);if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=h(this,oi)?h(this,ye):w(this,zt,bg).call(this,l,u),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,l,u)},vg=function(e){if(e){if(h(this,oi)){const l=this._uiManager.imageManager.getSvgUrl(h(this,hn));if(l)return l}const s=document.createElement("canvas");return{width:s.width,height:s.height}=h(this,ye),s.getContext("2d").drawImage(h(this,ye),0,0),s.toDataURL()}if(h(this,oi)){const[s,r]=this.pageDimensions,l=Math.round(this.width*s*Rr.PDF_TO_CSS_UNITS),u=Math.round(this.height*r*Rr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(l,u);return d.getContext("2d").drawImage(h(this,ye),0,0,h(this,ye).width,h(this,ye).height,0,0,l,u),d.transferToImageBitmap()}return structuredClone(h(this,ye))},cT=function(){this._uiManager._signal&&(_(this,ma,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&w(this,zt,oT).call(this,s.width,s.height)})),h(this,ma).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,ma))==null||e.disconnect(),_(this,ma,null)},{once:!0}))},uT=function(e){var g;const{rect:s,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,u=e.rect.every((m,b)=>Math.abs(m-s[b])<1),d=e.pageIndex===r,f=(((g=e.accessibilityData)==null?void 0:g.alt)||"")===l;return{isSame:u&&d&&f,isSameAltText:f}},St(Ih,"_type","stamp"),St(Ih,"_editorType",Mt.STAMP);let n0=Ih;var eo,ou,Es,xr,ya,ci,Tr,cu,uu,_n,ba,mt,Cr,fn,hT,r0,l0,o0,Ag;const Fi=class Fi{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:l,annotationLayer:u,drawLayer:d,textLayer:f,viewport:g,l10n:m}){R(this,fn);R(this,eo);R(this,ou,!1);R(this,Es,null);R(this,xr,null);R(this,ya,null);R(this,ci,new Map);R(this,Tr,!1);R(this,cu,!1);R(this,uu,!1);R(this,_n,null);R(this,ba,null);R(this,mt);const b=[...h(Fi,Cr).values()];if(!Fi._initialized){Fi._initialized=!0;for(const v of b)v.initialize(m,t)}t.registerEditorTypes(b),_(this,mt,t),this.pageIndex=e,this.div=s,_(this,eo,l),_(this,Es,u),this.viewport=g,_(this,_n,f),this.drawLayer=d,this._structTree=r,h(this,mt).addLayer(this)}get isEmpty(){return h(this,ci).size===0}get isInvisible(){return this.isEmpty&&h(this,mt).getMode()===Mt.NONE}updateToolbar(t){h(this,mt).updateToolbar(t)}updateMode(t=h(this,mt).getMode()){switch(w(this,fn,Ag).call(this),t){case Mt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Mt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Mt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of h(Fi,Cr).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,_n))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,mt).getMode()!==Mt.INK)return;if(!t){for(const s of h(this,ci).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,mt).setEditingState(t)}addCommands(t){h(this,mt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,Es))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of h(this,ci).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(h(this,mt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!h(this,Es))return;const e=h(this,Es).getEditableAnnotations();for(const s of e){if(s.hide(),h(this,mt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;_(this,uu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of h(this,ci).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(h(this,Es)){const l=h(this,Es).getEditableAnnotations();for(const u of l){const{id:d}=u.data;if(h(this,mt).isDeletedAnnotationElement(d))continue;let f=e.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=t.get(d),f&&(h(this,mt).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}w(this,fn,Ag).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const l of h(Fi,Cr).values())s.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),_(this,uu,!1)}getEditableAnnotation(t){var e;return((e=h(this,Es))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,mt).getActive()!==t&&h(this,mt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,_n))!=null&&t.div&&!h(this,ba)){_(this,ba,new AbortController);const e=h(this,mt).combinedSignal(h(this,ba));h(this,_n).div.addEventListener("pointerdown",w(this,fn,hT).bind(this),{signal:e}),h(this,_n).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,_n))!=null&&t.div&&h(this,ba)&&(h(this,ba).abort(),_(this,ba,null),h(this,_n).div.classList.remove("highlighting"))}enableClick(){if(h(this,xr))return;_(this,xr,new AbortController);const t=h(this,mt).combinedSignal(h(this,xr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,xr))==null||t.abort(),_(this,xr,null)}attach(t){h(this,ci).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,mt).isDeletedAnnotationElement(e)&&h(this,mt).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,ci).delete(t.id),(e=h(this,eo))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,uu)&&t.annotationElementId&&h(this,mt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,mt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,cu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,mt).addDeletedAnnotationElement(t.annotationElementId),Jt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,mt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,mt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,ya)&&(t._focusEventsAllowed=!1,_(this,ya,setTimeout(()=>{_(this,ya,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,mt)._signal}),e.focus())},0))),t._structTreeParentId=(s=h(this,eo))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return h(this,mt).getId()}combinedSignal(t){return h(this,mt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,fn,r0))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,mt).updateToolbar(t),h(this,mt).updateMode(t);const{offsetX:s,offsetY:r}=w(this,fn,o0).call(this),l=this.getNextId(),u=w(this,fn,l0).call(this,{parent:this,id:l,x:s,y:r,uiManager:h(this,mt),isCentered:!0,...e});u&&this.add(u)}async deserialize(t){var e;return await((e=h(Fi,Cr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,mt)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),l=w(this,fn,l0).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,mt),isCentered:e,...s});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(w(this,fn,o0).call(this),!0)}setSelected(t){h(this,mt).setSelected(t)}toggleSelected(t){h(this,mt).toggleSelected(t)}unselect(t){h(this,mt).unselect(t)}pointerup(t){const{isMac:e}=Dn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,Tr)){if(_(this,Tr,!1),!h(this,ou)){_(this,ou,!0);return}if(h(this,mt).getMode()===Mt.STAMP){h(this,mt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,mt).getMode()===Mt.HIGHLIGHT&&this.enableTextSelection(),h(this,Tr)){_(this,Tr,!1);return}const{isMac:e}=Dn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;_(this,Tr,!0);const s=h(this,mt).getActive();_(this,ou,!s||s.isEmpty())}findNewParent(t,e,s){const r=h(this,mt).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=h(this,mt).getActive())==null?void 0:t.parent)===this&&(h(this,mt).commitOrRemove(),h(this,mt).setActiveEditor(null)),h(this,ya)&&(clearTimeout(h(this,ya)),_(this,ya,null));for(const s of h(this,ci).values())(e=h(this,eo))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,h(this,ci).clear(),h(this,mt).removeLayer(this)}render({viewport:t}){this.viewport=t,no(this.div,t);for(const e of h(this,mt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,mt).commitOrRemove(),w(this,fn,Ag).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,no(this.div,{rotation:s}),e!==s)for(const r of h(this,ci).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,mt).viewParameters.realScale}};eo=new WeakMap,ou=new WeakMap,Es=new WeakMap,xr=new WeakMap,ya=new WeakMap,ci=new WeakMap,Tr=new WeakMap,cu=new WeakMap,uu=new WeakMap,_n=new WeakMap,ba=new WeakMap,mt=new WeakMap,Cr=new WeakMap,fn=new WeakSet,hT=function(t){h(this,mt).unselectAll();const{target:e}=t;if(e===h(this,_n).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,_n).div.contains(e)){const{isMac:s}=Dn.platform;if(t.button!==0||t.ctrlKey&&s)return;h(this,mt).showAllEditors("highlight",!0,!0),h(this,_n).div.classList.add("free"),this.toggleDrawing(),Rg.startHighlighting(this,h(this,mt).direction==="ltr",{target:h(this,_n).div,x:t.x,y:t.y}),h(this,_n).div.addEventListener("pointerup",()=>{h(this,_n).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,mt)._signal}),t.preventDefault()}},r0=function(){return h(Fi,Cr).get(h(this,mt).getMode())},l0=function(t){const e=h(this,fn,r0);return e?new e.prototype.constructor(t):null},o0=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),u=Math.max(0,e),d=Math.min(window.innerWidth,t+s),f=Math.min(window.innerHeight,e+r),g=(l+d)/2-t,m=(u+f)/2-e,[b,v]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:b,offsetY:v}},Ag=function(){_(this,cu,!0);for(const t of h(this,ci).values())t.isEmpty()&&t.remove();_(this,cu,!1)},St(Fi,"_initialized",!1),R(Fi,Cr,new Map([zv,Yv,n0,Rg].map(t=>[t._editorType,t])));let a0=Fi;var _s,af,Ne,va,rf,u0,lo,h0,dT;const on=class on{constructor({pageIndex:t}){R(this,lo);R(this,_s,null);R(this,af,0);R(this,Ne,new Map);R(this,va,new Map);this.pageIndex=t}setParent(t){if(!h(this,_s)){_(this,_s,t);return}if(h(this,_s)!==t){if(h(this,Ne).size>0)for(const e of h(this,Ne).values())e.remove(),t.append(e);_(this,_s,t)}}static get _svgFactory(){return Ut(this,"_svgFactory",new F0)}draw(t,e,s,r=!1){const l=Cn(this,af)._++,u=w(this,lo,h0).call(this,t.box);u.classList.add(...t.classNamesForDrawing);const d=on._svgFactory.createElement("defs");u.append(d);const f=on._svgFactory.createElement("path");d.append(f);const g=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",g),f.setAttribute("d",t.toSVGPath()),r&&h(this,va).set(l,f);const m=w(this,lo,dT).call(this,d,g),b=on._svgFactory.createElement("use");return u.append(b),u.setAttribute("fill",e),u.setAttribute("fill-opacity",s),b.setAttribute("href",`#${g}`),h(this,Ne).set(l,u),{id:l,clipPathId:`url(#${m})`}}drawOutline(t){const e=Cn(this,af)._++,s=w(this,lo,h0).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=on._svgFactory.createElement("defs");s.append(r);const l=on._svgFactory.createElement("path");r.append(l);const u=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",u),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=on._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const b=on._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=on._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${u}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=on._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const g=f.cloneNode();return s.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),h(this,Ne).set(e,s),e}finalizeLine(t,e){const s=h(this,va).get(t);h(this,va).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,Ne).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){h(this,va).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;w(s=on,rf,u0).call(s,h(this,Ne).get(t),e)}show(t,e){h(this,Ne).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,Ne).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,Ne).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,Ne).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,Ne).get(t).classList.add(e)}removeClass(t,e){h(this,Ne).get(t).classList.remove(e)}getSVGRoot(t){return h(this,Ne).get(t)}remove(t){h(this,va).delete(t),h(this,_s)!==null&&(h(this,Ne).get(t).remove(),h(this,Ne).delete(t))}destroy(){_(this,_s,null);for(const t of h(this,Ne).values())t.remove();h(this,Ne).clear(),h(this,va).clear()}};_s=new WeakMap,af=new WeakMap,Ne=new WeakMap,va=new WeakMap,rf=new WeakSet,u0=function(t,{x:e=0,y:s=0,width:r=1,height:l=1}={}){const{style:u}=t;u.top=`${100*s}%`,u.left=`${100*e}%`,u.width=`${100*r}%`,u.height=`${100*l}%`},lo=new WeakSet,h0=function(t){var s;const e=on._svgFactory.create(1,1,!0);return h(this,_s).append(e),e.setAttribute("aria-hidden",!0),w(s=on,rf,u0).call(s,e,t),e},dT=function(t,e){const s=on._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const l=on._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r},R(on,rf);let c0=on;var HO=Tt.AbortException,zO=Tt.AnnotationEditorLayer,IO=Tt.AnnotationEditorParamsType,UO=Tt.AnnotationEditorType,BO=Tt.AnnotationEditorUIManager,fT=Tt.AnnotationLayer,pT=Tt.AnnotationMode,jO=Tt.ColorPicker,GO=Tt.DOMSVGFactory,qO=Tt.DrawLayer,VO=Tt.FeatureTest,z0=Tt.GlobalWorkerOptions,XO=Tt.ImageKind,YO=Tt.InvalidPDFException,$O=Tt.MissingPDFException,KO=Tt.OPS,WO=Tt.OutputScale,QO=Tt.PDFDataRangeTransport,ZO=Tt.PDFDateString,JO=Tt.PDFWorker,tk=Tt.PasswordResponses,ek=Tt.PermissionFlag,nk=Tt.PixelsPerInch,ik=Tt.RenderingCancelledException,gT=Tt.TextLayer,sk=Tt.UnexpectedResponseException,ak=Tt.Util,rk=Tt.VerbosityLevel,lk=Tt.XfaLayer,ok=Tt.build,ck=Tt.createValidAbsoluteUrl,uk=Tt.fetchData,mT=Tt.getDocument,hk=Tt.getFilenameFromUrl,dk=Tt.getPdfFilenameFromUrl,fk=Tt.getXfaPageViewport,pk=Tt.isDataScheme,gk=Tt.isPdfFile,mk=Tt.noContextMenu,yk=Tt.normalizeUnicode,bk=Tt.setLayerDimensions,vk=Tt.shadow,yT=Tt.version;const Ak=Object.freeze(Object.defineProperty({__proto__:null,AbortException:HO,AnnotationEditorLayer:zO,AnnotationEditorParamsType:IO,AnnotationEditorType:UO,AnnotationEditorUIManager:BO,AnnotationLayer:fT,AnnotationMode:pT,ColorPicker:jO,DOMSVGFactory:GO,DrawLayer:qO,FeatureTest:VO,GlobalWorkerOptions:z0,ImageKind:XO,InvalidPDFException:YO,MissingPDFException:$O,OPS:KO,OutputScale:WO,PDFDataRangeTransport:QO,PDFDateString:ZO,PDFWorker:JO,PasswordResponses:tk,PermissionFlag:ek,PixelsPerInch:nk,RenderingCancelledException:ik,TextLayer:gT,UnexpectedResponseException:sk,Util:ak,VerbosityLevel:rk,XfaLayer:lk,build:ok,createValidAbsoluteUrl:ck,fetchData:uk,getDocument:mT,getFilenameFromUrl:hk,getPdfFilenameFromUrl:dk,getXfaPageViewport:fk,isDataScheme:pk,isPdfFile:gk,noContextMenu:mk,normalizeUnicode:yk,setLayerDimensions:bk,shadow:vk,version:yT},Symbol.toStringTag,{value:"Module"}));var Qe=function(c,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,l;s<r;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return c.concat(l||Array.prototype.slice.call(t))},Sk=["onCopy","onCut","onPaste"],Ek=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],_k=["onFocus","onBlur"],wk=["onInput","onInvalid","onReset","onSubmit"],xk=["onLoad","onError"],Tk=["onKeyDown","onKeyPress","onKeyUp"],Ck=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Rk=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Mk=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Lk=["onSelect"],Dk=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Ok=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],kk=["onScroll"],Nk=["onWheel"],Pk=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Fk=["onTransitionEnd"],Hk=["onToggle"],zk=["onChange"],Ik=Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe(Qe([],Sk,!0),Ek,!0),_k,!0),wk,!0),xk,!0),Tk,!0),Ck,!0),Rk,!0),Mk,!0),Lk,!0),Dk,!0),Ok,!0),kk,!0),Nk,!0),Pk,!0),Fk,!0),zk,!0),Hk,!0);function bT(c,t){var e={};return Ik.forEach(function(s){var r=c[s];r&&(t?e[s]=function(l){return r(l,t(s))}:e[s]=r)}),e}function pf(c){var t=!1,e=new Promise(function(s,r){c.then(function(l){return!t&&s(l)}).catch(function(l){return!t&&r(l)})});return{promise:e,cancel:function(){t=!0}}}function vT(c){var t,e,s="";if(typeof c=="string"||typeof c=="number")s+=c;else if(typeof c=="object")if(Array.isArray(c)){var r=c.length;for(t=0;t<r;t++)c[t]&&(e=vT(c[t]))&&(s&&(s+=" "),s+=e)}else for(e in c)c[e]&&(s&&(s+=" "),s+=e);return s}function am(){for(var c,t,e=0,s="",r=arguments.length;e<r;e++)(c=arguments[e])&&(t=vT(c))&&(s&&(s+=" "),s+=t);return s}var Uk="Invariant failed";function le(c,t){if(!c)throw new Error(Uk)}var jb,__;function Bk(){if(__)return jb;__=1;var c=function(){};return jb=c,jb}var jk=Bk();const wn=P_(jk);var w_=Object.prototype.hasOwnProperty;function x_(c,t,e){for(e of c.keys())if(hc(e,t))return e}function hc(c,t){var e,s,r;if(c===t)return!0;if(c&&t&&(e=c.constructor)===t.constructor){if(e===Date)return c.getTime()===t.getTime();if(e===RegExp)return c.toString()===t.toString();if(e===Array){if((s=c.length)===t.length)for(;s--&&hc(c[s],t[s]););return s===-1}if(e===Set){if(c.size!==t.size)return!1;for(s of c)if(r=s,r&&typeof r=="object"&&(r=x_(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(c.size!==t.size)return!1;for(s of c)if(r=s[0],r&&typeof r=="object"&&(r=x_(t,r),!r)||!hc(s[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)c=new Uint8Array(c),t=new Uint8Array(t);else if(e===DataView){if((s=c.byteLength)===t.byteLength)for(;s--&&c.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(c)){if((s=c.byteLength)===t.byteLength)for(;s--&&c[s]===t[s];);return s===-1}if(!e||typeof c=="object"){s=0;for(e in c)if(w_.call(c,e)&&++s&&!w_.call(t,e)||!(e in t)||!hc(c[e],t[e]))return!1;return Object.keys(t).length===s}}return c!==c&&t!==t}const AT=F.createContext(null);function dc({children:c,type:t}){return et.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:c})}const Gk="noopener noreferrer nofollow";class qk{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return le(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){le(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{le(this.pdfDocument),le(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{le(Array.isArray(e));const s=e[0];new Promise(r=>{le(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(l=>{r(l)}).catch(()=>{le(!1)}):typeof s=="number"?r(s):le(!1)}).then(r=>{const l=r+1;le(this.pdfViewer),le(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;le(this.pdfViewer),le(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||Gk,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const T_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},rm=typeof window<"u",ST=rm&&window.location.protocol==="file:";function Vk(c){return typeof c<"u"}function Jr(c){return Vk(c)&&c!==null}function Xk(c){return typeof c=="string"}function Yk(c){return c instanceof ArrayBuffer}function $k(c){return le(rm),c instanceof Blob}function d0(c){return Xk(c)&&/^data:/.test(c)}function C_(c){le(d0(c));const[t="",e=""]=c.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function Kk(){return rm&&window.devicePixelRatio||1}const ET="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function R_(){wn(!ST,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${ET}`)}function Wk(){wn(!ST,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${ET}`)}function ao(c){c!=null&&c.cancel&&c.cancel()}function f0(c,t){return Object.defineProperty(c,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(c,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(c,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(c,"originalHeight",{get(){return this.view[3]},configurable:!0}),c}function Qk(c){return c.name==="RenderingCancelledException"}function Zk(c){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(c)})}function Jk(c,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return c}}function du(){return F.useReducer(Jk,{value:void 0,error:void 0})}var tN=function(c,t,e,s){function r(l){return l instanceof e?l:new e(function(u){u(l)})}return new(e||(e=Promise))(function(l,u){function d(m){try{g(s.next(m))}catch(b){u(b)}}function f(m){try{g(s.throw(m))}catch(b){u(b)}}function g(m){m.done?l(m.value):r(m.value).then(d,f)}g((s=s.apply(c,t||[])).next())})},M_=function(c,t){var e={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&t.indexOf(s)<0&&(e[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(c);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(c,s[r])&&(e[s[r]]=c[s[r]]);return e};const{PDFDataRangeTransport:eN}=Ak,nN=(c,t)=>{switch(t){case T_.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");c(e);break}case T_.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");c(e);break}}};function L_(c){return typeof c=="object"&&c!==null&&("data"in c||"range"in c||"url"in c)}const iN=F.forwardRef(function(t,e){var{children:s,className:r,error:l="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:d,file:f,inputRef:g,imageResourcesPath:m,loading:b="Loading PDF",noData:v="No PDF file specified.",onItemClick:A,onLoadError:S,onLoadProgress:x,onLoadSuccess:M,onPassword:T=nN,onSourceError:O,onSourceSuccess:L,options:N,renderMode:H,rotate:B}=t,G=M_(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,J]=du(),{value:st,error:it}=W,[gt,yt]=du(),{value:ft,error:ht}=gt,U=F.useRef(new qk),X=F.useRef([]),Z=F.useRef(void 0),_t=F.useRef(void 0);f&&f!==Z.current&&L_(f)&&(wn(!hc(f,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=f),N&&N!==_t.current&&(wn(!hc(N,_t.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),_t.current=N);const k=F.useRef({scrollPageIntoView:Yt=>{const{dest:he,pageNumber:Ve,pageIndex:Me=Ve-1}=Yt;if(A){A({dest:he,pageIndex:Me,pageNumber:Ve});return}const sn=X.current[Me];if(sn){sn.scrollIntoView();return}wn(!1,`An internal link leading to page ${Ve} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});F.useImperativeHandle(e,()=>({linkService:U,pages:X,viewer:k}),[]);function $(){L&&L()}function nt(){it&&(wn(!1,it.toString()),O&&O(it))}function tt(){J({type:"RESET"})}F.useEffect(tt,[f,J]);const ot=F.useCallback(()=>tN(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return d0(f)?{data:C_(f)}:(R_(),{url:f});if(f instanceof eN)return{range:f};if(Yk(f))return{data:f};if(rm&&$k(f))return{data:yield Zk(f)};if(le(typeof f=="object"),le(L_(f)),"url"in f&&typeof f.url=="string"){if(d0(f.url)){const{url:Yt}=f,he=M_(f,["url"]),Ve=C_(Yt);return Object.assign({data:Ve},he)}R_()}return f}),[f]);F.useEffect(()=>{const Yt=pf(ot());return Yt.promise.then(he=>{J({type:"RESOLVE",value:he})}).catch(he=>{J({type:"REJECT",error:he})}),()=>{ao(Yt)}},[ot,J]),F.useEffect(()=>{if(!(typeof st>"u")){if(st===!1){nt();return}$()}},[st]);function wt(){ft&&(M&&M(ft),X.current=new Array(ft.numPages),U.current.setDocument(ft))}function ct(){ht&&(wn(!1,ht.toString()),S&&S(ht))}F.useEffect(function(){yt({type:"RESET"})},[yt,st]),F.useEffect(function(){if(!st)return;const he=N?Object.assign(Object.assign({},st),N):st,Ve=mT(he);x&&(Ve.onProgress=x),T&&(Ve.onPassword=T);const Me=Ve,sn=Me.promise.then(kr=>{yt({type:"RESOLVE",value:kr})}).catch(kr=>{Me.destroyed||yt({type:"REJECT",error:kr})});return()=>{sn.finally(()=>Me.destroy())}},[N,yt,st]),F.useEffect(()=>{if(!(typeof ft>"u")){if(ft===!1){ct();return}wt()}},[ft]),F.useEffect(function(){U.current.setViewer(k.current),U.current.setExternalLinkRel(u),U.current.setExternalLinkTarget(d)},[u,d]);const xt=F.useCallback((Yt,he)=>{X.current[Yt]=he},[]),It=F.useCallback(Yt=>{delete X.current[Yt]},[]),Re=F.useMemo(()=>({imageResourcesPath:m,linkService:U.current,onItemClick:A,pdf:ft,registerPage:xt,renderMode:H,rotate:B,unregisterPage:It}),[m,A,ft,xt,H,B,It]),te=F.useMemo(()=>bT(G,()=>ft),[G,ft]);function Ji(){return et.jsx(AT.Provider,{value:Re,children:s})}function Rs(){return f?ft==null?et.jsx(dc,{type:"loading",children:typeof b=="function"?b():b}):ft===!1?et.jsx(dc,{type:"error",children:typeof l=="function"?l():l}):Ji():et.jsx(dc,{type:"no-data",children:typeof v=="function"?v():v})}return et.jsx("div",Object.assign({className:am("react-pdf__Document",r),ref:g,style:{"--scale-factor":"1"}},te,{children:Rs()}))});function _T(){return F.useContext(AT)}function wT(){for(var c=[],t=0;t<arguments.length;t++)c[t]=arguments[t];var e=c.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(l){e.forEach(function(u){typeof u=="function"?u(l):u&&(u.current=l)})}}const xT=F.createContext(null),TT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},sN=/^H(\d+)$/;function aN(c){return c in TT}function lm(c){return"children"in c}function CT(c){return lm(c)?c.children.length===1&&0 in c.children&&"id"in c.children[0]:!1}function rN(c){const t={};if(lm(c)){const{role:e}=c,s=e.match(sN);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(aN(e)){const r=TT[e];r&&(t.role=r)}}return t}function RT(c){const t={};if(lm(c)){if(c.alt!==void 0&&(t["aria-label"]=c.alt),c.lang!==void 0&&(t.lang=c.lang),CT(c)){const[e]=c.children;if(e){const s=RT(e);return Object.assign(Object.assign({},t),s)}}}else"id"in c&&(t["aria-owns"]=c.id);return t}function lN(c){return c?Object.assign(Object.assign({},rN(c)),RT(c)):null}function MT({className:c,node:t}){const e=F.useMemo(()=>lN(t),[t]),s=F.useMemo(()=>!lm(t)||CT(t)?null:t.children.map((r,l)=>et.jsx(MT,{node:r},l)),[t]);return et.jsx("span",Object.assign({className:c},e,{children:s}))}function om(){return F.useContext(xT)}function oN(){const c=om();le(c);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=c,[s,r]=du(),{value:l,error:u}=s,{customTextRenderer:d,page:f}=c;function g(){l&&e&&e(l)}function m(){u&&(wn(!1,u.toString()),t&&t(u))}return F.useEffect(function(){r({type:"RESET"})},[r,f]),F.useEffect(function(){if(d||!f)return;const v=pf(f.getStructTree()),A=v;return v.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>ao(A)},[d,f,r]),F.useEffect(()=>{if(l!==void 0){if(l===!1){m();return}g()}},[l]),l?et.jsx(MT,{className:"react-pdf__Page__structTree structTree",node:l}):null}const D_=pT;function cN(c){const t=om();le(t);const e=Object.assign(Object.assign({},t),c),{_className:s,canvasBackground:r,devicePixelRatio:l=Kk(),onRenderError:u,onRenderSuccess:d,page:f,renderForms:g,renderTextLayer:m,rotate:b,scale:v}=e,{canvasRef:A}=c;le(f);const S=F.useRef(null);function x(){f&&d&&d(f0(f,v))}function M(N){Qk(N)||(wn(!1,N.toString()),u&&u(N))}const T=F.useMemo(()=>f.getViewport({scale:v*l,rotation:b}),[l,f,b,v]),O=F.useMemo(()=>f.getViewport({scale:v,rotation:b}),[f,b,v]);F.useEffect(function(){if(!f)return;f.cleanup();const{current:H}=S;if(!H)return;H.width=T.width,H.height=T.height,H.style.width=`${Math.floor(O.width)}px`,H.style.height=`${Math.floor(O.height)}px`,H.style.visibility="hidden";const B={annotationMode:g?D_.ENABLE_FORMS:D_.ENABLE,canvasContext:H.getContext("2d",{alpha:!1}),viewport:T};r&&(B.background=r);const G=f.render(B),W=G;return G.promise.then(()=>{H.style.visibility="",x()}).catch(M),()=>ao(W)},[r,f,g,T,O]);const L=F.useCallback(()=>{const{current:N}=S;N&&(N.width=0,N.height=0)},[]);return F.useEffect(()=>L,[L]),et.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:wT(A,S),style:{display:"block",userSelect:"none"},children:m?et.jsx(oN,{}):null})}function uN(c){return"str"in c}function hN(){const c=om();le(c);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:u,pageIndex:d,pageNumber:f,rotate:g,scale:m}=c;le(u);const[b,v]=du(),{value:A,error:S}=b,x=F.useRef(null);wn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){A&&s&&s(A)}function T(){S&&(wn(!1,S.toString()),e&&e(S))}F.useEffect(function(){v({type:"RESET"})},[u,v]),F.useEffect(function(){if(!u)return;const W=pf(u.getTextContent()),J=W;return W.promise.then(st=>{v({type:"RESOLVE",value:st})}).catch(st=>{v({type:"REJECT",error:st})}),()=>ao(J)},[u,v]),F.useEffect(()=>{if(A!==void 0){if(A===!1){T();return}M()}},[A]);const O=F.useCallback(()=>{l&&l()},[l]),L=F.useCallback(G=>{wn(!1,G.toString()),r&&r(G)},[r]);function N(){const G=x.current;G&&G.classList.add("selecting")}function H(){const G=x.current;G&&G.classList.remove("selecting")}const B=F.useMemo(()=>u.getViewport({scale:m,rotation:g}),[u,g,m]);return F.useLayoutEffect(function(){if(!u||!A)return;const{current:W}=x;if(!W)return;W.innerHTML="";const J=u.streamTextContent({includeMarkedContent:!0}),st={container:W,textContentSource:J,viewport:B},it=new gT(st),gt=it;return it.render().then(()=>{const yt=document.createElement("div");yt.className="endOfContent",W.append(yt);const ft=W.querySelectorAll('[role="presentation"]');if(t){let ht=0;A.items.forEach((U,X)=>{if(!uN(U))return;const Z=ft[ht];if(!Z)return;const _t=t(Object.assign({pageIndex:d,pageNumber:f,itemIndex:X},U));Z.innerHTML=_t,ht+=U.str&&U.hasEOL?2:1})}O()}).catch(L),()=>ao(gt)},[t,L,O,u,d,f,A,B]),et.jsx("div",{className:am("react-pdf__Page__textContent","textLayer"),onMouseUp:H,onMouseDown:N,ref:x})}function dN(){const c=_T(),t=om();le(t);const e=Object.assign(Object.assign({},c),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:g,pdf:m,renderForms:b,rotate:v,scale:A=1}=e;le(m),le(g),le(r);const[S,x]=du(),{value:M,error:T}=S,O=F.useRef(null);wn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){M&&u&&u(M)}function N(){T&&(wn(!1,T.toString()),l&&l(T))}F.useEffect(function(){x({type:"RESET"})},[x,g]),F.useEffect(function(){if(!g)return;const J=pf(g.getAnnotations()),st=J;return J.promise.then(it=>{x({type:"RESOLVE",value:it})}).catch(it=>{x({type:"REJECT",error:it})}),()=>{ao(st)}},[x,g]),F.useEffect(()=>{if(M!==void 0){if(M===!1){N();return}L()}},[M]);function H(){f&&f()}function B(W){wn(!1,`${W}`),d&&d(W)}const G=F.useMemo(()=>g.getViewport({scale:A,rotation:v}),[g,v,A]);return F.useEffect(function(){if(!m||!g||!r||!M)return;const{current:J}=O;if(!J)return;const st=G.clone({dontFlip:!0}),it={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:J,l10n:null,page:g,structTreeLayer:null,viewport:st},gt={annotations:M,annotationStorage:m.annotationStorage,div:J,imageResourcesPath:s,linkService:r,page:g,renderForms:b,viewport:st};J.innerHTML="";try{new fT(it).render(gt),H()}catch(yt){B(yt)}return()=>{}},[M,s,r,g,m,b,G]),et.jsx("div",{className:am("react-pdf__Page__annotations","annotationLayer"),ref:O})}var fN=function(c,t){var e={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&t.indexOf(s)<0&&(e[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(c);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(c,s[r])&&(e[s[r]]=c[s[r]]);return e};const O_=1;function pN(c){const t=_T(),e=Object.assign(Object.assign({},t),c),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:u,children:d,className:f,customRenderer:g,customTextRenderer:m,devicePixelRatio:b,error:v="Failed to load the page.",height:A,inputRef:S,loading:x="Loading page",noData:M="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:O,onGetStructTreeError:L,onGetStructTreeSuccess:N,onGetTextError:H,onGetTextSuccess:B,onLoadError:G,onLoadSuccess:W,onRenderAnnotationLayerError:J,onRenderAnnotationLayerSuccess:st,onRenderError:it,onRenderSuccess:gt,onRenderTextLayerError:yt,onRenderTextLayerSuccess:ft,pageIndex:ht,pageNumber:U,pdf:X,registerPage:Z,renderAnnotationLayer:_t=!0,renderForms:k=!1,renderMode:$="canvas",renderTextLayer:nt=!0,rotate:tt,scale:ot=O_,unregisterPage:wt,width:ct}=e,xt=fN(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[It,Re]=du(),{value:te,error:Ji}=It,Rs=F.useRef(null);le(X);const Yt=Jr(U)?U-1:ht??null,he=U??(Jr(ht)?ht+1:null),Ve=tt??(te?te.rotate:null),Me=F.useMemo(()=>{if(!te)return null;let Le=1;const Yn=ot??O_;if(ct||A){const Xe=te.getViewport({scale:1,rotation:Ve});ct?Le=ct/Xe.width:A&&(Le=A/Xe.height)}return Yn*Le},[A,te,Ve,ot,ct]);F.useEffect(function(){return()=>{Jr(Yt)&&r&&wt&&wt(Yt)}},[r,X,Yt,wt]);function sn(){if(W){if(!te||!Me)return;W(f0(te,Me))}if(r&&Z){if(!Jr(Yt)||!Rs.current)return;Z(Yt,Rs.current)}}function kr(){Ji&&(wn(!1,Ji.toString()),G&&G(Ji))}F.useEffect(function(){Re({type:"RESET"})},[Re,X,Yt]),F.useEffect(function(){if(!X||!he)return;const Yn=pf(X.getPage(he)),Xe=Yn;return Yn.promise.then(gu=>{Re({type:"RESOLVE",value:gu})}).catch(gu=>{Re({type:"REJECT",error:gu})}),()=>ao(Xe)},[Re,X,he]),F.useEffect(()=>{if(te!==void 0){if(te===!1){kr();return}sn()}},[te,Me]);const gf=F.useMemo(()=>te&&Jr(Yt)&&he&&Jr(Ve)&&Jr(Me)?{_className:s,canvasBackground:l,customTextRenderer:m,devicePixelRatio:b,onGetAnnotationsError:T,onGetAnnotationsSuccess:O,onGetStructTreeError:L,onGetStructTreeSuccess:N,onGetTextError:H,onGetTextSuccess:B,onRenderAnnotationLayerError:J,onRenderAnnotationLayerSuccess:st,onRenderError:it,onRenderSuccess:gt,onRenderTextLayerError:yt,onRenderTextLayerSuccess:ft,page:te,pageIndex:Yt,pageNumber:he,renderForms:k,renderTextLayer:nt,rotate:Ve,scale:Me}:null,[s,l,m,b,T,O,L,N,H,B,J,st,it,gt,yt,ft,te,Yt,he,k,nt,Ve,Me]),mf=F.useMemo(()=>bT(xt,()=>te&&(Me?f0(te,Me):void 0)),[xt,te,Me]),Ms=`${Yt}@${Me}/${Ve}`;function cm(){switch($){case"custom":return le(g),et.jsx(g,{},`${Ms}_custom`);case"none":return null;case"canvas":default:return et.jsx(cN,{canvasRef:u},`${Ms}_canvas`)}}function yf(){return nt?et.jsx(hN,{},`${Ms}_text`):null}function um(){return _t?et.jsx(dN,{},`${Ms}_annotations`):null}function hm(){return et.jsxs(xT.Provider,{value:gf,children:[cm(),yf(),um(),d]})}function Nr(){return he?X===null||te===void 0||te===null?et.jsx(dc,{type:"loading",children:typeof x=="function"?x():x}):X===!1||te===!1?et.jsx(dc,{type:"error",children:typeof v=="function"?v():v}):hm():et.jsx(dc,{type:"no-data",children:typeof M=="function"?M():M})}return et.jsx("div",Object.assign({className:am(s,f),"data-page-number":he,ref:wT(S,Rs),style:{"--scale-factor":`${Me}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},mf,{children:Nr()}))}Wk();z0.workerSrc="pdf.worker.mjs";z0.workerSrc=`https://unpkg.com/pdfjs-dist@${yT}/legacy/build/pdf.worker.min.mjs`;const gN=kt.div`
  max-width: 100%;
  margin: 0 auto;
  padding: 1rem;
  color: #ffffff;
  direction: rtl;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,mN=kt.h1`
  color: #d4af37;
  margin-bottom: 1rem;
  text-align: center;
  font-size: 2rem;
`,yN=kt.div`
  background: rgba(10, 10, 10, 0.5);
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid rgba(212, 175, 55, 0.1);
  backdrop-filter: blur(10px);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  flex: 1;
  width: 35%;
  max-width: 35%;
  overflow: hidden;
  min-height: 600px;
`,bN=kt.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-direction: column;
  gap: 1rem;
  width: 100%;
  height: 100%;
  flex: 1;
`,vN=kt.div`
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  background: white;
  border-radius: 4px;
  padding: 0.5rem;
  max-width: 100%;
  overflow: hidden;
  min-height: 500px;
  min-width: 350px;
  width: 100%;
  flex: 1;
`,LT=kt.div`
  color: #ff6b6b;
  text-align: center;
  padding: 1rem;
  background: rgba(255, 107, 107, 0.1);
  border-radius: 4px;
  margin: 1rem 0;
`,AN=kt.div`
  display: flex;
  gap: 1rem;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 0.5rem 0;
  position: relative;
`,p0=kt.button`
  background: rgba(212, 175, 55, 0.2);
  border: 1px solid rgba(212, 175, 55, 0.3);
  color: #d4af37;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background: rgba(212, 175, 55, 0.3);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,SN=kt.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,EN=kt.input`
  background: rgba(212, 175, 55, 0.1);
  border: 1px solid rgba(212, 175, 55, 0.3);
  color: #d4af37;
  padding: 0.5rem;
  border-radius: 4px;
  width: 60px;
  text-align: center;
  direction: ltr;

  &:focus {
    outline: none;
    border-color: rgba(212, 175, 55, 0.5);
  }

  /* Hide number input spinners */
  &::-webkit-inner-spin-button,
  &::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  /* Firefox */
  &[type=number] {
    -moz-appearance: textfield;
  }
`,_N=kt.span`
  color: #d4af37;
  font-size: 1.1rem;
`,wN=kt(p0)`
  position: absolute;
  right: 0;
  background: rgba(46, 204, 113, 0.2);
  border-color: rgba(46, 204, 113, 0.3);
  color: #2ecc71;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  min-width: 40px;
  height: 40px;

  &:hover {
    background: rgba(46, 204, 113, 0.3);
  }

  svg {
    width: 20px;
    height: 20px;
  }
`,DT=F.memo(({pageNumber:c,scale:t})=>et.jsx(vN,{children:et.jsx(pN,{pageNumber:c,renderTextLayer:!0,renderAnnotationLayer:!0,scale:t,loading:et.jsx("div",{children:" ..."}),error:et.jsx(LT,{children:"  "}),width:window.innerWidth>1200?800:window.innerWidth-200})}));DT.displayName="MemoizedPage";const OT=F.memo(({pageNumber:c,numPages:t,onPageChange:e,onPageInputChange:s,onPageInputSubmit:r,inputPage:l,onDownload:u})=>et.jsxs(AN,{children:[et.jsx(p0,{type:"button",disabled:c<=1,onClick:()=>e(-1),children:" "}),et.jsxs(SN,{children:[et.jsx("form",{onSubmit:r,children:et.jsx(EN,{type:"number",min:"1",max:t,value:l,onChange:s,placeholder:c})}),et.jsxs(_N,{children:[" ",t||"--"]})]}),et.jsx(p0,{type:"button",disabled:c>=(t||0),onClick:()=>e(1),children:" "}),et.jsx(wN,{onClick:u,title:" PDF",children:et.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[et.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),et.jsx("polyline",{points:"7 10 12 15 17 10"}),et.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})})]}));OT.displayName="MemoizedControls";function xN(){const[c,t]=F.useState(null),[e,s]=F.useState(1),[r,l]=F.useState(""),[u]=F.useState(.7),d=F.useMemo(()=>({cMapUrl:"https://unpkg.com/pdfjs-dist@3.4.120/cmaps/",cMapPacked:!0}),[]),f=F.useCallback(({numPages:A})=>{t(A)},[]),g=F.useCallback(A=>{s(S=>{const x=S+A;return Math.min(Math.max(1,x),c)})},[c]),m=F.useCallback(A=>{const S=A.target.value;l(S)},[]),b=F.useCallback(A=>{A.preventDefault();const S=parseInt(r);S&&S>=1&&S<=c&&s(S),l("")},[r,c]),v=F.useCallback(()=>{const A=document.createElement("a");A.href="./summary.pdf",A.download="summary.pdf",document.body.appendChild(A),A.click(),document.body.removeChild(A)},[]);return et.jsxs(gN,{children:[et.jsx(mN,{children:""}),et.jsx(yN,{children:et.jsxs(bN,{children:[et.jsx(iN,{file:"./summary.pdf",onLoadSuccess:f,loading:et.jsx("div",{children:"..."}),error:et.jsx(LT,{children:"  .    "}),options:d,children:et.jsx(DT,{pageNumber:e,scale:u})}),et.jsx(OT,{pageNumber:e,numPages:c,onPageChange:g,onPageInputChange:m,onPageInputSubmit:b,inputPage:r,onDownload:v})]})})]})}const TN=F.memo(xN),CN=kt.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  color: #ffffff;
  direction: rtl;
`,RN=kt.h1`
  color: #d4af37;
  margin-bottom: 2rem;
`;function MN(){return et.jsxs(CN,{children:[et.jsx(RN,{children:" "}),et.jsx("p",{children:"..."})]})}const LN=[{hebrewName:" ",englishName:"Antica Formula",type:""},{hebrewName:" ",englishName:"Mount Gay",type:""}],DN={drinks:LN},ON=kt.div`
  max-width: 800px;
  margin: 0 auto;
  padding: 1rem 2rem;
  color: #ffffff;
  direction: rtl;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding-top: 1rem;
`,kN=kt.h1`
  color: #d4af37;
  margin-bottom: 2rem;
  text-align: center;
  font-size: 2.5rem;
  text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
`,NN=kt.div`
  font-size: 2.5rem;
  color: #ffffff;
  text-align: center;
  margin: 2rem 0;
  padding: 1rem;
  background: rgba(10, 10, 10, 0.5);
  border-radius: 8px;
  border: 1px solid rgba(212, 175, 55, 0.1);
  backdrop-filter: blur(10px);
  min-width: 300px;
  animation: fadeIn 0.5s ease-in-out;

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
`,PN=kt.div`
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  width: 100%;
  max-width: 800px;
  margin: 2rem 0;
  justify-content: center;
`,FN=kt.button`
  background: ${c=>c.isCorrect?"rgba(46, 204, 113, 0.2)":c.isWrong?"rgba(231, 76, 60, 0.2)":"rgba(212, 175, 55, 0.2)"};
  border: 1px solid ${c=>c.isCorrect?"rgba(46, 204, 113, 0.3)":c.isWrong?"rgba(231, 76, 60, 0.3)":"rgba(212, 175, 55, 0.3)"};
  color: ${c=>c.isCorrect?"#2ecc71":c.isWrong?"#e74c3c":"#d4af37"};
  padding: 0.75rem;
  border-radius: 8px;
  font-size: 1.4rem;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  width: 200px;

  &:hover {
    transform: translateY(-2px);
    background: ${c=>c.isCorrect?"rgba(46, 204, 113, 0.3)":c.isWrong?"rgba(231, 76, 60, 0.3)":"rgba(212, 175, 55, 0.3)"};
  }

  &:disabled {
    cursor: not-allowed;
    opacity: 0.7;
  }
`,HN=kt.div`
  font-size: 1.5rem;
  color: #d4af37;
  margin-bottom: 2rem;
  text-align: center;
`,{drinks:Sg}=DN,zN=[...new Set(Sg.map(c=>c.type))];function IN(){const[c,t]=F.useState(0),[e,s]=F.useState(null),[r,l]=F.useState(0),[u,d]=F.useState(null),[f,g]=F.useState(null),m=Sg[c],b=v=>{e||(s(v),v===m.type?(d(v),l(A=>A+1),setTimeout(()=>{t(A=>(A+1)%Sg.length),s(null),d(null),g(null)},1500)):(g(v),d(m.type),setTimeout(()=>{t(A=>(A+1)%Sg.length),s(null),d(null),g(null)},1500)))};return et.jsxs(ON,{children:[et.jsx(kN,{children:" "}),et.jsxs(HN,{children:[": ",r]}),et.jsxs(NN,{children:[m.hebrewName," - ",m.englishName]}),et.jsx(PN,{children:zN.map(v=>et.jsx(FN,{onClick:()=>b(v),disabled:e!==null,isCorrect:v===m.type&&e!==null,isWrong:e===v&&v!==m.type,children:v},v))})]})}const UN="/Barman/assets/Fernet-Branca-DCT2iXc0.png",BN=kt.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  background-image: url(${UN});
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  pointer-events: none;
`,jN=kt.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    135deg,
    rgba(26, 26, 26, 0.8) 0%,
    rgba(10, 10, 10, 0.95) 100%
  );
  z-index: 0;
  pointer-events: none;
`,GN=kt.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    circle at 50% 50%,
    rgba(212, 175, 55, 0.2) 0%,
    transparent 70%
  );
  z-index: 0;
  pointer-events: none;
`;function qN(){return et.jsxs(et.Fragment,{children:[et.jsx(BN,{}),et.jsx(jN,{}),et.jsx(GN,{})]})}const VN=kt.div`
  min-height: 100vh;
  background-color: transparent;
  color: #d4af37;
  position: relative;
  direction: rtl;
`,XN=kt.nav`
  background-color: rgba(10, 10, 10, 0.7);
  padding: 1rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(212, 175, 55, 0.1);
`,YN=kt.div`
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,$N=kt.div`
  font-size: 1.5rem;
  font-weight: bold;
  color: #d4af37;
  text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    bottom: -5px;
    right: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, #d4af37, transparent);
  }
`,KN=kt.div`
  display: flex;
  gap: 2rem;
`,Ip=kt(S0)`
  color: #d4af37;
  text-decoration: none;
  font-weight: 500;
  transition: all 0.3s ease;
  position: relative;
  padding: 0.5rem 0;

  &::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    width: 0;
    height: 2px;
    background-color: #d4af37;
    transition: width 0.3s ease;
  }

  &:hover {
    color: #ffffff;
    text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);

    &::after {
      width: 100%;
    }
  }
`;function WN(){return et.jsx(_2,{children:et.jsxs(VN,{children:[et.jsx(qN,{}),et.jsx(XN,{children:et.jsxs(YN,{children:[et.jsx($N,{children:" "}),et.jsxs(KN,{children:[et.jsx(Ip,{to:"/",children:""}),et.jsx(Ip,{to:"/summary",children:""}),et.jsx(Ip,{to:"/game",children:""}),et.jsx(Ip,{to:"/contact",children:" "})]})]})}),et.jsxs(JM,{children:[et.jsx(Ah,{path:"/",element:et.jsx(NL,{})}),et.jsx(Ah,{path:"/summary",element:et.jsx(TN,{})}),et.jsx(Ah,{path:"/game",element:et.jsx(IN,{})}),et.jsx(Ah,{path:"/contact",element:et.jsx(MN,{})})]})]})})}lM.createRoot(document.getElementById("root")).render(et.jsx(F.StrictMode,{children:et.jsx(WN,{})}));
